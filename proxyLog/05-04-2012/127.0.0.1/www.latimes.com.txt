Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story HTTP/1.1
Accept: text/html, application/xhtml+xml, */*
Referer: http://news.google.com/nwshp?hl=en&tab=wn
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Content-Type: text/html; charset=UTF-8
X-Instance-Name: i6s28z2n1
Cache-Control: private
Last-Modified: Sat, 05 May 2012 00:36:40 GMT
Content-Length: 33068
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@4dc2753
---Content---






















    
    
        
    

















    

    

    

    

 






    
    
        
    









 


























<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=7"/>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

	
	<meta http-equiv="Content-Language" content="en-US" />
	
	<meta name="date" content="2012-05-04" />
	<meta name="last-modified" content="2012-05-04 17:00:37 PDT" />
	<meta name="author" content="Los Angeles Times" />
	<meta name="copyright" content="Copyright (c) 2012 Los Angeles Times" />
	<meta name="fb_title" content="Defense Secretary Leon Panetta warns troops about misconduct" />
	<meta property="og:title" content="Defense Secretary Leon Panetta warns troops about misconduct"/>
	
	
    <meta property="og:description" content="WASHINGTON &amp;#8212; In a pointed response to images of Marines urinating on corpses and soldiers posing with body parts, Defense Secretary  Leon E. Panetta  appealed to American troops to refrain from misconduct that has complicated the war effort in  Afghanistan ."/>

	<meta property="fb:page_id" content="5863113009" />
	<meta property="fb:admins" content="100000786395051" />
	<meta property="fb:app_id" content="121694484590917" />
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story"/>
    <meta property="og:image" content="http://latimesblogs.latimes.com/fb.jpg"/>
    <meta property="og:site_name" content="latimes.com"/>
	

    <title>Defense Secretary Leon Panetta warns troops about misconduct - latimes.com</title>
	<link rel="start" title="Defense Secretary Leon Panetta warns troops about misconduct - latimes.com" type="text/html" href="http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story" />
    

    





 



<meta name="Description" content="In a pointed response to images of Marines urinating on corpses and soldiers posing with body parts, Defense Secretary Leon E. Panetta appeals to troops to refrain from misconduct that has complicated the war effort in Afghanistan." />
<meta name="y_key" content="cee2fe4077f8d050">
<meta name="msvalidate.01" content="AAC9C18F70AC386BC4DCF4DDF9BF1786">







    
    
    
    
            
    


    
    
    















		<link rel="canonical" href="http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story" />
	
		<meta name="syndication-source" content="http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story" />
	



	

    








   





 

    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="icon" type="image/ico" href="/favicon.ico"/>

	<link href="/hive/stylesheets/reset.css" media="all" rel="stylesheet" type="text/css" />
	<link href="/hive/stylesheets/content.css" media="all" rel="stylesheet" type="text/css" />
	<link href="/hive/stylesheets/footer.css" media="all" rel="stylesheet" type="text/css" />
	<link href="/hive/stylesheets/header.css" media="all" rel="stylesheet" type="text/css" />
	<link href="/hive/stylesheets/common.css" media="all" rel="stylesheet" type="text/css" />
	<link href="/hive/stylesheets/structure.css" media="all" rel="stylesheet" type="text/css" />
	
	
	
	
		<link href="/hive/stylesheets/adv_search.css" media="all" rel="stylesheet" type="text/css">
		
	
	
		<link href="/hive/stylesheets/tugs.css" media="all" rel="stylesheet" type="text/css" />
	
	
  
		
			<link href="/hive/stylesheets/ssor.css" media="all" rel="stylesheet" type="text/css" />
		
	
	
  

<link href="/hive/stylesheets/registration_signin/registration.css" media="all" rel="stylesheet" />

<link href="/stylesheets/market.css" media="all" rel="stylesheet" type="text/css" />



	
	


<!--[if lte IE 6]>
<link href="/hive/stylesheets/ie6-styles.css" media="all" rel="stylesheet" type="text/css" />
<script defer type="text/javascript" src="/hive/javascripts/pngfix.js"></script>
<![endif]-->

<!--[if lte IE 7]>
<link href="/hive/stylesheets/ie7-styles.css" media="all" rel="stylesheet" type="text/css" />
<![endif]-->



    


























































  <script src="/hive/javascripts/jquery-1.6.1.js"></script>
    <script src="/hive/javascripts/trblib.js"></script>
    <script src="/hive/javascripts/jquery-1.3.2.js"></script>
    
    <script>
      jQuery = $;  //rename $ function
    </script>
    <script src="/hive/javascripts/prototype.js"></script>
   	<script src="/hive/javascripts/scriptaculous.js"></script>
    
    <script src="/hive/javascripts/tabinterface.js"></script>
    <script src="/hive/javascripts/AC_RunActiveContent.js"></script>
    <script src="/hive/javascripts/cookies.js"></script>
    <script src="/hive/javascripts/taxonomy-ads.js"></script>
    <script src="/hive/javascripts/windoid.js"></script>
    <script src="/hive/javascripts/menu.js"></script>


    <script src="/hive/javascripts/adv_global.js"></script>



    <script src="/hive/javascripts/tugs.js"></script>



<script>
trblib.ns('trb').data = {
  contentId: '69763909',
  marketCode: 'lanews',
  section: '/news/nationworld/nation'
};
</script>






    
      
    
  
    <script src="/hive/javascripts/jquery.cookies.2.1.0.min.js"></script>
    <script src="/hive/javascripts/xd/xd.core.js"></script>
    <script src="/hive/javascripts/xd/xd.ajax.js"></script>
    <script>
      xd.configure({
          'https://latimes.signon.trb.com':{ 
              sender : 'https://latimes.signon.trb.com/registration/xd/xd_sender.htm',
              receiver : '/hive/common/includes/xd_receiver.html'
          }

          
      });
    </script>
    <script src="/hive/javascripts/signon/carnival.js?v=2012s1"></script>
    <script>
      carnival.init({"hostname":"https://latimes.signon.trb.com","apiKey":"","product":"lanews", "xd":"1", "activateMessages":"true",
  "ssorNavBackgroundColor":"#000000", "ssorModalTextColor":"", "skipNewsletters":"0"
   ,"wsHostname":"/membership/", "captchaType" : "reCaptcha", "ssorSignInLinkUrl":"", "ssorSignUpLinkUrl":"" });
    </script>
    
    












<script type="text/javascript">
            
           ( function(){
                  var hasCaptcha =  'true' || "true";
                    carnival.configuration( 'has_captcha', hasCaptcha );
            })();
            
      
    
</script>

    
  
    <script src="/hive/javascripts/signon/tribbit.js?v=2012s1"></script>
    <script src="/hive/javascripts/signon/ssor.js?v=2012s1"></script>
  
    
  




 


<script src="/hive/javascripts/registration_signin/registration-global.js"></script>
<script>

  registration.manager.config.initialize({
     productCode: "lanews",
     brandingSiteName: "latimes.com",
	 assetHostname:"http://www.latimes.com", 
     registrationHostname: "https://latimes.signon.trb.com",
     themeTextColor:"",
     themeBackgroundColor:"#000000"
     
   });
   
	jQuery( function(){

        jQuery( "#memberLoginInfo" ).html('<div id="ssorNavSignIn"><div id="ssorNavHeader"></div></div>');
	  
		registration.manager.nav = 
			registration.component.navigation.NavigationController.getInstance({
				navigationContainerSelector: "#ssorNavHeader", 
				navigationParams: {
					signUpHandler: function(){

						if ( "/membership/" ){
							window.document.location.href = "/membership/"; 
						} 
						else { 
							carnival.user.resetUser();
							return signon.profile();
						}

					},
					originHost: carnival.configuration( 'originHost' ) || "",
					navigationBackgroundColor: "#000000",
					navigationTextColor: "",
					skipNewsletters: "0",
					userName: carnival.user.getUserName() || ""
				}
		});

	});

 
  
    trblib.require('http://www.tribdss.com/meter/latweb.js', function meteringServiceCallback() {
      trb.meteringService.modalCloseUrl = document.location.href.split('/').slice(0, 3).join('/') + '/about/site/registration/signin_registration.complete?';
    });

  

</script>




  
<script>
  trblib.require('/hive/javascripts/loggingService.js', function loggingServiceCallback() {
    trb.loggingService({
      sn: trb.data.section == '/' ? '' : trb.data.section,
      mc: trb.data.marketCode,
      ref: document.referrer,
      cid: trb.data.contentId && 'P2P-' + trb.data.contentId,
      es: window.carnival && carnival.user.profile().masterId
    });
  });
</script>










    
    
    
    
    



    <script>
      var _sf_startpt = (new Date()).getTime();
    </script>



	 
		
	

    
  
	<script src="/hive/javascripts/articletools.js" type="text/javascript"></script>
    
	
	
	
	
	 
     
    






 
	<script type='text/javascript'>var _sf_startpt=(new Date()).getTime()</script> 








 


 	










	
	









    <style type='text/css'>

div.thumbnail span.credit {
  font-weight: normal !important;
}
div.article div.articlerail ul li.relatedTitle, div.storygallery div.storyGalleryRail ul li.relatedTitle {
  font-size: 12px !important;
}
</style>
        






<script src="http://widget.perfectmarket.com/wwwlatimes/load.js"></script>


</head>
<body class=" ">

<div id="container">
    <div id="branding">
		<div id="masthead">
			














<div id="classified-bar" class="clearfix">
  <div id="classBarNav" > 
	

	

    
	<ul class="classBarNavMember">
      <li id="memberLoginInfo" style="width:220px;"></li>
    </ul>

    <ul class="classBarNavLink">
      <li>
              <a href="http://myaccount2.latimes.com/" name="&lpos=Class&lid=Membership Services"  >Membership Services</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/classified/jobs/" name="&lpos=Class&lid=Jobs"  >Jobs</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/classified/automotive/" name="&lpos=Class&lid=Cars"  >Cars</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/classified/realestate/" name="&lpos=Class&lid=Real Estate"  >Real Estate</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/membership" name="&lpos=Class&lid=Subscribe"  >Subscribe</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/classified/realestate/rentals/" name="&lpos=Class&lid=Rentals"  >Rentals</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/classified/" name="&lpos=Class&lid=Classifieds"  >Classifieds</a>
            </li>
            
          
        
          
            
            
            <li>
              <a href="http://www.latimes.com/custompublishing/" name="&lpos=Class&lid=<span style='color: green'>Custom Publishing</span>"  ><span style='color: green'>Custom Publishing</span></a>
            </li>
            
          
        
          
            
            
            <li class="lastMenuItem">
              <a href="http://www.latimes.com/advertiser/" name="&lpos=Class&lid=Place Ad"  >Place Ad</a>
            </li>
    </ul>

	

  </div>
</div>
 
 
			


























<div id="header" class="clearfix smallLogo">
    <div id="homepageLink"><a href="/" alt="Home" title="latimes.com">&nbsp;</a></div>
    <div id="logo" >
        
            <a href="/" alt="Home" title="latimes.com">
        
        <img src="/images/logoSmall.png" alt="latimes.com" />
        </a>
    </div>
    
    
        <span id="sectionBreadcrumb"><a href="http://www.latimes.com/news/nationworld/nation/">NATION</a></span>
    
    
</div>

			

















<div id="navigation" class="clearfix">
  <div id="layerOne">
	
























    <ul id="root">
        <li class="navLink hideMainNav">
                    
                    
                        <a href="/" class="mainNav" name="&lpos=Main&lid=HOME"  ><span>HOME</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/lanow/" name="&lpos=Sub&lid=Breaking"  >Breaking</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://framework.latimes.com/" name="&lpos=Sub&lid=Photos"  >Photos</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/videogallery/" name="&lpos=Sub&lid=Video"  >Video</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://crime.latimes.com/" name="&lpos=Sub&lid=Crime"  >Crime</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/obituaries/" name="&lpos=Sub&lid=Obituaries"  >Obituaries</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/weather/" name="&lpos=Sub&lid=Weather"  >Weather</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/traffic/" name="&lpos=Sub&lid=Traffic"  >Traffic</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/games/" name="&lpos=Sub&lid=Crosswords"  >Crosswords</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/games/" name="&lpos=Sub&lid=Games"  >Games</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/features/horoscopes/" name="&lpos=Sub&lid=Horoscopes"  >Horoscopes</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/services/site/mobile/" name="&lpos=Sub&lid=Apps"  >Apps</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/news/local/" class="mainNav" name="&lpos=Main&lid=Local"  ><span>Local</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/lanow/" name="&lpos=Sub&lid=L.A. Now"  >L.A. Now</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/local/politics/" name="&lpos=Sub&lid=Politics"  >Politics</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://crime.latimes.com/" name="&lpos=Sub&lid=Crime"  >Crime</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/local/education/" name="&lpos=Sub&lid=Education"  >Education</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/local/orange/" name="&lpos=Sub&lid=O.C."  >O.C.</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/local/westside/" name="&lpos=Sub&lid=Westside"  >Westside</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://projects.latimes.com/mapping-la/neighborhoods/" name="&lpos=Sub&lid=Neighborhoods"  >Neighborhoods</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/science/" name="&lpos=Sub&lid=Environment"  >Environment</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/obituaries/" name="&lpos=Sub&lid=Obituaries"  >Obituaries</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/news/nationworld/nation/" class="mainNav" name="&lpos=Main&lid=U.S."  ><span>U.S.</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/nationworld/nation/politics" name="&lpos=Sub&lid=Politics"  >Politics</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/nation/nationnow/" name="&lpos=Sub&lid=Nation Now"  >Nation Now</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/politics" name="&lpos=Sub&lid=Politics Now"  >Politics Now</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/politics/topoftheticket" name="&lpos=Sub&lid=Top of the Ticket"  >Top of the Ticket</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/science/" name="&lpos=Sub&lid=Science & Environment"  >Science & Environment</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/obituaries/" name="&lpos=Sub&lid=Obituaries"  >Obituaries</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/local/religion/" name="&lpos=Sub&lid=Religion"  >Religion</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/news/nationworld/world/" class="mainNav" name="&lpos=Main&lid=World"  ><span>World</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/world_now/" name="&lpos=Sub&lid=World Now"  >World Now</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/nationworld/world/afghanistan/" name="&lpos=Sub&lid=Afghanistan war"  >Afghanistan war</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/nationworld/world/africa/" name="&lpos=Sub&lid=Africa"  >Africa</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/nationworld/world/latinamerica/" name="&lpos=Sub&lid=Americas"  >Americas</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/nationworld/world/asia/" name="&lpos=Sub&lid=Asia"  >Asia</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/nationworld/world/europe/" name="&lpos=Sub&lid=Europe"  >Europe</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/nationworld/world/middleeast/" name="&lpos=Sub&lid=Middle East"  >Middle East</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/business/" class="mainNav" name="&lpos=Main&lid=Business"  ><span>Business</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/business/money/" name="&lpos=Sub&lid=Money & Co."  >Money & Co.</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/business/technology/" name="&lpos=Sub&lid=Technology"  >Technology</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/business/personalfinance/" name="&lpos=Sub&lid=Personal Finance"  >Personal Finance</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/business/smallbusiness/" name="&lpos=Sub&lid=Small Business"  >Small Business</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/entertainmentnewsbuzz/" name="&lpos=Sub&lid=Company Town"  >Company Town</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/classified/jobs/" name="&lpos=Sub&lid=Jobs"  >Jobs</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/classified/realestate/" name="&lpos=Sub&lid=Real Estate"  >Real Estate</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="shop">
                                            
                                            <a href="http://www.latimes.com/classified/automotive/" name="&lpos=Sub&lid=Cars"  >Cars</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/sports/" class="mainNav" name="&lpos=Main&lid=Sports"  ><span>Sports</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/sports/sportsnow/" name="&lpos=Sub&lid=Sports now"  >Sports now</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/basketball/nba/" name="&lpos=Sub&lid=NBA"  >NBA</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/basketball/nba/lakers/" name="&lpos=Sub&lid=Lakers"  >Lakers</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/basketball/nba/clippers/" name="&lpos=Sub&lid=Clippers"  >Clippers</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/baseball/mlb/dodgers/" name="&lpos=Sub&lid=Dodgers"  >Dodgers</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/baseball/mlb/angels/" name="&lpos=Sub&lid=Angels"  >Angels</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/football/nfl/" name="&lpos=Sub&lid=NFL"  >NFL</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/hockey/nhl/" name="&lpos=Sub&lid=Kings"  >Kings</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/college/usc/" name="&lpos=Sub&lid=USC"  >USC</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/college/ucla/" name="&lpos=Sub&lid=UCLA"  >UCLA</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/highschool/" name="&lpos=Sub&lid=Preps"  >Preps</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/sports/scores/" name="&lpos=Sub&lid=Scores"  >Scores</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/entertainment/news/" class="mainNav" name="&lpos=Main&lid=Entertainment"  ><span>Entertainment</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/entertainment/news/movies" name="&lpos=Sub&lid=Movies"  >Movies</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/entertainment/news/tv/" name="&lpos=Sub&lid=TV"  >TV</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/entertainment/news/music/" name="&lpos=Sub&lid=Music"  >Music</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/entertainment/gossip/" name="&lpos=Sub&lid=Celebrity"  >Celebrity</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/entertainment/news/arts/" name="&lpos=Sub&lid=Arts & Culture"  >Arts & Culture</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/entertainmentnewsbuzz/" name="&lpos=Sub&lid=Industry"  >Industry</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://theenvelope.latimes.com/" name="&lpos=Sub&lid=Awards"  >Awards</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/entertainment/news/calendar/" name="&lpos=Sub&lid=Calendar"  >Calendar</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/features/books/" name="&lpos=Sub&lid=Books"  >Books</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/entertainment/funstuff/comics/" name="&lpos=Sub&lid=Comics"  >Comics</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/health/" class="mainNav" name="&lpos=Main&lid=Health"  ><span>Health</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/health/boostershots/" name="&lpos=Sub&lid=Booster Shots"  >Booster Shots</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/health/medicine/" name="&lpos=Sub&lid=Medicine"  >Medicine</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/health/fitness/" name="&lpos=Sub&lid=Fitness & Nutrition"  >Fitness & Nutrition</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/health/mentalhealth/" name="&lpos=Sub&lid=Mental Health"  >Mental Health</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/health/healthcare/" name="&lpos=Sub&lid=Health Reform"  >Health Reform</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/health/cancer" name="&lpos=Sub&lid=Cancer"  >Cancer</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/health/heart/" name="&lpos=Sub&lid=Heart Health"  >Heart Health</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/features/" class="mainNav" name="&lpos=Main&lid=Living"  ><span>Living</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/home_blog/" name="&lpos=Sub&lid=Home"  >Home</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/features/food/" name="&lpos=Sub&lid=Food"  >Food</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/alltherage/" name="&lpos=Sub&lid=Image"  >Image</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/features/books/" name="&lpos=Sub&lid=Books"  >Books</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/features/parenting/" name="&lpos=Sub&lid=Parenting"  >Parenting</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimesmagazine.com/" name="&lpos=Sub&lid=Magazine"  >Magazine</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/entertainment/funstuff/comics/" name="&lpos=Sub&lid=Comics"  >Comics</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/community/reader-photos/" name="&lpos=Sub&lid=Reader Photos"  >Reader Photos</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/travel/" class="mainNav" name="&lpos=Main&lid=Travel"  ><span>Travel</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/travel/destinations/southerncalifornia/" name="&lpos=Sub&lid=SoCal"  >SoCal</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/california/" name="&lpos=Sub&lid=California"  >California</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/mexico/" name="&lpos=Sub&lid=Mexico"  >Mexico</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/hawaii/" name="&lpos=Sub&lid=Hawaii"  >Hawaii</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/lasvegas/" name="&lpos=Sub&lid=Las Vegas"  >Las Vegas</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/europe/" name="&lpos=Sub&lid=Europe"  >Europe</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/asia/" name="&lpos=Sub&lid=Asia"  >Asia</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/destinations/australiasouthpacific/" name="&lpos=Sub&lid=Australia"  >Australia</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/travel/deals/" name="&lpos=Sub&lid=Travel & Deal Blog"  >Travel & Deal Blog</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink  ">

                    
                    
                        <a href="/news/opinion/" class="mainNav" name="&lpos=Main&lid=Opinion"  ><span>Opinion</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/opinion/editorials/" name="&lpos=Sub&lid=Editorials"  >Editorials</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/opinion/op-ed/" name="&lpos=Sub&lid=Op-Ed"  >Op-Ed</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/opinion/endorsements/" name="&lpos=Sub&lid=Endorsements"  >Endorsements</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="/news/opinion/letters/" name="&lpos=Sub&lid=Letters"  >Letters</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://www.latimes.com/news/opinion/opinion-la/" name="&lpos=Sub&lid=Opinion L.A."  >Opinion L.A.</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li>
                                            
                                            <a href="http://latimesblogs.latimes.com/readers/" name="&lpos=Sub&lid=Readers' Rep"  >Readers' Rep</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>	
                
                
            
                
                    
                    

                        
                        <li class="navLink shop ">

                    
                    
                        <a href="http://offersanddeals.latimes.com/" class="mainNav" name="&lpos=Main&lid=Deals"  ><span>Deals</span></a>
                        <ul class="level2">
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="shop">
                                            
                                            <a href="http://dailydeals.latimes.com" name="&lpos=Sub&lid=Daily Deals"  >Daily Deals</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="shop">
                                            
                                            <a href="http://store.latimes.com" name="&lpos=Sub&lid=LAT Store"  >LAT Store</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="shop">
                                            
                                            <a href="http://fanshop.latimes.com" name="&lpos=Sub&lid=Sports Gear"  >Sports Gear</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="TomPetty">
                                            
                                            <a href="http://www.latimes.com/shopping/travelzoo" name="&lpos=Sub&lid=Travel"  >Travel</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="TomPetty">
                                            
                                            <a href="http://offersanddeals.latimes.com/" name="&lpos=Sub&lid=Offers & Deals"  >Offers & Deals</a>
                                        </li>
                                        
                                    
                                
                                    
                                        
                                        
                                            
                                            
                                                <li class="TomPetty">
                                            
                                            <a href="http://www.latimes.com/classified/genmerch/results.classified?start_date=%3C+today&end_date=&sortfields=graphic+desc%2C+start_date+desc%2C+title&keyword=legal+notices&type=boolean&class=&days=7&date=all" name="&lpos=Sub&lid=Legal Notices"  >Legal Notices</a>
                                        </li>
                                        
                                    
                                
                            </ul>
                        
                    </li>
       
        <li class="navLink hideMainNav">
                    
                    <a href="http://myaccount2.latimes.com/" class="mainNav" name="&lpos=Main&lid=Membership Services"  >Membership Services</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/classified/jobs/" class="mainNav" name="&lpos=Main&lid=Jobs"  >Jobs</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/classified/automotive/" class="mainNav" name="&lpos=Main&lid=Cars"  >Cars</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/classified/realestate/" class="mainNav" name="&lpos=Main&lid=Real Estate"  >Real Estate</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/membership" class="mainNav" name="&lpos=Main&lid=Subscribe"  >Subscribe</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/classified/realestate/rentals/" class="mainNav" name="&lpos=Main&lid=Rentals"  >Rentals</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/classified/" class="mainNav" name="&lpos=Main&lid=Classifieds"  >Classifieds</a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/custompublishing/" class="mainNav" name="&lpos=Main&lid=<span style='color: green'>Custom Publishing</span>"  ><span style='color: green'>Custom Publishing</span></a>
                        
                    </li>	
            
                
            
                
                		 
                <li class="navLink hideMainNav">
                    
                    <a href="http://www.latimes.com/advertiser/" class="mainNav" name="&lpos=Main&lid=Place Ad"  >Place Ad</a>
                        
                    </li>
    </ul>


	
	
        
            <div id="targetWeeklyAd" onclick="window.location.href='/shopping/circular/target';">
                <div id="targetWeeklyAdLogo"><a href="/shopping/circular/target"><img src="/images/target_weekly_ad_animated.gif"/></a></div>
            </div>
        
	
    
  </div> 
</div>
<script type="text/javascript">




  eraseCookie("mainPage");
  createCookie("mainPage","/news/nationworld/nation","1");

  Event.observe("navigation", 'load', menuFix());
  Event.observe("navigation", 'load', tribHover());



</script>
		</div>
        







 
 














 
    
    
    
    

    <div id="hotTopic" class="clearfix">
      <ul class="level1" id="rootTopic">
        <li class="hot-link-begin" style="color:#900;">
          In the News:
        </li>
        <li class="hot-link-1">
                
                
                  <a href="/cinco-de-mayo-itn-sl,0,4844784.storylink" >cinco de mayo</a>
                
              </li>
              
            
          
            
              <li class="hot-link-2">
                
                
                  <a href="/la-super-moon-itn,0,528497.storylink" >Super Moon</a>
                
              </li>
              
            
          
            
              <li class="hot-link-3">
                
                
                  <a href="/adam-yauch-itn-sl,0,1389626.storylink" >Adam 'MCA' Yauch</a>
                
              </li>
              
            
          
            
              <li class="hot-link-4">
                
                
                  <a href="/la-junior-seau-itn,0,2926938.storylink" >Mariano Rivera</a>
                
              </li>
              
            
          
            
              <li class="hot-link-5">
                
                
                  <a href="/la-kentucky-derby-itn,0,5629045.storylink" >Kentucky Derby</a>
                
              </li>
              
            
          
            
              <li class="hot-link-6">
                
                
                  <a href="/la-skylar-laine-itn,0,3813447.storylink" >Skylar Laine</a>
                
              </li>
      </ul>
      
      
		
			
















<style type="text/css">  /*OVERWRITES*/
	.adv_search { background-color: #fff; }
	#adv_search { background-color: #eee; }
	#adv_search .adv_search_head,
	#adv_help .adv_search_head { background-color: #000; }
	#search_overlay { background-color: #eee; }
	#search-results ul.advTabs { background-color: #000; }
	#search-results ul.advTabs li a { background-color: #000; }
	#search-results ul.advTabs li.advCurrTab a { background-color: #fff; color: #000; }
	div.panelTab { background: url("/images/adv_search/adv_panel_bg.png") no-repeat; }
	#adv_keywords_head { background-color: #000; }
	#adv_results .clearfix {display:block;}
</style>
<div id="basicsearch">
	<form class="tribForm" method="get" action="/search/dispatcher.front" onSubmit="javascript:return checkForm(this,'Query')">	
		<ul>
		    <li class="horiz">
		        <input type="text" id="searchText" class="adv_search_input" onblur="if (this.value=='') this.value = 'Search'" onfocus="if (this.value=='Search') this.value = ''" name="Query" value="Search" />
		        <input name="target" value="adv_article" type="hidden" />
		        
		        <input type="submit" class="adv_submit" alt="Search" value="" />
		    </li>
		</ul>
	</form>
</div>
<div id="search_overlay">
    <form class="tribForm" method="get" action="/search/dispatcher.front" onSubmit="javascript:return checkForm(this,'Query')">
        <ul>
            <li class="horiz">
		        <input type="text" id="searchText" maxlength="100" class="adv_search_input" name="Query" />
		        <input name="target" value="adv_article" type="hidden" />
		        
		        <input type="submit" class="adv_submit" alt="Search" value=""/>
		    </li>
		</ul>
    </form>
    <a id="adv_search_open" href="/">Advanced Search</a>
</div>

<div id="adv_search">
    <div class="adv_search_head">
    	<h3>Advanced Search</h3>
    	<a href="/" id="adv_search_close">X</a>
    </div>
    <form class="tribForm" method="get" name="adv_search_form" action="/search/dispatcher.front" onSubmit="return advSearch.checkAdvForm(this);">
		<input type="hidden" id="Query" name="Query" value=""/>
		<input type="hidden" id="date" name="date" value=""/>
		<input type="hidden" id="target" name="target" value="adv_article"/>
		<input type="hidden" name="srchType" value="advSearch"/>
		
	    <ul>
	        <li><label for="include_all">include all of these words: <input type="text" id="include_all" maxlength="100"/></label></li>
	        <li><label for="include_any">include any of these words: <input type="text" id="include_any" maxlength="100"/></label></li>
	        <li><label for="include_exact">include this exact phrase: <input type="text" id="include_exact" maxlength="100"/></label></li>
	        <li><label for="exclude">exclude: <input type="text" id="exclude" maxlength="100"/></label></li>
            
            <li class="fixed_date">
            	<label class="inline"><input type="radio" id="top_date_range_pre" name="range" value="pre" checked="checked" /> Select a date range</label>
				<div id="top_date_range_pre_div">
	            	<select id="date_range_predefined">
	                    <option value="">this week</option>
	                    <option value="" selected="selected">past 30 days</option>
	                    <option value="">past 3 months</option>
	                    <option value="">past year</option>
	                    
	            	</select>
            	</div>
			</li>
            <li class="custom_date">
            	<label><input type="radio" id="top_date_range_cust" name="range" value="cust" /> Create a custom date range</label>
	            <div id="top_date_range_cust_div">
					<label class="inline custom_from">From: <input type="text" id="date_range_custom_from" disabled="disabled" class="inline disabled" /></label>
	            	<label class="inline">To: <input type="text" id="date_range_custom_to" disabled="disabled" class="inline disabled" /></label>
				</div>
            </li>
            <li>
            	<input class="submit" type="submit" value="Search"/>
            </li>
        </ul>
    </form>
</div>

			
		
		    

    </div>

           
        
   </div>



   
	    
	   <div class="ad centerAd topLeaderboard">
			<script language="JavaScript" src="http://ad.doubleclick.net/adj/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=T;dcopt=ist;sz=728x90;tile=1;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" type="text/javascript"></script>
        <noscript><a href="http://ad.doubleclick.net/jump/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=T;sz=728x90;tile=1;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" target="_blank" rel="nofollow"><img src="http://ad.doubleclick.net/ad/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=T;dcopt=ist;sz=728x90;tile=1;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" width="728" height="90" border="0" alt=""></a></noscript>
		</div>
	   
   




	

	

   
   	













    




   


    
<div id="content-rail-wrapper">
      
    <div id="content" class="article">
        
            
                
                
                
                
		
				
                
				

        
        
        
        
        
        
                
                

                
                

                

                
                

                



<div>
 
 </div>
 <div class="clear"></div>

                
                
            
                
            
                
            
                
                				
                

                
				
				
				
                <div class="story">
                    

                    <h1>Defense Secretary Leon Panetta warns troops about misconduct</h1>

                    
                        <h2>Images such as those of soldiers abusing corpses can damage U.S. standing and cost lives, he says at Ft. Benning, Ga.</h2>
                    
					
					<div class="shareTop">



























	
	
	
	
	
	
	
	
	
	

	
	
	
	
	    
	    
	  		
	  		
	  		
			
			
			
			
			
				
				
				
	  			
					
					
					
				
			
		
	

	
		

		
		
			<div class="nextgen-share-tools">
				<ul class="nextgen-left">
				
					
					
					
						<li>
							<a href="/news/nationworld/nation/la-na-panetta-troops-20120505,0,763552,email.story" target="win_69763909" title="email" class="nextGenEmail" onclick="if (window.windoid) windoid('','win_69763909',650,550,'resizable=1,scrollbars=1')">
								<img src="/hive/images/icons/email_icon.png" alt="Email" class="icon"/>
							</a>
						</li>
					
						<li>
							<a href='/news/nationworld/nation/la-na-panetta-troops-20120505,0,431308,print.story' rel="nofollow" title="print" class="nextGenPrint">
								<img src="/hive/images/icons/print_icon.png" alt="print" class="icon" />
							</a>
						</li>
					
	
					
					
						
							<li class="nextgen-comment-count">
								<div class="nextgen-comments-container">
									<div class="nextgen-comments-content">
										<a href="#tugs_story_display">Comments</a>
									</div>
									<div class="nextgen-comments-counter">1</div>
								</div>
							</li>
						
					
				
						
				</ul>
			
				<ul class="nextgen-right">
				
					
					
					
						<li class="nextgen-sharethis-container" style="min-width:110px;">
							<span class="st_sharethis_hcount"></span>
						
		                <script>
		                 trblib.jQuery(function() {
		                  trblib.require('http://w.sharethis.com/button/buttons.js', function() {
		                   stLight.options({
		                     publisher:'4b7449a5-38e2-462a-a6cd-97326133f123',
		                     onhover: false,
		                     newOrZero: 'zero',
		                     embeds:'true'
		                   });
		                  });
		                });
		                </script>
						</li>
					
					
						
					<li>
						<g:plusone size="medium"></g:plusone>
						
						<script type="text/javascript">
						  (function() {
						    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
						    po.src = 'https://apis.google.com/js/plusone.js';
						    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
						  })();
						</script>
					</li>
								
					
					
					
					<li style="width:100px;">
						<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&amp;title=Defense%20Secretary%20Leon%20Panetta%20warns%20troops%20about%20misconduct&amp;text=Defense%20Secretary%20Leon%20Panetta%20warns%20troops%20about%20misconduct" style="width:100px; height:50px;"></iframe>
					</li>
				
					<li>
						<iframe src="http://www.facebook.com/plugins/like.php?href=http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&amp;layout=button_count&amp;show_faces=true&amp;width=135&amp;action=recommend&amp;font&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden;width:135px;height:21px;" allowTransparency="true"></iframe>
					</li>
				
				</ul>
			
				<div class="clear"></div>
			</div>
		
		
		
	

</div>
					
					

                    <div id="story-body" class="articlebody ">
                        
                            




                        
                        
                            <div class="thumbnail" style="width: 600px;">
                                    <div class="holder">
                                        <table cellspacing="0"><tr><td>
                                    <img src="http://www.latimes.com/media/photo/2012-05/69765049.jpg" alt="Defense Secretary Leon E. Panetta" border="0" width="580" height="386" />
                                    
                                    
                                    
                                    

                                    
                                        <p class="small">
                                            Defense Secretary Leon E. Panetta meets soldiers at Ft. Benning, Ga., aftar a speech appealing to troops to refrain from misconduct during combat deployments.
                                                <span class="credit">(<span class="photographer">Mike Haskey, Ledger-Enquirer</span> / <span class="dateMonth">May </span><span class="dateDay">4</span><span class="dateYear">, 2012</span></span>)
                                        </p>
                                    
                                    
                                        </td></tr></table>
                                    </div>
                                </div>
                        
						
						
                        
                        
                        

                        
                                <div class="articlerail">
									<div class="articleRelates module">
    <script type="text/javascript">
      function showExtras(elm, link, text){
        var obj = $(elm);
        var link = $(link);
        var elmTop = (obj.getHeight() + 10) * (-1);
        if(obj.style.display == 'none'){
          obj.style.top = elmTop + "px";
          link.innerHTML = 'Hide more ' + text + ' &raquo;';
          new Effect.Parallel([
            new Effect.Move(obj, { sync: true, x: link.getWidth(), y: (obj.getHeight() + 10) * (-1), mode: 'absolute' }),
            new Effect.AppearItems(obj, { sync: true, from: 0, to: 1})
          ], { duration: 1 });
        } else {
          new Effect.Parallel([
            new Effect.Move(obj, { sync: true, x: link.getWidth() * (-1), y: 0, mode: 'absoulte' }),
            new Effect.FadeItems(obj, { sync: true, from: 1, to: 0 })
          ], { duration: 1 });
          link.innerHTML = 'See more ' + text + ' &raquo;';
        }
      }
      // These are customized methods b/c the scriptaculous ones where throwing error. These should be re-evaluated at a later date.
      Effect.FadeItems = function(element) {
        element = $(element);
        var oldOpacity = 0;
        var options = Object.extend({
          from: element.getOpacity() || 1.0,
          to:   0.0,
          afterFinishInternal: function(effect) {
            if (effect.options.to!=0) return;
            effect.element.hide().setStyle({opacity: oldOpacity});
            }
        }, arguments[1] || { });
        return new Effect.Opacity(element,options);
      };
      Effect.AppearItems = function(element) {
        element = $(element);
        var options = Object.extend({
          from: (element.getStyle('display') == 'none' ? 0.0 : element.getOpacity() || 0.0),
          to:   1.0,
          // force Safari to render floated elements properly
          afterFinishInternal: function(effect) {
            if(Prototype.Browser.WebKit) {
              effect.element.forceRerendering();
            }
          },
          beforeSetup: function(effect) {
            effect.element.setOpacity(effect.options.from).show();
        }}, arguments[1] || { });
        return new Effect.Opacity(element,options);
      };
    </script>

    <ul>
      

      

      
        




























<li class="relatedTitle" style="float: none;">Also</li>
				
			
			
			
			
				
					
					
					
						
							<li class="newRelatedItem">
								
									<a href="/news/nation/nationnow/la-na-nn-maharaj-chat-20120418,0,5438409.story" target=""><img src="http://www.trbimg.com/img-4f8f592e/turbine/la-na-nn-maharaj-chat-20120418/187/16x9" alt="Times explains use of photos of U.S. soldiers, body parts" width="186" height="105" /></a>
								
								
								
								
									<a href="/news/nation/nationnow/la-na-nn-maharaj-chat-20120418,0,5438409.story" target=""><span></span>Times explains use of photos of U.S. soldiers, body parts</a>
								
								
							</li>
						
					
				
			
		
		
		
	
		
		
		
		
		
			
			
			
			
				
					
					
					
						
							<li class="newRelatedItem">
								
									<a href="http://www.latimes.com/news/nationworld/nation/la-na-afghan-photos-20120419,0,5098138.story" target=""><img src="http://www.trbimg.com/img-4fa430d8/turbine/la-photos-of-us-soldiers-posing-with-afghan-corpses-prompt-condemnation-20120504/187/16x9" alt="Photos of U.S. soldiers posing with Afghan corpses prompt condemnation
" width="187" height="105" /></a>
								
								
								
								
								
									<a href="http://www.latimes.com/news/nationworld/nation/la-na-afghan-photos-20120419,0,5098138.story" target=""><span></span>Photos of U.S. soldiers posing with Afghan corpses prompt condemnation
</a>
								
							</li>
						
					
				
			
		
		
		
	
		
		
		
		
		
			
			
			
			
				
					
					
					
						
							<li class="newRelatedItem">
								
									<a href="/news/nationworld/nation/la-na-afghan-photos-20120418,0,5032601.story" target=""><img src="http://www.trbimg.com/img-4fa42f68/turbine/la-na-afghan-photos-20120418/187/16x9" alt="U.S. troops posed with body parts of Afghan bombers" width="187" height="105" /></a>
								
								
								
								
									<a href="/news/nationworld/nation/la-na-afghan-photos-20120418,0,5032601.story" target=""><span></span>U.S. troops posed with body parts of Afghan bombers</a>
								
								
							</li>



      
        
        

        
      
      
    </ul>
  </div>
								</div>
                                
                        
                        
						

                        
                        
                            
                            <span class="toolSet" style="width: 335px;">
                        
                                
                                    <div class="byline">
                                        
                                            <span class="byline">By Brian Bennett</span>
                                        

                                        

                                        
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                                    
                                                    
                                                
                                                        
                                                    
                                            <p class="date"><span class="dateString">May 4, 2012</span><span class="dateTimeSeparator">, </span><span class="timeString">5:00 p.m.</span></p>
                                        
                                    </div>
                                
								
                                <div class="clear"></div>
                            </span>
                            
                            
                            <div id="story-body-text">
								
								
								
								
								
									
                                        
                                        WASHINGTON &#8212; In a pointed response to images of Marines urinating on corpses and soldiers posing with body parts, Defense Secretary <a class="taxInlineTagLink" id="PEPLT00008422" title="Leon Panetta" href="/topic/politics/government/leon-panetta-PEPLT00008422.topic">Leon E. Panetta</a> appealed to American troops to refrain from misconduct that has complicated the war effort in <a class="taxInlineTagLink" id="PLGEO00000021" title="Afghanistan" href="/topic/intl/afghanistan-PLGEO00000021.topic">Afghanistan</a>.<br>
<br>
Panetta, speaking Friday to an Army brigade at Ft. Benning, Ga., was blunt in his assessment of the breakdown of discipline within the ranks, saying these incidents "show a lack of judgment, a lack of professionalism and a lack of leadership."<br>
<br>
										
                                        
                                        
                                        He reminded the troops that they  represent the American people and must live up to strict military standards.<br>
<br>
"These days it takes only seconds &#8212; seconds for a picture, a photo, to suddenly become an international headline," Panetta said, standing in front of one of the most battle-hardened units in <a class="taxInlineTagLink" id="ORGOV0000126141142" title="U.S. Army" href="/topic/unrest-conflicts-war/defense/u.s.-army-ORGOV0000126141142.topic">the Army</a>, the "Hammer Brigade" of the 3rd Infantry Division. The unit served four tours in Iraq and is preparing to deploy to Afghanistan.<br>
<br>
"And those headlines can impact the mission that we're engaged in. They can put your fellow service members at risk. They can hurt morale. They can damage our standing in the world, and they can cost lives," Panetta said.<br>
<br>
Panetta's admonition is part of a broader effort by military commanders to tighten discipline in the Army and Marine Corps. It follows revelations over the past four months of disturbing conduct by U.S. troops that played into Taliban propaganda and strained relations with Afghanistan's president, <a class="taxInlineTagLink" id="PEHST001057" title="Hamid Karzai" href="/topic/politics/government/hamid-karzai-PEHST001057.topic">Hamid Karzai</a>.<br>
<br>
Last month, The Times reported that soldiers serving with the 82nd Airborne Division in Afghanistan in 2010 posed with the body parts of suicide bombers. The Times published a photograph showing soldiers standing with Afghan police who were holding up dismembered legs and another showing a soldier with a dead insurgent's hand on his shoulder.<br>
<br>
The photographs were among 18 provided to The Times by a soldier who said he hoped that publication would call attention to what he described as a lack of discipline and leadership in the unit that he felt had compromised soldiers' safety.<br>
<br>
In February, U.S. troops burned copies of the Koran at a base in Afghanistan. The incident, apparently the result of a miscommunication, inflamed emotions in the country and sparked more than a week of deadly riots. In January, a video became public that showed Marines urinating on the bodies of Afghan insurgents.<br>
<br>
U.S. officials have denounced the conduct, and Panetta has promised that the individuals involved would be held accountable.<br>
<br>
Army commanders around the country have met with junior officers to emphasize their responsibility to enforce standards of discipline. The Marine Corps may require every unit not in combat to take courses on ethics and conduct one day later this month.<br>
<br>
In March,  Marine Corps Commandant Gen. James Amos sent a letter to his commanders saying that recent incidents have "brought discredit on the Marine Corps."<br>
<br>
"This conduct is particularly troubling in that it portends a lack of discipline and accountability by Marines; we are allowing our standards to erode," he wrote.<br>
<br>
Panetta, who had trained in the slippery red mud at Ft. Benning as an Army lieutenant in 1964, told the auditorium full of men and women in uniform that the troubling incidents "represent a very, very small percentage of the great work that our men and women do every day across the world."<br>
<br>
"They concern us because our enemies will seek to turn these incidents in their favor," he said.<br>
<br>
<i><a href="mailto:brian.bennett@latimes.com">brian.bennett@latimes.com</a></i>
									
								
								
							</div>
                            <script type="text/javascript">textSize()</script>
                        </div>
                        
                        <div id="subFooter" class="clearfix">
							
								<p class="copyright">Copyright &copy; 2012, <a href="http://www.latimes.com/" target="_blank">Los Angeles Times</a></p>
							
						
							
						</div>
                        
                        
                            




                        
                        
                    	
                        	


 


                        
                        
                        <div class="shareBtm">



























	
	
	
	
	
	
	
	
	
	

	
	
	
	
	    
	    
	

	
		

		
		
			<div class="nextgen-share-tools">
				<ul class="nextgen-left">
				
					
					
					
						<li>
							<a href="/news/nationworld/nation/la-na-panetta-troops-20120505,0,763552,email.story" target="win_69763909" title="email" class="nextGenEmail" onclick="if (window.windoid) windoid('','win_69763909',650,550,'resizable=1,scrollbars=1')">
								<img src="/hive/images/icons/email_icon.png" alt="Email" class="icon"/>
							</a>
						</li>
					
						<li>
							<a href='/news/nationworld/nation/la-na-panetta-troops-20120505,0,431308,print.story' rel="nofollow" title="print" class="nextGenPrint">
								<img src="/hive/images/icons/print_icon.png" alt="print" class="icon" />
							</a>
						</li>
					
	
					
					
						
							<li class="nextgen-comment-count">
								<div class="nextgen-comments-container">
									<div class="nextgen-comments-content">
										<a href="#tugs_story_display">Comments</a>
									</div>
									<div class="nextgen-comments-counter">1</div>
								</div>
							</li>
						
					
				
						
				</ul>
			
				<ul class="nextgen-right">
				
					
					
					
						<li class="nextgen-sharethis-container" style="min-width:110px;">
							<span class="st_sharethis_hcount"></span>
						
		                <script>
		                 trblib.jQuery(function() {
		                  trblib.require('http://w.sharethis.com/button/buttons.js', function() {
		                   stLight.options({
		                     publisher:'4b7449a5-38e2-462a-a6cd-97326133f123',
		                     onhover: false,
		                     newOrZero: 'zero',
		                     embeds:'true'
		                   });
		                  });
		                });
		                </script>
						</li>
					
					
						
					<li>
						<g:plusone size="medium"></g:plusone>
						
						<script type="text/javascript">
						  (function() {
						    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
						    po.src = 'https://apis.google.com/js/plusone.js';
						    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
						  })();
						</script>
					</li>
								
					
					
					
					<li style="width:100px;">
						<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&amp;title=Defense%20Secretary%20Leon%20Panetta%20warns%20troops%20about%20misconduct&amp;text=Defense%20Secretary%20Leon%20Panetta%20warns%20troops%20about%20misconduct" style="width:100px; height:50px;"></iframe>
					</li>
				
					<li>
						<iframe src="http://www.facebook.com/plugins/like.php?href=http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&amp;layout=button_count&amp;show_faces=true&amp;width=135&amp;action=recommend&amp;font&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden;width:135px;height:21px;" allowTransparency="true"></iframe>
					</li>
				
				</ul>
			
				<div class="clear"></div>
			</div>
		
		
		
	

</div>
					
						








  














  
  
  

  

  
  




  



                        
                        
                        
                       
                         
 	                        
							
								<img src="http://mv2.trb.com/clear.gif?dname=www.latimes.com&uri=/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&tag=/news/nationworld/nation&citype=story&title=Defense%20Secretary%20Leon%20Panetta%20warns%20troops%20about%20misconduct&hkey=be9f4fb46347424e65ef3ecb8dab2a29" alt="" height="10" width="10" />
							
						

                        
                            <div class="outbrainTools">






 

 

	<div>
	 <script type="text/javascript" language="JavaScript">
	    var site="";
		var obt="tribune";
		var obwid = 'AR_1';
		var obwidPhoto = 'AR_2'; 
		
	
	
	
	
	
	site = "latimes";obt = "latimes"; obwid = 'AR_3'; obwidPhoto = 'AR_3'; 
	
	

		if(obt=="localtv") {address="http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story";}
		else if(site=="") {address=document.location.href;}
		else {address="http://www."+site+".com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story";}
		var OB_permalink= address;
		var OB_widgetId= obwid;
		var OB_Template = obt;
		var OB_langJS ='http://widgets.outbrain.com/lang_en.js';
		if ( typeof(OB_Script)!='undefined' )
		OutbrainStart();
		else
		{
		var OB_Script = true;
		var str = "<script src='http://widgets.outbrain.com/outbrainWidget.js' type='text/javascript'></"+"script>"
		document.write(str);
		}
	 </script> 
	</div>
  

 
<div class="fullSpan">&nbsp;</div></div>
                        
                    
                        

                    
					
					













					
					
			        <div id="gallery-subcontent" class="module">
			            
			            

















<script language="javascript" src="/hive/javascripts/ugc/ugc.js" type="text/javascript"></script>
<meta http-equiv="Pragma" content="no-cache" /><meta http-equiv="Expires" content="0" /><meta http-equiv="Cache-Control" content="no-cache" />


<a name="comment-form" id="comment-form" ></a>
   <div id="comment-group">
      <div id="commentPost">
                            
                   
                    


























 


  
         
	   
          
	  
	  
	  
	      

	  

</div>
</div>

<div class="clear"></div>
<!-- new display -->
<div id="tugs_story_display">
	<div id="tugs_head">
		<h3>Comments (1)</h3>
		<span id="discussionsLink"><a href="http://discussions.latimes.com/20/lanews/la-na-panetta-troops-20120505/10">Add / View comments</a> | <a href="http://latimes.com/discuss-faq">Discussion FAQ</a></span>
	</div>
	
	<div id="tugs_comment_list">
		
		
			
			
				<div class="comment last">
			
				
            	<span class="comment-info">
					
                 	
                 	
                 	
                    <b>elpalmeria</b> at 5:09 PM May 04, 2012
					
					
                </span><p>Too little, too late. What a tool.</p>
            </div>
			
		
		
	</div>
	<div id="tugs_bottom">
		
	</div>
	<div id="tugs_footer"></div>
</div>

<div id="ugcGuidelines">

</div>



			        </div>
				  
					
					
 






					


 



                </div>
                
            
        
        


<div id="content-bottom" class="full">
    
        














        
            

            

            
                <div class="module blurb ">
                    <div style="margin-bottom: 18px; padding: 0px 56px 22px 66px; font-style: italic; font-size: 12px;">

<div id="message-guidelines">
Comments are filtered for language and registration is required. The Times makes no guarantee of comments' factual accuracy. Readers may report inappropriate comments by clicking the Report Abuse link next to a comment. Here are the full <a href="http://www.latimes.com/services/site/lat-terms,0,6713384.htmlstory">legal terms</a> you agree to by using this comment form.
</div>
</div>


                </div>
            
            
			
			
			
						
            

        


    
</div>

    </div>
    

 





















<div id="rail" class="narrow">
	
		







<!-- P2P shared content module: pulling in contents of "tribbit-content-rightrailtop" dropzone from lanews, / -->

    














        
            

            

            
                <div class="module blurb ">
                    <style type="text/css">
.classifiedAdLabel{color:#000;font-size-adjust:none;font-stretch:normal;letter-spacing:1px;text-transform:lowercase;position:relative;left:38%;top:-16px;font:normal normal 400 10px 10px Arial,Helvetica,sans-serif}#main_background{height:104px;border:1px solid #BCB9B9;width:334px;font-size:11px;margin-bottom:20px;font-weight:700}#main_background img{width:27px;height:27px;border:0;padding:2px
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@2a0406c4
---Content---
}ul#root li a.mainNav span{padding-bottom:12px}#ssorNavHeader{background-color:transparent !important;padding-top:12px !important}div#classBarNav #ssorNavSignIn span,div#classBarNav #ssorNavSignIn a{background-color:transparent !important;color:#000 !important}div#classBarNav #ssorNavSignIn span.link,div#classBarNav #ssorNavSignIn a,table.connect_widget_button_count_summary{background-color:transparent !important}#ssorMiniModal{background-color:#fff !important;border:2px solid #000}#ssorNavSignIn a#carnivalModalClose span.carnivalCloseButton{color:#fff !important}#ssorNavSignIn.loggedIn .userName{background:url(http://www.latimes.com/extras/ssor_down_arrow.png) no-repeat 0 2px}input#search_where{color:#666;margin-right:3px;padding:4px 4px 3px;width:208px;font-size:10px;margin-bottom:6px}input#search_what{color:#666;margin-right:3px;padding:4px 4px 3px;width:208px;font-size:10px}#dates div{font-size:16px;font-weight:700;border:1px solid #000;float:left;width:20px;padding:5px;margin-right:11px;text-align:center;height:20px}#dates div a:hover{padding:5px;color:#fff;background-color:#000;font-size:16px;border:1px solid #000;float:left;width:20px;margin-right:11px;text-align:center;height:20px;position:relative;bottom:6px;right:6px;text-decoration:none}.goButton{text-transform:uppercase;font-size:10px;padding:3px 2px 2px}.font12{font-size:12px}.font13{font-size:13px}.font15{font-size:15px}.font16{font-size:16px}.font17{font-size:17px}.font18{font-size:18px}.font20{font-size:20px}.font22{font-size:22px}.font21{font-size:21px}.what_where{text-transform:uppercase;font-size:11px}.example,.font11{font-size:11px}#toolTip{position:absolute;padding:8px 5px 10px;color:#000;width:300px;border-top:1px solid #000;background-color:#FFF !important;border-bottom:2px solid #000;border-left:2px solid #000;border-right:2px solid #000;font-weight:700;line-height:16px;font-family:helvetica,arial sans-serif;font-size:12px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;-moz-border-radius-bottomright:5px;height:29px}#tooltipPlace{width:100px}div.module.headlines.daily-deals.defaultHeadlines.headColumn1 div.headlineItem.rightHeadlinePos{padding:10px;background-color:#f3f2e0;border:1px solid #ddd}div.module.headlines.daily-deals.defaultHeadlines .rightHeadlinePos img.headlineThumb{background-color:#f0630f;padding:3px}div.module.headlines.daily-deals.defaultHeadlines .rightHeadlinePos h2{display:block !important;padding-left:120px;background:url('http://www.latimes.com/includes/dailydeals/tri.gif') 106px 50% no-repeat;margin-top:5px}*div.module.headlines.daily-deals.defaultHeadlines .rightHeadlinePos h2{zoom:1;padding-left:14px;background-position:center left;margin-top:5px}*div.module.headlines.daily-deals.defaultHeadlines .rightHeadlinePos h2 a{zoom:1}div.module.headlines.daily-deals.defaultHeadlines h2.title{border:none}div.module.headlines.daily-deals.defaultHeadlines .headline a{background-color:transparent}div.tabModuleContainer.three-tabs-new{padding-bottom:20px;margin-bottom:0;height:375px;overflow:hidden;border-left:1px solid #9d9d9d;border-right:1px solid #9d9d9d}div.tabModuleContainer div.tabs{background-color:#000}ul.tabModule li.tab{background-color:#000 !important;padding:0 8px;border-left:1px solid #fff}ul.tabModule li.tab:first-child{border-left:0}ul.tabModule li.tab a{color:#fff;font-family:Georgia, "Times New Roman", Times, serif;text-transform:none;font-size:15px}ul.tabModule li.curTab{background-color:#fff !important;border-right:1px solid #fff}ul.tabModule li.curTab a{color:#000}div.latest-footer{width:336px;color:#fff;text-align:right;margin-bottom:20px;height:23px;background:url('http://www.latimes.com/media/thumbnails/blurb/2009-10/49854930-14144442-33623.jpg') 0 0 no-repeat}div.tabModuleContainer.three-tabs-new div.headlines a,.font14{font-size:14px}div.tabModuleContainer.three-tabs-new ul.feedMasherList span{display:inline}div.tabModuleContainer.three-tabs-new ul.feedMasherList span.publishDate,div.tabModuleContainer.three-tabs ul.feedMasherList span.feedSourcetitle{font-size:12px;color:#9d9d9d}div.tabModuleContainer.three-tabs-new div.newContent.two.clearfix div.feedMashup,div.tabModuleContainer.three-tabs-new div.feedMashup{width:320px}.mviewed .publishDate{visibility:visible}ul#root li ul.level2 li.TomPetty a:hover{color:green}#fb-recommend{border:1px solid #DDD;padding:14px 10px 18px 16px;margin-bottom:20px}#fb-title-holder{font-size:16px;margin-bottom:10px}#fb-title-holder div.title{float:left; padding-top:3px;}#fb-title-holder div.like-button{position:relative;left:10px;top:2px}#fb-title-holder iframe{border:none;overflow:hidden;width:100px;height:21px}#fb-recommend-list{width:292px;height:150px;overflow-y:scroll;overflow-x:hidden}#fb-recommend-list div{width:290px;height:450px}#fb-recommend-list iframe{border:none;overflow:hidden;width:280px;height:450px}div#premiumVideo-player-container div#videoHeader,div.tabModuleContainer.three-tabs-new div.feedMashup div.rssHeader h2{display:none}

/* Videogallery styles AE 11-28-2011 */
div.premiumVideo.module h2.headline {font-size:20px;}

/*Campaign 2012 nav PO 1/20/2012 */
#campaignNav { background-image:url('http://www.latimes.com/media/graphic/2012-01/67514121.jpg') ; background-repeat:no-repeat; height: 26px; width: 980px; color: #ffffff; font-family: arial,sans-serif; font-size: 14px; font-decoration: none; margin-top: 20px; margin-bottom: 20px; }
#campaignNav a:link, #campaignNav a:visited { text-decoration: none; color: #ffffff; }
#campaignNav a:hover { text-decoration: underline; }

/*Place Ad link styles PO 5/1/2012 */
div#classBarNav ul.classBarNavLink li.lastMenuItem { background-color: #000000;  border: 1px solid #000000; border-radius:12px 12px 12px 12px / 80px 80px 80px 80px; padding: 2px; position: relative; bottom: 4px; }
div#classBarNav ul.classBarNavLink li.lastMenuItem a {color: #ffffff; background-color: #000000; }

</style>


                </div>
            
            
			
			
			
						
            

        



    














        
            

            

            
                <div class="module blurb ">
                    <style type="text/css">
#gallery-slideshow #photo-information #pgCaption{font-size:14px;line-height:18px;margin-top:6px}#photo-information h3,div#photo-information h1{font-weight:700;font-size:16px}.gallery-slideshow-photo{width:auto;height:auto;max-width:630px}div.module.headlines.incase-box-new{background-image:url('http://www.latimes.com/media/photo/2011-05/61857325.png');background-repeat:no-repeat;margin-bottom:20px;width:334px;padding-top:45px;border-bottom:0 solid #ccc}div.module.headlines.incase-box-new div:first-child{border:1px solid #ccc}div.module.headlines.incase-box-new img.headlineThumb{width:150px !important;height:84px !important}div.module.headlines.incase-box-new div.headlineItem.rightHeadlinePos.briefRight.lines{margin:0 10px 10px;padding-bottom:0;padding-top:10px;border-top:1px dotted #ccc;border-bottom:0}#topRightNarrow div.titleContainer+div.headlineItem.rightHeadlinePos.briefRight.lines,#rail div.titleContainer+div.headlineItem.rightHeadlinePos.briefRight.lines{border-top:none;padding-top:0}div.module.headlines.incase-box-new div.headlineItem.rightHeadlinePos.briefRight.lines:first-child{border:none}#rail #stockquotes div.module{border:2px solid #BCB9B9;padding:6px}#stockquotes #markets #datetime{width:307px;font-style:italic;font-size:11px;padding-bottom:4px}#stockquotes #markets #spx,#stockquotes #markets #comp,#stockquotes #markets #indu{width:305px}#stockquotes #markets #spx .negChange,#stockquotes #markets #spx .posChange,#stockquotes #markets #spx .company+.last,#stockquotes #markets #comp .negChange,#stockquotes #markets #comp .posChange,#stockquotes #markets #comp .company+.last,#stockquotes #markets #indu .negChange,#stockquotes #markets #indu .posChange,#stockquotes #markets #indu .company+.last{font-size:13px;font-weight:700}#rail #stockquotes #quote,.narrow #stockquotes #quote{width:304px;background-color:#fff;border:0}#rail #stockquotes .company,.narrow #stockquotes .company{font-size:13px}#rail #stockquotes #quote-label,.narrow #stockquotes #quote-label,#gallery-slideshow #photo-information{font-size:12px}#stockquotes{border:2px solid #ddd;padding-left:6px;padding-right:6px;text-align:center;padding-top:10px}#rail #stockquotes #quote-input,.narrow #stockquotes #quote-input{width:209px}#rail #stockquotes #quote,.narrow #stockquotes #quote{padding:5px 5px 5px 10px;text-align:left}#stockquotes #quote form{width:304px;padding-left:0}#stockquotes #quote-submit{zoom:1;vertical-align:middle}.feed-module-special{margin-top:10px;padding:8px;width:180px !important}#feed-top{background-color:#fff;position:relative;bottom:14px;right:14px;z-index:100;padding-bottom:8px}#feed-hed{font-size:20px}#feed-sub{font-size:12px;font-style:italic;position:relative;left:10px;text-transform:none}.classifiedAdRail.defaultHeadlines .headlineItem,#headlineContainer,.classifiedAdRail #headlineContainer .mainHeadline,.classifiedAdRail.mainSlideDetailsContents,.classifiedAdRail#leadcontent-bigstory{padding-right:10px}.classifiedAdRail .aboveHeadlinePos{margin-left:10px;padding-bottom:0;margin-bottom:0}.classifiedAdRail img.headlineThumb{padding-bottom:6px;padding-left:6px}.classifiedAdRail .titleContainer .title{border-bottom:0 solid #DDD;border-top:0 solid #000;background-color:#efefef;margin:1px;padding:0 !important 10px 0 6px}.classifiedAdRail .titleContainer .title .header{position:relative;top:-6px}.classifiedAdRail .sectionlink-head{margin-top:6px;margin-bottom:6px;margin-left:11px}.classifiedAdRail{border:1px solid #ddd}.classifiedAdRail .headlineTable{margin-right:6px;padding-left:6px;padding-right:6px}.rr_promo-box{padding:10px;margin-bottom:15px !important;border:2px solid #ddd !important}.rr_promo-header{font-size:24px;margin-bottom:5px}.rr_promo-text{margin-top:10px}.rr_promo-span{width:312px;height:105px}.rr_promo-lft{width:187px;height:105px;float:left;margin-right:10px}.rr_promo-rt{width:187px;height:105px;float:right;margin-left:10px}.more-sports .title { font-size: 18px; }.more-sports #promoheader { float: left; padding-right: 8px; }.more-sports #promoheader h2 {font-size: 22px; }.more-sports { margin-top: 2px; margin-bottom: 2px; border-top: 2px double #000000; border-bottom: 2px solid #000000;padding-left: 3px; padding-bottom: 6px; }#promoheader h2 { font-size: 24px; margin-bottom: 7px; margin-top: 2px;}.more-sports #textarea {padding-bottom: 0px; font-size: 16px; padding-top: 5px; }
.more-sports #textarea input { font-size:10px; padding:3px 2px 2px; }blockquote.quote{font-size:24px;width:245px;float:left;padding:20px 20px 20px 25px;margin:10px 10px 10px 0;border-top:3px solid #000;border-bottom:3px solid #000;background:url(http://www.latimes.com/media/graphic/2011-07/63504926.png) no-repeat 0 22px;line-height:1.3em}blockquote.no-quote{font-size:24px;width:245px;float:left;padding:20px;margin:10px 10px 10px 0;border-top:3px solid #000;border-bottom:3px solid #000;line-height:1.3em}div#message-guidelines a {color:#2262cc;}
/* Make vertical photos clickable AE 12-12-2011 */
div.article div#story-body div.thumbnail {position:relative; z-index:1000;}


/* ELEX HEADER JQUERY PO 1-21-2012 */
#campaignNav { background-image:url('http://www.latimes.com/media/graphic/2012-01/67514121.jpg') ; background-repeat:no-repeat; height: 26px; width: 980px; color: #ffffff; font-family: arial,sans-serif; font-size: 14px; font-decoration: none; margin-top: 20px; margin-bottom: 20px; }
#campaignNav a:link, #campaignNav a:visited { text-decoration: none; color: #ffffff; }
#campaignNav a:hover { text-decoration: underline; }

/* MORE SPORTS FIX AE 3-27-2012 */
.more-sports #textarea select {width:150px;}

/* Columnist deckheadline fix AE 4-23-2012 */ 
div.article#content p.subhead {margin-bottom: 5px; padding-top: 2px; font-size: 12px; text-transform: uppercase;}

</style>


<script type="text/javascript">	
jQuery('ul.classBarNavLink').prepend('<li id="tooltipPlace"><a class="toolTip" rel="Follow us on Facebook. Click Like, and we&#39;ll send top stories and features to your News Feed."><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Flatimes&amp;layout=button_count&amp;show_faces=false&amp;width=100&amp;action=like&amp;font&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:21px; z-index: 2137483604;  position: relative; top: -4px; left: -10px; margin-bottom: -6px;" allowTransparency="true"></iframe></a></li>')

function mouseoverActiontooltip(event)
{
jQuery(".toolTip").before("<p id='toolTip'>"+ this.rel + "</p>");
jQuery("#toolTip").css("z-index", "2137483608");
jQuery("#toolTip").css("_margin-left", "-60px");
jQuery("#toolTip").css("margin-left", "-10px");
jQuery("#toolTip").css("margin-top", "21px");
}

function mouseoutActiontooltip(event)
{
jQuery("#toolTip").remove();
}

jQuery('.toolTip').bind('mouseover', mouseoverActiontooltip);
jQuery('.toolTip').bind('mouseout', mouseoutActiontooltip);

jQuery(document).ready(function(){
	// grab the headline of the first related item
	var testHeadline = jQuery('li.newRelatedItem:first a').text();
	// test to see if the headline begins with 'Photos:', linking to a photo gallery
	if (testHeadline.indexOf('Photos:') !== -1) {
		// if true, grab the link
		var galleryLink = jQuery('li.newRelatedItem:first a').attr('href');	
		jQuery('div.holder').append('<p class="photoLink small" style="margin-top:5px; float:right; text-align:right; max-width:300px;"><a style="color:#2262cc;" title="' + testHeadline + '" href="' + galleryLink + '"><img style="display:inline; padding-right:3px; margin-bottom:-1px;" src="http://www.latimes.com/media/graphic/2012-01/67488150.gif" />Related photos &raquo;</a></p>')
		jQuery('div.holder img').wrap('<a href="' + galleryLink + '" title="' + testHeadline + '" />');
	}
});
</script>
                </div>
            
            
			
			
			
						
            

        



    














        
            

            

            
                <div class="module blurb ">
                    <div id="fb-recommend">
<div id="fb-title-holder">
<div class="title"><a href="http://www.facebook.com/latimes">Recommended on Facebook</a></div> 
<div class="like-button">
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com/latimes&amp;layout=button_count&amp;show_faces=false&amp;width=100&amp;action=like&amp;font=verdana&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
</div>
</div>

<div style="width: 292px; height: 180px; overflow-y: scroll; overflow-x: hidden;">

<div style="width: 290px; height: 410px; ">
<iframe src="http://www.facebook.com/plugins/recommendations.php?site=http%3A%2F%2Fwww.latimes.com%2C+http%3A%2F%2Flatimesblogs.latimes.com&amp;width=280&amp;height=450&amp;header=false&amp;colorscheme=light&amp;font=verdana&amp;border_color=%23ffffff&amp;max_age=3&amp;action=recommend" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow: hidden; width:280px; height:410px;"></iframe>
</div>
</div>

</div>


                </div>
            
            
			
			
			
						
            

        






	
	<div class="clear"></div>
	 
    <table class="cubeAd">
        <tr><td class="adLabel">Advertisement</td></tr>
    	<tr>
    		<td vAlign="middle">
                
                    <script language="JavaScript" src="http://ad.doubleclick.net/adj/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=300x250,336x280;tile=2;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" type="text/javascript"></script>
        <noscript><a href="http://ad.doubleclick.net/jump/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=300x250,336x280;tile=2;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" target="_blank" rel="nofollow"><img src="http://ad.doubleclick.net/ad/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=300x250,336x280;tile=2;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" width="336" height="280" border="0" alt=""></a></noscript>
                
            </td>
		</tr>
    </table>
	
    
        







<!-- P2P shared content module: pulling in contents of "tribbit-content-rightrailmiddle" dropzone from 401, / -->

    





























































     



    



<div class="module headlines defaultHeadlines  headColumn1 incase-box-new  noHeadlineBGImage" style=";">
  <div class="curvedTop">
  <div class="openCurve"></div>
  <div class="curvedContent">
    

    

    
  
                <div class="headlineItem rightHeadlinePos   briefRight  lines">
                              
                                <a href="http://www.latimes.com/entertainment/arts/culture/la-et-cm-david-koch-museum-donation-20120504,0,1152913.story" target="_top"><img src="http://www.latimes.com/media/thumbnails/storylink/2012-05/69760935-04131501.jpg" alt="Billionaire Koch gives $35M to Natural History Museum" width="187" height="105" class="headlineThumb" /></a>
                                <h2 class="headline  "><a href="http://www.latimes.com/entertainment/arts/culture/la-et-cm-david-koch-museum-donation-20120504,0,1152913.story" target="_top" title="Billionaire Koch gives $35M to Natural History Museum">Billionaire Koch gives $35M to Natural History Museum</a></h2>
                              

                              

                              
                                <span class="update-source">
                                    
                                    
                                </span>
                              
                              
                                
                              
                              
                              
                              <div class="clear"></div>
                            </div>
            
                <div class="headlineItem rightHeadlinePos   briefRight  lines">
                              
                                <a href="http://www.latimes.com/business/technology/la-fi-tn-biscotti-tv-phone-review-20120503,0,2205216.story?track=icymi" target="_top"><img src="http://www.latimes.com/media/thumbnails/storylink/2012-05/69754195-04080120.jpg" alt="&lt;b&gt;Review:&lt;/b&gt; Biscotti's family friendly video chat" width="187" height="105" class="headlineThumb" /></a>
                                <h3 class="headline  "><a href="http://www.latimes.com/business/technology/la-fi-tn-biscotti-tv-phone-review-20120503,0,2205216.story?track=icymi" target="_top" title="&lt;b&gt;Review:&lt;/b&gt; Biscotti's family friendly video chat"><b>Review:</b> Biscotti's family friendly video chat</a></h3>
                              

                              

                              
                                <span class="update-source">
                                    
                                    
                                </span>
                              
                              
                                
                              
                              
                              
                              <div class="clear"></div>
                            </div>
            
                <div class="headlineItem rightHeadlinePos   briefRight  lines">
                              
                                <a href="http://www.latimes.com/entertainment/news/la-et-cinco-de-mayo-20120504,0,3360765.story?track=icymi" target="_top"><img src="http://www.latimes.com/media/thumbnails/storylink/2012-05/69754249-04075911.jpg" alt="L.A. Cinco de Mayo celebrations" width="187" height="105" class="headlineThumb" /></a>
                                <h3 class="headline  "><a href="http://www.latimes.com/entertainment/news/la-et-cinco-de-mayo-20120504,0,3360765.story?track=icymi" target="_top" title="L.A. Cinco de Mayo celebrations">L.A. Cinco de Mayo celebrations</a></h3>
                              

                              

                              
                                <span class="update-source">
                                    
                                    
                                </span>
                              
                              
                                
                              
                              
                              
                              <div class="clear"></div>
                            </div>
            
                <div class="headlineItem rightHeadlinePos   briefRight  lines">
                              
                                <a href="http://www.latimes.com/travel/deals/la-trb-biggest-moon-hikes-20120504,0,4028792.story?track=icymi" target="_top"><img src="http://www.latimes.com/media/thumbnails/storylink/2012-05/69754625-04082109.jpg" alt="Places to view biggest full moon on Saturday" width="187" height="105" class="headlineThumb" /></a>
                                <h4 class="headline  "><a href="http://www.latimes.com/travel/deals/la-trb-biggest-moon-hikes-20120504,0,4028792.story?track=icymi" target="_top" title="Places to view biggest full moon on Saturday">Places to view biggest full moon on Saturday</a></h4>
                              

                              

                              
                                <span class="update-source">
                                    
                                    
                                </span>
                              
                              
                                
                              
                              
                              
                              <div class="clear"></div>
                            </div>
            


    <div class="clear"></div>
    
        <div class="clear"></div>
       </div>
  </div>
    <div class="curvedBottom">
      <div></div>
    </div>
</div>



    





























































     



    



<div class="module headlines defaultHeadlines  headColumn1 daily-deals  " style=";">
  <div class="curvedTop">
  <div class="openCurve"></div>
  <div class="curvedContent">
    
  <div class="titleContainer"><h2 class="title "><a href="http://www.latimes.com/shopping/dailydeal/signup/"><img src="http://www.latimes.com/includes/dailydeals/deals150px.png"></a></h2></div>
    

    

    
  
                <div class="headlineItem rightHeadlinePos   briefRight ">
                              
                                <a href="http://dailydeals.latimes.com/westside/offers/1483?r=lat" target="_top"><img src="http://www.latimes.com/media/thumbnails/storylink/2012-05/69756262-04094235-187105.jpg" alt="$49 for 2 Night Hotel Stay &amp; $50 Value Restaurant Gift Certificate (reg. $248)" width="101" height="56" class="headlineThumb" /></a>
                                <h2 class="headline  "><a href="http://dailydeals.latimes.com/westside/offers/1483?r=lat" target="_top" title="$49 for 2 Night Hotel Stay &amp; $50 Value Restaurant Gift Certificate (reg. $248)">$49 for 2 Night Hotel Stay & $50 Value Restaurant Gift Certificate (reg. $248)</a></h2>
                              

                              

                              
                                <span class="update-source">
                                    
                                    
                                </span>
                              
                              
                                
                              
                              
                              
                              <div class="clear"></div>
                            </div>
            


    <div class="clear"></div>
    
        <div class="clear"></div>
       </div>
  </div>
    <div class="curvedBottom">
      <div></div>
    </div>
</div>



    











































<div id="tabmodule650" class="tabModuleContainer three-tabs-new most_viewed_box ">
	<div class="curvedTop">
    	<div class="openCurve"></div>
        <div class="curvedContent">        
            <div class="tabs">              
                

                

                
                    <ul class="tabModule">
                        <li class="tab curTab"><a href="#" onclick="s_objectID='Most%20Viewed650';contentSwitch('one', this, 0);this.blur();return false;"><span>Most Viewed</span></a></li>
                        <li class="tab"><a href="#" onclick="s_objectID='Most%20Emailed650';contentSwitch('two', this, 1);this.blur();return false;"><span>Most Emailed</span></a></li>
                        <li class="tab"><a href="#" onclick="s_objectID='Latest%20News650';contentSwitch('three', this, 2);this.blur();return false;"><span>Latest News</span></a></li>
                        
                    	
                    </ul>
                
                
		        
                <div class="clear"></div>
            </div>         
            
            <div class="tabContentContainer">
                <div class="tabContentHolder">
                    
                        <div class="newContent one clearfix">
                            
                                


























<div class="feedMashup">
    <div class="module headlines noHeadlineBGImage mviewed for1">
        <div class="rssHeader">
            
                <h2 class="title"></h2>
            
            <span></span>
        </div>
        <div class="rssContent" style="">
		 
         
		
		
		
		









<ul class="feedMasherList">

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/mostviewed/~3/LHAkt9bcW9E/la-heb-teen-girls-delay-sex-20120404,0,7668872.story" target="_top">Teen girls waiting longer to have sex, according to CDC report</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:55 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/mostviewed/~3/gsg9K-4Sb4Y/la-et-cm-david-koch-museum-donation-20120504,0,1152913.story" target="_top">Billionaire David Koch gives $35 million to Natural History Museum</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:49 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/mostviewed/~3/u2JCgOFNww8/la-ol-blowback-runner-college-tuition-20120504,0,6052076.story" target="_top">Tax hike for California college scholarships: It's a false hope</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:41 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/mostviewed/~3/UAGvdWhqfAs/la-sp-sn-creative-causes-said-to-be-ok-for-saturdays-kentucky-derby-20120504,0,6681974.story" target="_top">Creative Cause said to be OK for Kentucky Derby</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:40 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/mostviewed/~3/kR8102bZwD8/la-na-nn-panetta-military-discipline-20120504,0,1539371.story" target="_top">Defense chief Leon Panetta implores U.S. troops to avoid misconduct</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:33 p.m.</span>
                        
                    </li>
                    
                    

 </ul>
 

        </div>
        <div class="clear"></div>
        <span class="rssMoreLink">
            
            
            
        </span>
    </div>
</div>
                            
                            
                        </div>
                    
                    
                        <div class="newContent two clearfix">
                            
                                


























<div class="feedMashup">
    <div class="module headlines noHeadlineBGImage mviewed for1">
        <div class="rssHeader">
            
                <h2 class="title"></h2>
            
            <span></span>
        </div>
        <div class="rssContent" style="">
		 
         
		
		
		
		









<ul class="feedMasherList">

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/MostEmailed/~3/IyxCrDRnAlM/la-na-nn-super-moon-may-2012-20120504,0,3480096.story" target="_top">Super moon 2012: 'Gloriously full,' with 14% more lunar excitement</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 1:25 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/MostEmailed/~3/u4wW74ZaI_c/la-fi-tn-apple-iphone-5-rumors-20120503,0,1923496.story" target="_top">New iPhone to get supermodel look -- no curves -- report says</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 8:25 a.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/MostEmailed/~3/b1baqCY3hYg/la-trb-biggest-moon-hikes-20120504,0,4028792.story" target="_top">Good places to go to view biggest full moon of the year Saturday</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 6:00 a.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/MostEmailed/~3/FhIr87WVPVw/la-na-vashon-credit-union-20120504,0,5169328.story" target="_top">Islanders move love and money to their own credit union</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:00 a.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/MostEmailed/~3/Z32zLzvN91Q/la-me-0504-bear-cubs-20120504,0,4567789.story" target="_top">Trash-loving bears find Altadena suits their taste</a>
			
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 12:00 a.m.</span>
                        
                    </li>
                    
                    

 </ul>
 

        </div>
        <div class="clear"></div>
        <span class="rssMoreLink">
            
            
            
        </span>
    </div>
</div>
                            
                    		
                        </div>
                    
                    
                        <div class="newContent three clearfix">
                            
                                


























<div class="feedMashup">
    <div class="module headlines noHeadlineBGImage latest-article for1">
        <div class="rssHeader">
            
                <h2 class="title"></h2>
            
            <span></span>
        </div>
        <div class="rssContent" style="">
		 
         
		
		
		
		









<ul class="feedMasherList">

	    
		
		<li>
        	<a href="http://latimesblogs.latimes.com/lanow/2012/05/your-commute-live-la-traffic-conditions-7.html" target="_top">Your commute: Live L.A. traffic conditions</a>
			
        		            <span class="feedSourcetitle"> - L.A. Now</span>
        	            
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 4:30 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://latimesblogs.latimes.com/lanow/2012/05/south-la-man-stumbles-out-of-hotel-and-dies-in-possible-attack.html" target="_top">Man stumbles out of South L.A. motel and dies</a>
			
        		            <span class="feedSourcetitle"> - L.A. Now</span>
        	            
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 4:28 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/sports/~3/ihpZzrHR3OM/la-sp-galaxy-20120505,0,4344682.story" target="_top">Struggling Galaxy gets another prime-time assignment</a>
			
        		            <span class="feedSourcetitle"> - L.A. Times - Sports</span>
        	            
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 4:28 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://feeds.latimes.com/~r/latimes/entertainment/~3/ROX5RgNOL4k/la-et-st-american-idol-vs-voice-juliet-simms-better-than-jessica-sanchez-20120504,0,158866.storylink" target="_top">'American Idol' vs. 'Voice': Juliet Simms better than Jessica Sanchez?</a>
			
        		            <span class="feedSourcetitle"> - L.A. Times - Entertainment News</span>
        	            
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 4:26 p.m.</span>
                        
                    </li>
                    
                    

	    
		
		<li>
        	<a href="http://latimesblogs.latimes.com/showtracker/2012/05/americas-got-talent-preview-shows-howard-stern-in-action.html" target="_top">'America's Got Talent' preview shows Howard Stern in action</a>
			
        		            <span class="feedSourcetitle"> - Show Tracker</span>
        	            
                        
                        
                            
                            
                            <span class="publishDate">05/04/2012, 4:24 p.m.</span>
                        
                    </li>
                    
                    

 </ul>
 

        </div>
        <div class="clear"></div>
        <span class="rssMoreLink">
            
            
            
        </span>
    </div>
</div>
                            
                    		
                        </div>
                    
                    
                        <div class="newContent four clearfix">
                            
                    		
                        </div>
                    
                     
                        <div class="newContent five clearfix">
                            
                    		
                        </div>
                    
                </div>
                <div class="clear"></div>  
            </div>
            
        </div>      
	</div>
    <div class="curvedBottom">
    	<div></div>
    </div>     
</div>

    














        
            

            

            
                <div class="module blurb ">
                    <div class="latest-footer"></div>

<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery('div.most_viewed_box div.one a').click(function(){
        s.tl(this, 'o', 'latimes.com: MV Box: Most Viewed');
    });
    jQuery('div.most_viewed_box div.two a').click(function(){
        s.tl(this, 'o', 'latimes.com: MV Box: Most Emailed');
    });
    jQuery('div.most_viewed_box div.three a').click(function(){
        s.tl(this, 'o', 'latimes.com: MV Box: Latest News');
    });
});
</script>
                </div>
            
            
			
			
			
						
            

        



    














        
            

            

            
                <div class="module blurb ">
                    <style type="text/css">
h2.videoTitle {padding: 5px 0px 4px 0px; border-bottom:1px solid #DDDDDD; border-top:3px solid #000000; font-size:24px; margin-bottom:10px;}
</style>

<h2 class="videoTitle"><a href="http://www.latimes.com/videogallery">Videos</a></h2>
                </div>
            
            
			
			
			
						
            

        



    













































  
  
  
  
  
  
  
  
  

  
  
  
  <div id="video169508747" class="premiumVideo module " baseadtag="http://ad.doubleclick.net/pfadx/trb.latimes/news/natworld/nation" baseadparams=";player=bc;pos=pre;tile=13;clip=66238212" style="width:300px; margin:0 auto 20px; position: relative; overflow: visible;">
    <script>
      trblib.fn.plugins.register('bcvideo');
      trblib.fn.plugins.register('player_configs');
      trblib.fn.plugins.register('companionad');
      
      //infuse.require("/video/player_configs.js", "/video/companionad.js");
      
      window.RestrictedVideoSources = {
"ap":["wdbj7","chishop","chibrksports","chibrkbus","chibrknews","soflanews","orlnews","balnews","sharednews","hrnews","hartnews","allnews"],
"reuters":["hartent","orlnatent","envent","amnynews","zapent","red","bvcomm","gen3","kdvr","wjw","wdaf","witi","kstu","wghp","wtkr","kfor","kaut","wreg","wnep","who","whnt","wqad","kfsm","health","kplr","trendc","elcentro","wsbttv","ktvi","wtic","ktlatino","ctnow","southbendtribune","wdbj7","chiweather","ky3","htonews","chishop","shz","cw27","chibrksports","cruise","toto","snslanews","flasports","vanews","vlhoy","kwgn","wtvr","ccursed","kwch","chibrkbus","vivelohoy2","syndicate","chibrknews","redeye","orlshop","soflanews","snschinews","snsnynews","snssoflanews","orlnews","balnews","snsallnews","snshrnews","snshartnews","sharednews","snsbvnews","snschisports","snsgreennews","snsstamnews","tribintra","snschient","chinews","nynews","hrnews","hartnews","allnews","stamnews","greennews","tvshared","khcw","wgncable","chisports","laent","go2trav","mmxent","nornews","hoynews","soflaent"],
"apvideos":["chishop","chibrksports","chibrkbus","orlnews","sharednews","lanews"]
};
      window.currentMarket = "lanews";

      function onTemplateLoaded(item_id) {
        var id_number = item_id.replace("premiumVideo", "");
        createNewVideoContainer(id_number, "lanews", "www.latimes.com");
        jQuery(document).trigger( 'videoTemplateLoaded', { id: item_id });
      };
    </script>
    <div class="pvp_companion_ad">
      <span>Advertisement</span>
      <div id="companion-169508747" class="pvp_inset">
      </div>
      <div class="pvp_ad_toggle">
        <div class="pvp_arrow"></div>
      </div>
    </div>
    <div id="video-info169508747" class="videoInfo hide" description-option="showViewButton">
      
        
          <h2 id="videoTitle169508747" class="headline">Cinco de Mayo: Holiday history lost in marketing</h2>
    <p id="shortTextWrapper169508747" class=""><span id="shortText169508747"  >Despite the mariachis, tequila and folkloric dances, Cinco de Mayo is celebrated</span><span id="elipse169508747" class="">...</span></p>
    <p id="longText169508747" class="hide">Despite the mariachis, tequila and folkloric dances, Cinco de Mayo is celebrated more in the U.S. than Mexico.  The holidaycommemorates the defeat of the French at the 1862 Battle of Puebla. But it's meaning is lost amid marketing and margaritas. (Ma</p>
        
         
      
    </div>
    <div id="video-social169508747" class="videoShare hide">
      
        <ul  class="viewButton ">
          <li>
            <a id="viewDescr169508747" class="viewDescr collapse ">Expand</a>
          </li>
        </ul>
      
      <ul class="socialTools">
         <li>
          <a id="video-email169508747" rel="nofollow">
            <img class="icon" alt="Email" src="/hive/images/modules/email_icon.png" />
          </a>
        </li>
        <li>
          <a id="video-fb169508747" rel="nofollow" target="_blank">
            <img class="icon" alt="Share" src="/hive/images/modules/postFB.gif" />
          </a>
        </li>
        <li>
          <a id="video-twitter169508747" rel="nofollow" target="_blank">
            <img class="icon" alt="Share" src="/hive/images/modules/postTwitter.gif" />
          </a>
        </li>
        <li class="shareText">Share Video:</li>
      </ul>
    </div>
    <!-- <div class="premiumVideoModulePlayer" data-role="delayload" data-load-method="trb.pvp.load" data-withinViewport-options="offset=800" data-auto-play="false" data-vid="premiumVideo169508747" data-params="bgcolor=#ffffff&wmode=opaque&isVid=true&isUI=true&dynamicStreaming=true&autoStart=false&localizedErrorXML=/common/includes/video-errors.xml&sectionName=/news/nationworld/nation&contentItemType=playlist video module&omnitureServer=latimes.com&omnitureAcct=tribglobal&customBubble=&customStyle=0x000000&playerTitle=&linkText=More Videos&linkURL=http://www.latimes.com/videogallery&width=300&height=408&playerId=899315995001&playerKey=AQ~~,AAAAtkVbcwk~,5Rx45u37p7D3OlMVujk2KYcb3owAvAIR&html5PlayerId=946332754001&html5PlayerKey=AQ~~,AAAAtkVbcwk~,5Rx45u37p7Bwq1b3-RfYte6uJJ6QC_Ts&adServerURL=http://ad.doubleclick.net/pfadx/trb.latimes/news/natworld/nation&externalAds=true&linkBaseURL=http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&showNoContentMessage=true&@playlistTabs=ref:66238212"></div> -->
    <div class="premiumVideoModulePlayer" data-role="bcvideo"data-auto-play="false" data-vid="premiumVideo169508747" data-params="bgcolor=#ffffff&htmlFallback=true&wmode=opaque&isVid=true&isUI=true&dynamicStreaming=true&autoStart=false&localizedErrorXML=/common/includes/video-errors.xml&sectionName=/news/nationworld/nation&contentItemType=playlist video module&omnitureServer=latimes.com&omnitureAcct=tribglobal&customBubble=&customStyle=0x000000&playerTitle=&linkText=More Videos&linkURL=http://www.latimes.com/videogallery&width=300&height=408&playerId=899315995001&playerKey=AQ~~,AAAAtkVbcwk~,5Rx45u37p7D3OlMVujk2KYcb3owAvAIR&html5PlayerId=946332754001&html5PlayerKey=AQ~~,AAAAtkVbcwk~,5Rx45u37p7Bwq1b3-RfYte6uJJ6QC_Ts&adServerURL=http://ad.doubleclick.net/pfadx/trb.latimes/news/natworld/nation&externalAds=true&linkBaseURL=http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story&showNoContentMessage=true&@playlistTabs=ref:66238212"></div>
  </div>





    
    
    
   
	  
		<div class="skyScraper">
            		
                <script language="JavaScript" src="http://ad.doubleclick.net/adj/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=160x600,300x600;tile=3;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" type="text/javascript"></script>
        <noscript><a href="http://ad.doubleclick.net/jump/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=160x600,300x600;tile=3;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" target="_blank" rel="nofollow"><img src="http://ad.doubleclick.net/ad/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=160x600,300x600;tile=3;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" width="300" height="600" border="0" alt=""></a></noscript>
            		
    	</div>
            
    
        







<!-- P2P shared content module: pulling in contents of "tribbit-content-rightrailbottom" dropzone from lanews, / -->

    














        
            

            

            
                <div class="module blurb ">
                    <div class="rr_promo-box">

<h3 style="font-size: 20px; padding-bottom: 5px;"><a href="http://www.latimes.com/travel/deals/la-tr-your-travel-photos-ugc-110410,0,3752967.ugcphotogallery">Reader Travel Photos </a></h3> 

<a href="http://www.latimes.com/travel/deals/la-tr-your-travel-photos-ugc-110410,0,3752967.ugcphotogallery"><img height="105" width="312" src="http://www.latimes.com/media/alternatethumbnails/blurb/2012-04/50696642-20125825.jpg" /></a> 

<p class="rr_promo-text"><a href="http://www.latimes.com/travel/deals/la-tr-your-travel-photos-ugc-110410,0,3752967.ugcphotogallery">Share your travel photos. We'll feature the best in print and online. Above, Papua New Guinea.</a> 

<a href="http://www.latimes.com/features/food/la-fo-50-under-50-20120308-photos,0,6999651.photogallery"><span class="center_label"></span></a></p>
 
</div>
                </div>
            
            
			
			
			
						
            

        






    
        














        


    
</div>



    
	<div class="clear-extend"></div>
</div> <!-- closes content-rail-wrapper -->










 








 




 
 
                <div id="contentBottom">
                    
                        







<!-- P2P shared content module: pulling in contents of "tribbit-content-bottom" dropzone from lanews, / -->

    














        
            

            

            
                <div class="module blurb ">
                    <div  style="border-top:1px #cccccc solid;  border-bottom:1px #cccccc solid; padding:5px 0; margin-bottom: 34px;">

<div style="margin-left: 170px;">

<a style="color:#000000; font-weight: bold;" href="https://myaccount2.latimes.com/Subscribe1.aspx"><img src="http://www.latimes.com/media/thumbnails/blurb/2012-03/48178068-13145926.jpg" border="0" width="24" height="25"  alt="Subscribe to The Los Angeles Times" style="float: left; margin-right: 20px;" /> L.A. for less than the price of sunblock. <span style="font-size:22px;">Only 99&#162;</span> for the first four weeks.</a>
 

</div>

</div>
                </div>
            
            
			
			
			
						
            

        



    














        
            
                

                
                    
                    <img src="http://www.latimes.com/media/graphic/2009-08/48592525.gif" alt="" width="980" height="30" />
                
            

            

            
            
			
			
			
						
            

        



    
























<div class="module mezzanine    for5 ">
    <div class="curvedTop">
      <div class="openCurve"></div>
      <div class="curvedContent">
        <ul>
          
          
            
              
                  
                  
                  
           	      
                  
                  
                  
                    
                <li class="mezzitem first none">
                  <div>
                    
                    
                    
                      
					  <a href="/travel/deals/la-trb-california-state-parks-20120501,0,3959859.story" target="_top" class="mezzphoto"><img src="http://www.trbimg.com/img-4fa06a1c/turbine/la-trb-california-state-parks-20120501/187/16x9" alt="More California state parks saved from closure" width="187" height="105" /></a>
                      
						
	                      <h3><a href="/travel/deals/la-trb-california-state-parks-20120501,0,3959859.story" target="_top">More California state parks saved from closure</a></h3>
						                                
                      
                      
                    
                  </div>
                </li>
                
              
            
          
            
              
                  
                  
                  
           	      
                  
                  
                  
                    
                <li class="mezzitem none">
                  <div>
                    
                    
                    
                      
					  <a href="/business/money/la-fi-mo-clive-palmer-titanic-20120430,0,1547662.story" target="_top" class="mezzphoto"><img src="http://www.trbimg.com/img-4f9ebf0e/turbine/la-fi-mo-clive-palmer-titanic-20120430/187/16x9" alt="Same Titanic but brand-new, built from scratch, billionaire says" width="187" height="105" /></a>
                      
						
	                      <h3><a href="/business/money/la-fi-mo-clive-palmer-titanic-20120430,0,1547662.story" target="_top">Same Titanic but brand-new and built from scratch</a></h3>
						                                
                      
                      
                    
                  </div>
                </li>
                
              
            
          
            
              
                  
                  
                  
           	      
                  
                  
                  
                    
                <li class="mezzitem none">
                  <div>
                    
                    
                    
                      
					  <a href="/news/politics/la-pn-not-everyones-laughing-after-the-white-house-correspondents-dinner-20120430,0,128325.story" target="_top" class="mezzphoto"><img src="http://www.trbimg.com/img-4f9eb01a/turbine/la-pn-not-everyones-laughing-after-the-white-house-correspondents-dinner-20120430/187/16x9" alt="Not everyone's laughing after the White House Correspondents' dinner" width="187" height="105" /></a>
                      
						
	                      <h3><a href="/news/politics/la-pn-not-everyones-laughing-after-the-white-house-correspondents-dinner-20120430,0,128325.story" target="_top">It's not all laughs after Correspondents' dinner</a></h3>
						                                
                      
                      
                    
                  </div>
                </li>
                
              
            
          
            
              
                  
                  
                  
           	      
                  
                  
                  
                    
                <li class="mezzitem none">
                  <div>
                    
                    
                    
                      
					  <a href="/features/home/la-hm-small-prefab-offices-photos,0,2513835.photogallery" target="_top" class="mezzphoto"><img src="http://www.trbimg.com/img-4f9b0ef4/turbine/la-hm-small-prefab-offices-photos/187/16x9" alt="Small prefabs as backyard offices" width="187" height="105" /></a>
                      
						
	                      <h3><a href="/features/home/la-hm-small-prefab-offices-photos,0,2513835.photogallery" target="_top"><b>Photos:</b> Small prefabs as backyard offices</a></h3>
						                                
                      
                      
                    
                  </div>
                </li>
                
              
            
          
            
              
                  
                  
                  
           	      
                  
                  
                  
                    
                <li class="mezzitem last none">
                  <div>
                    
                    
                    
                      
					  <a href="/news/local/la-me-meteorite-search-20120501,0,5730445.story" target="_top" class="mezzphoto"><img src="http://www.latimes.com/media/thumbnails/story/2012-04/69661774-29202310-187105.jpg" alt="Meteorite hunters strike pay dirt" width="187" height="105" /></a>
                      
						
	                      <h3><a href="/news/local/la-me-meteorite-search-20120501,0,5730445.story" target="_top">Meteorite hunters strike pay dirt</a></h3>
						                                
                      
                      
                    
                  </div>
                </li>
                
              
            
          
        </ul>
        <div class="sectionlink-head"><a href="/news/spotlights/" target="_top">More spotlights...</a></div>
      <div class="clear"></div>
    </div>    
  </div>
    <div class="curvedBottom">
      <div></div>
    </div>
</div>





                    
                </div>
                 
                     <div class="ad centerAd"> 
                        
                            <script language="JavaScript" src="http://ad.doubleclick.net/adj/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=B;sz=728x91;tile=4;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" type="text/javascript"></script>
        <noscript><a href="http://ad.doubleclick.net/jump/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=B;sz=728x91;tile=4;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" target="_blank" rel="nofollow"><img src="http://ad.doubleclick.net/ad/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=B;sz=728x91;tile=4;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" width="728" height="91" border="0" alt=""></a></noscript>    
                        
                    </div>  

                 
                






    





  


 
<script type='text/javascript'>
var _sf_async_config={};
/** CONFIGURATION START **/
_sf_async_config.uid = 32297;
_sf_async_config.domain = 'latimes.com';


_sf_async_config.sections = 'news,nationworld,nation';


_sf_async_config.authors = 'By Brian Bennett';
/** CONFIGURATION END **/
(function(){
function loadChartbeat() { window._sf_endpt=(new Date()).getTime(); var e = document.createElement('script'); e.setAttribute('language', 'javascript'); e.setAttribute('type', 'text/javascript'); e.setAttribute('src', (('https:' == document.location.protocol) ? 'https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/' : 'http://static.chartbeat.com/') + 'js/chartbeat.js'); document.body.appendChild(e); }
var oldonload = window.onload;
window.onload = (typeof window.onload != 'function') ?
loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();
</script>














                








<div id="footer">
   <div id="siteOverview">
 <ul class="siteOverview-main">
     <li>
      <a href="http://www.latimes.com/news/custom/corrections/" class="mainNav"  target="_parent">Corrections</a>
       
     </li>
    </ul>
   
  
   
    <ul class="siteOverview-main">
     <li>
      <a href="http://www.latimes.com/features/horoscopes/" class="mainNav"  target="_parent">Horoscopes</a>
       
     </li>
    </ul>
   
  
   
    <ul class="siteOverview-main">
     <li>
      <a href="http://mediakit.latimes.com/" class="mainNav"  target="_parent">Media Kit</a>
       
     </li>
    </ul>
   
  
   
    <ul class="siteOverview-main">
     <li>
      <a href="http://www.latimes.com/about/mediagroup/" class="mainNav"  target="_parent">About Us</a>
       
     </li>
    </ul>
   
  
   
    <ul class="siteOverview-main">
     <li>
      <a href="http://www.latimes.com/about/mediagroup/la-mediagroup-contactus,0,7698150.htmlstory" class="mainNav"  target="_parent">Contact Us</a>
       
     </li>
    </ul>
   
  
   
    <ul class="siteOverview-main">
     <li>
      <a href="http://www.latimes.com/about/sitemap/" class="mainNav"  target="_parent">Site Map</a>
       
     </li>
    </ul>
 <div class="clear"></div>
</div>
   <div id="footerContainer">
    <div id="footerlogo">
    	
	        <a href="/">
        
            <img src="http://www.latimes.com/media/graphic/2010-02/52101671.png" alt="footer logo" id="siteFooter" />
        </a>
    </div>
    <div id="footertext">
        <ul>
            <li class="nav">
                    
                        
                            
                                <ul class="links">

                                    
                                    

                                    
                                    <li id="footer-item-1" class="firstMenuItem"><a href="http://www.burbankleader.com/"  target="_parent">Burbank Leader</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-2" class=""><a href="http://www.coastlinepilot.com/"  target="_parent">Coastline Pilot</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-3" class=""><a href="http://www.dailypilot.com/"  target="_parent">Daily Pilot</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-4" class=""><a href="http://www.hbindependent.com/"  target="_parent">Huntington Beach Independent</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-5" class=""><a href="http://www.glendalenewspress.com/"  target="_parent">News Press</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                    <li id="footer-item-6" class=""><a href="http://www.pasadenasun.com/" target="_parent">Pasadena Sun</a></li>
                                                
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-7" class=""><a href="http://lacanadaonline.com/"  target="_parent">Valley Sun</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-8" class=""><a href="http://www.ktla.com"  target="_parent">KTLA</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-9" class=""><a href="http://www.hoylosangeles.com/"  target="_parent">Hoy</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-10" class="lastMenuItem"><a href="http://www.latimesmagazine.com/"  target="_parent">Los Angeles Times Magazine</a></li>
                                </ul>
                            
                        
                    
                        
                            
                                <ul class="links">

                                    
                                    

                                    
                                    <li id="footer-item-1" class="firstMenuItem"><a href="http://www.baltimoresun.com/"  target="_blank">Baltimore Sun</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-2" class=""><a href="http://www.chicagotribune.com/"  target="_blank">Chicago Tribune</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-3" class=""><a href="http://www.dailypress.com/"  target="_blank">Daily Press</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-4" class=""><a href="http://www.courant.com/"  target="_blank">Hartford Courant</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-5" class=""><a href="http://www.latimes.com/"  target="_blank">Los Angeles Times</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-6" class=""><a href="http://www.orlandosentinel.com/"  target="_blank">Orlando Sentinel</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-7" class=""><a href="http://www.sun-sentinel.com/"  target="_blank">Sun Sentinel</a></li>
                                                
                                                
                                            			       
                                        
                                            
                                                
                                                
                                                
                                                    <li id="footer-item-8" class="lastMenuItem"><a href="http://www.mcall.com/"  target="_blank">The Morning Call</a></li>
                                </ul>
                            
                        
                    
                </li>
            
            <li>
                    
                        
                            
                                <p><div><a href="http://www.latimes.com/terms">Terms of Service</a> | <a href="http://privacy.tribune.com">Privacy Policy</a> | <a href="http://www.latimes.com/lat-about-our-ads,0,3875412.htmlstory">About Our Ads</a> | Los Angeles Times, 202 West 1st Street, Los Angeles, California, 90012 | Copyright 2012</div></p>
                            
                        
                    
                </li>
        </ul>
    </div>
    <div class="clear"></div>
    
        <div class="family">
            <a href="http://www.tribune.com/" target="_parent">A Tribune Newspaper website</a>
        </div>
    
</div>
</div>


    <div id="inlineHeaderAd" style="position:absolute; top: 35px; right: 10px; height: 64px;">
        <script language="JavaScript" src="http://ad.doubleclick.net/adj/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=234x60;tile=5;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" type="text/javascript"></script>
        <noscript><a href="http://ad.doubleclick.net/jump/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=234x60;tile=5;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" target="_blank" rel="nofollow"><img src="http://ad.doubleclick.net/ad/trb.latimes/news/natworld/nation;;ptype=s;slug=la-na-panetta-troops-20120505;rg=ur;ref=googlecom;pos=1;sz=234x60;tile=5;ca=ArmedForces;en=Afghanistan;at=ArmedForces;at=Defense;at=UnrestConflictsandWar;at=ArmedConflicts;at=InternationalMilitaryInterventions;ord=78537213?" width="234" height="60" border="0" alt=""></a></noscript>
    </div>






<!-- Tacoda Javascript -->

<SCRIPT SRC="http://an.tacoda.net/an/g10007/slf.js" LANGUAGE="JavaScript"></SCRIPT>


<div id="memberLoginInfoSwap" style="display:none;">
	







<script type="text/javascript" language="javascript">
<!--
var corecookie = readCookie('ti_core');
if (corecookie)
{
	var infocookie = readCookie('ti_info');
	if (infocookie)
	{
		if (cookieEncode(corecookie.substring(1,150)) == readCvalue(infocookie,"tisk"))
		{
			var name = cookieDecode(readCvalue(infocookie,"uin"));
			document.writeln("<span>Hello</span>");
			     
		    document.writeln("<a href='/services/site/registration/' rel='nofollow'>"+ name +"</a>");     
			
			
		    document.writeln("|");      
			
			       
   			document.writeln("<a href='/services/site/registration/logout.register' rel='nofollow'>LOG OUT</a>");     
			     
		} else {
			document.write('<scr'+'ipt type="text/javascript" src="include-member.javascript"></scr'+'ipt>');
		}
	} else {
    	document.write('<scr'+'ipt type="text/javascript" src="include-member.javascript"></scr'+'ipt>');
	}
}
else
{
   document.writeln("<span id='helloVisitor'>Hello Visitor</span>");
   
      document.writeln("<a id='loginAnchor' href='/services/site/registration/show-login.register' rel='nofollow'>LOGIN</a>");
   
   
     document.writeln("<span id='loginSeparator'> OR </span>");
   
   
      document.writeln("<a id='registerAnchor' href='/services/site/registration/show-createprofile.register' rel='nofollow'>REGISTER</a>");
   
  if (readCookie('ti_info'))
  eraseCookie("ti_info");
}
// -->
</script>
</div>
<script type="text/javascript" language="javascript">
	document.getElementById('memberLoginInfo').innerHTML=document.getElementById('memberLoginInfoSwap').innerHTML;
</script>





    








    





    













 





























<script language="JavaScript">

    var s_account = "tribglobal";
</script>


    
		

 
     

    










 

<!-- START OMNITURE // hive:metrics-tribune -->
<!-- SiteCatalyst code version: H.1.
Copyright 1997-2005 Omniture, Inc. More info available at
http://www.omniture.com -->


 


<script type="text/javascript" src="/hive/javascripts/metrics/s_code_trb.js"></script>


<script language="JavaScript">


					s.pageName="Defense Secretary Leon Panetta warns troops about  - Latimes.com / news / nationworld / nat - story."; 
				
				s.prop38="story";
				s.eVar21="story";

				

			
		
		
		
		 
	s.server="latimes.com"; 
	  s.channel="Latimes.com:news";

s.prop3="";
if(!!window.carnival){
	carnival_username_c_unm = readCookie('c_unm');
	carnival_masterid_c_mid = carnival.metrics.getMetricsId();
	if(carnival_username_c_unm!=null && carnival_masterid_c_mid){
		s.prop28 = carnival_masterid_c_mid;
	}
}
if(s.prop28==null){
	s.prop28 = "";
}	
s.prop32="";
 
s.prop36="Page 1";


/* Taxonomy Variables */
s.prop46="Afghanistan";

/* E-commerce Variables */
s.events=""; 


/* P2P blog variables */

	s.prop52=s.pageName;


s.eVar20="Latimes.com";

	s.hier1="Latimes.com:news:nationworld:nation"; 
		s.hier2="news:nationworld:nation";
		s.hier4="news:nationworld:nation";
	
	
        
    s.eVar42="By Brian Bennett";
	s.prop44="la-na-panetta-troops-20120505";


//AD Block Detection
//Description: 	Check if any IMG, IFRAME, or SCRIPT elements are ad blocked (set to not display).
//		Also check for the occurance of any Norton installed code to block popups or ads ( ie.)SymError ).
//		Only need to find 1 occurrance of any of the above to confirm ad blocking is used. 
//		No need to continue searching through other portions of the page.

var imgArray = document.images;
var iframeArray = document.getElementsByTagName("iframe");
var scriptArray = document.getElementsByTagName("script");
var isAdBlocked = 0;



if(window.SymError || window.SymWinOpen || window.SymRealWinOpen)
{
	s.prop50="pop-up blocking";
}

var whereBlocked = "";
if (!isAdBlocked)
{
	for (var i=0; i<imgArray.length; i++)
	{
		if(imgArray[i].style.display == 'none')
		{
			isAdBlocked=1;
			break;
		}
	}
}

if (!isAdBlocked)
{
	for (var j=0; j<iframeArray.length; j++)
	{
		if (iframeArray[j].style.display == 'none')
		{
			isAdBlocked=1;
			break;
		}
	}
}

if (!isAdBlocked)
{
	for (var j=0; j<scriptArray.length; j++)
	{
		if (scriptArray[j].style.display == 'none')
		{
			isAdBlocked=1;
			break;
		}
	}
}

if(isAdBlocked)
{
	s.prop54="ad blocking";
}




  
/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code) 
-->  
</script>
<script language="JavaScript"><!--
if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
//--></script><!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.1. -->











<!-- START REVENUE SCIENCE PIXELLING CODE -->
<script src="http://js.revsci.net/gateway/gw.js?csid=B08725"></script>
<script>
DM_addEncToLoc("Site", (s.server));
DM_addEncToLoc("channel", (s.channel));
DM_addEncToLoc("keyword", (s.prop3));
DM_cat(s.hier1);
DM_tag();
</script>
<!-- END REVENUE SCIENCE PIXELLING CODE -->




<script type="text/javascript">
    (function() { 
	   var old = s.ot; 
	   s.ot = function(el) { 
	       return el.tagUrn ? '' : old(el); 
	   }; 
	})(); 
</script>




<!-- Time: Fri May 04 17:36:40 PDT 2012-->




            </div>
            
            
         </div>
	


<!-- START Nielsen Online SiteCensus V6.0 -->
<!-- COPYRIGHT 2010 Nielsen Online -->
<script type="text/javascript">
  (function () {
    var d = new Image(1, 1);
    d.onerror = d.onload = function () {
      d.onerror = d.onload = null;
    };
    d.src = ["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-400338h&cg=0&cc=1&si=", escape(window.location.href), "&rp=", escape(document.referrer), "&ts=compact&rnd=", (new Date()).getTime()].join('');
  })();
</script>
<noscript>
  <div>
    <img src="//secure-us.imrworldwide.com/cgi-bin/m?ci=us-400338h&amp;cg=0&amp;cc=1&amp;ts=noscript"
    width="1" height="1" alt="" />
  </div>
</noscript>
<!-- END Nielsen Online SiteCensus V6.0 -->

	  
 

 




 
 
<script type="text/javascript">
var _sf_async_config={uid:3908,dom
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/structure.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/footer.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/stylesheets/market.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/common.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/reset.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/tugs.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/registration_signin/registration.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/content.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/header.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@3934bc56
---Content---
ain:"latimes.com"};
(function(){
function loadChartbeat() { window._sf_endpt=(new Date()).getTime(); var e = document.createElement('script'); e.setAttribute('language', 'javascript'); e.setAttribute('type', 'text/javascript'); e.setAttribute('src', (("https:" == document.location.protocol) ? "https://s3.amazonaws.com/" : "http://") + "static.chartbeat.com/js/chartbeat.js"); document.body.appendChild(e); }
var oldonload = window.onload;
window.onload = (typeof window.onload != 'function') ?
loadChartbeat : function() { oldonload(); loadChartbeat(); }; })(); 
</script>

	
	
	


<script src="http://widget.perfectmarket.com/wwwlatimes/load.js"></script>

    </body>
</html>



<!--x-Instance-Name: i6s28z2n1-->
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 11950
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 30 Sep 2010 20:19:51 GMT
ETag: "2eae-4ca4f0e7"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=200
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 11950
---Content---
#tugsRating {
	height:30px; /*48px;*/
	padding-bottom: 5px;
	display: table;
}
#galleryRating {
	padding-bottom:10px;
}
#tugsRating .rating {
	display:block;
	float:left;
	height:16px;
	width:80px;
}
#galleryRating #rating_2 {
	display:block;
	float:right;
	height:16px;
	font-size:11px;
}
#tugsRating .rating img, #galleryRating #rating_2 img {
	float:left;
	height:16px;
	width:16px;
}
#starRatingFeedback_2 {
	clear:both;
}
.story #tugsRating {
	float:none;
	_width:250px;
	*width:250px;
	padding:0;
	text-align:left;
}
#ugcGallery #tugsRating {
	height:auto;
	/*padding:0;*/
	float:right;
	text-align:right;
	*padding-bottom:0;
	_padding-bottom:0;
	*margin:0;
	_margin:0;
}	
#galleryRating {
	float:right;
	text-align:right;
	width:120px;
}
#tugsRating #rating_1, #tugsRating #starRatingFeedback_1, #rating_1 {
	float:right;
}
.story #tugsRating #rating_1, .story #tugsRating #starRatingFeedback_1, .story #rating_1 {
	float:left;
}
#starRatingFeedback_2 {
	font-size:11px;
	float:right;
	_float:none;
	*float:none;
}
#tugsRating #rating_1 img, #tugsRating #rating_2 img {
	padding-bottom:0px;
}
#rateMarket {
	display:none;
}
div#content.article span.toolSet {
	margin-bottom:5px;
}
#starRatingFeedback_1 {
	float:left;
	padding-left:6px;
	padding-top:1px;
}
#ugcGallery #starRatingFeedback_1 {
	float:right;
	clear:right;
	_width:110px;
	*width:110px;
	padding-left:0;
}
#discussion #comment-list {
	margin-top:20px;
	width:608px;
}

#comment-list .comment-display {
	background:transparent url(/hive/images/commentRightBG.png) repeat-y scroll right center;
	border-bottom:1px solid #CCCCCC;
	padding:15px 0 10px;
	position:relative;
}

.comment-display .comment-attributes {
	float:left;
	padding-right:7px;
	width:75px;
}

.comment-display .comment {
	float:left;
	padding-right:15px;
	width:393px;
}
.comment-info {
	color:#666666;
	display:block;
	padding-bottom:2px;
}
#hudMask {
    position:absolute;
    display:none;
    width:100%;
    height:100%;
    top:0px;
    left:0px;
    z-index:2147483601;
    background-color:#000;
	opacity:0.6;
    filter: alpha(opacity=60);
}
#hudMask[id] {
    position:fixed;
}
#popUpContent {
	display:none;
	position: absolute;
    top: 10%;
    left: 50%;
    width: 580px;
	_width:520px;
    height: 400px;
	_height:350px;
    margin: auto;
	z-index:2147483602;
	padding:35px 30px 30px 30px;
	_padding:15px;
	margin-left:-300px;
	background-image: url('/hive/images/ugc/iframe_bg.png');
	background-repeat: no-repeat;
	background-position: top left;
	_background-color:#f5f5f5;
	_background-image:none;
}
#ugsCancelBttn, #ugsCancelBtn {
	cursor:pointer;
	_cursor:hand;
}
.comment-display .comment-triggers {
	float:right;
	width:110px;
}

div#discussion ul li {
	list-style-type:none;
	padding-bottom:6px;
}

.comment-triggers ul li.reply {
	background:transparent url(/hive/images/bomb.png) no-repeat scroll left top;
	padding-left:20px;
}

.comment-triggers ul li.abuse {
	background:transparent url(/hive/images/flag_red.png) no-repeat scroll left top;
	padding-left:20px;
}

.comment-triggers ul li.vote .vote-up {
	float:left;
	width:55px;
}

.comment-triggers ul li.vote .vote-up img {
	padding-right:4px;
	position:relative;
	top:3px;
}

.vote-up .vote-up-count, .vote-down .vote-down-count {
	color:#333333;
	position:relative;
	top:4px;
}

.vote-up a, .vote-up .vote-up-count, .vote-down a, .vote-down .vote-down-count {
	float:left;
}

.commentLine {
	border-bottom: 1px solid #ccc; display: block; margin-bottom: 10px; padding-bottom: 10px; margin-top:10px
}
#tugs_story_display {
	width:100%;
	margin:0 auto; 
	display:inline-block;
}
#ugcGuidelines {
	padding-top:25px;
}
#ugcComments {
	text-align: center;
	/*font-size:11px;*/
}
#tugs_story_display h3 {
	font-size:18px !important;
	float:left;
	font-weight:normal !important;
	/* color:#37689A !important; */
	padding:6px 0 0 10px;
}
#tugs_story_display #tugs_head span {
	float:right;
	padding-top:10px;
	padding-right:10px;
}
#tugs_story_display #tugs_comment_list {
	padding:10px 15px 0px 15px;
	text-align:left;	
	position:relative;
}
#tugs_story_display #tugs_bottom {
	padding:5px 8px 0 0;
	text-align:right;
	position:relative;
}
#tugs_story_display #tugs_footer {
	width:587px;
	height:10px;
	position:relative;
}
#tugs_story_display #tugs_comment_list .comment {
	padding: 15px;
	border-bottom:1px solid #cbcbcb;
	word-wrap:break-word;
	width: 100%;
}
#tugs_story_display #tugs_comment_list .comment.last {
	border-bottom:none;
	padding-bottom:0;
	margin-bottom:0;
}
#tugs_story_display #tugs_comment_list ul, #tugs_story_display #tugs_comment_list ol {
	margin-left:20px;
	
}
.multimedia #gallery-subcontent {
	width: 60%;
	margin: 5px;
	border: none;
}
.ugcPhotoGallery div#content.article #gallery-subcontent, div#content.article #gallery-subcontent  {
	border:none;
}
.ugcPhotoGallery #uploadFormLink {
	background:transparent url(/hive/images/ugc/photo_add_25w.png) no-repeat scroll 0 3px;
	/*height:31px;*/
	padding:5px 5px 5px 30px;
	margin-top:3px;
	
}
.ugcPhotoGallery .popup-gal {
	padding-bottom:10px;
	padding-right:0px;
	_width:125px;
	*width:125px;
	padding-top:15px;
	float:right;
	clear:right;
	_padding-right:0;
	*padding-right:0;
	
}
#gallery-content-popup A.referrer:link 
_padding-top:0;
*padding-top:0;
_width:160px;
*width:160px;
}
.ugcPhotoGallery #gallery-photo-header {

}
.ugcPhotoGallery #ugcGalleryHeading {
	padding-bottom:10px;
	width:100%;
}
#tugsTip {
	padding:6px;
	border:1px solid #999;
	font-family:helvetica;
	font-size:12px;
	margin-top:35px;
	background-color:#F8F2CF;
	border:1px solid #B0A777;
	color:#333;
}
#tugsTip .tipTitle {
	background:transparent url('/hive/images/ugc/lightbulb_48.png') no-repeat scroll left top;
	border-bottom:1px solid #B0A777;
	display:block;
	font-size:14px;
	height:24px;
	padding-bottom:0px;
	padding-left:28px;
	padding-top:5px;
}
#tugsTip p {
	line-height:18px;
	margin:5px 0 0 0;
	padding:0 5px;
}
#referrerLink {
	border-left: 1px solid #ccc;
	border-bottom: 1px solid #ccc; 
	padding: 4px; 
	display: inline-block; 
	float: right; 
	background-color: #f5f5f5;
}
div.editorPick {
	float: right;
	*margin-top:-15px;
}
div.editorPick img {
	float:left;
}
div.editorPick span {
	padding: 2px 0pt 0pt 5px; 
	display: block; 
	float: left; 
	width: 68px;
}
/*#ugcGalleryNavigation {
	width:100%;  
	text-align:center;
}
#ugcGalleryNavigation ul {
	text-align:center;
	list-style-type:none;
	height:30px;
}
#ugcGallery ul li {
	display:none;
	
}
#ugcGallery ul li.selected {
	display:block;
}
#ugcGalleryNavigation ul li:hover {	
	border:1px solid #333;
	cursor:pointer;
	_cursor:hand;
}
#ugcGalleryNavigation ul li span {
	padding:4px 5px 4px 5px;
}
#ugcGalleryNavigation ul li img {
	display:inline;
}
.ugcPhotoGallery #uploadFormLink {
	float:right;
	/*margin-top:10px;
	*width:125px;
	_width:125px;
}
.ugcPhotoGallery #ugcGallery {
	width:100%;
	text-align:center;
}
.ugcPhotoGallery #ugcGallery ul {
	display:inline-block;
}
#ugcGallery ul li { 
	text-align:center;
}
#ugcGallery ul li img {
	margin:0 auto;
	padding-bottom:10px;
}
#ugcGallery ul li div.photoData {
	width:100%;
	padding:15px; text-align: left; font-size: 11px; background-color:#f5f5f5;
}
#ugcGallery ul li div.photoData span {
}
#ugcGallery ul li div.photoData .ugsItemName {
	font-size:12px;
	font-weight:bold;
}
#ugcGallery ul li div.photoData .ugsItemDescription {
	clear:both;
	display:block;
	padding: 5px 0;
}
#ugcGallery ul li div.photoData .ugsPhotoDate {
	color:#D55317;
}
div#moduleArticleToolsContainer {
	width:100%;
}
#photoIndexCount {
	text-align:center;
	padding-bottom:10px;
}
#ugcComments {
	text-align:center;
}
#ugcComments #tugs_story_display {
	display:inline-block;
	/* take all lines out of tugs.css on hive line 143 
}
#photo-next-left, #photo-next-right {
	border:none !important;
}
#tugsRating { 
	float:right;
	width:110px;
}
#tugsRating #rating_1, #tugsRating #starRatingFeedback_1 {
	float:right;
}
#tugsRating #rating_1 img {
	padding-bottom:0px;
}*/
#tugs_story_display #tugs_head {
	background:transparent url(/hive/images/ugc/gallery_link_bar_bg.jpg) repeat-x scroll center top;
	height:33px;
	position:relative;
	width:100%;
}
/* UGC GALLERY STYLES */
#ugcGalleryNavigation {
	width:100%;  
	height:30px;
	position:relative;
	padding-bottom:10px;
}
#ugcGalleryNavigation ul {
	background-color:#F5F5F5;
	display:inline-block;
	height:30px;
	list-style-type:none;
	margin:0 auto;
	text-align:center;
	width:100%;
}
#ugcGallery ul li {
	display:none;
	
}
#ugcGallery ul li.selected {
	display:block;
}
#ugcGalleryNavigation ul li {
	display:inline-block;
	height:22px;
	padding:8px 13px 0;
	position:relative;
}
#ugcGalleryNavigation ul li {
	display:inline-block;
	_display:inline;
	*display:inline;
	height:30px;
	line-height:30px;
	padding:0 10px;
	margin:0;
	position:relative;
	text-align:center;
	list-style-type:none;
}
#ugcGalleryNavigation ul li:hover {	
	background:#333;
	color:#FFF;
	cursor:pointer;
	_cursor:hand;
}
#ugcGalleryNavigation ul li.selected {
	background-color:#777;
	color:#FFF;
}
#ugcGalleryNavigation ul li span {
	/*padding:4px 5px 4px 5px;*/
	cursor:pointer;
	_cursor:hand;
}
#ugcGalleryNavigation ul li img {
	display:inline;
}
.ugcPhotoGallery #uploadFormLink {
	float:right;
}
.ugcPhotoGallery #ugcGallery {
	width:100%;
	text-align:center;
}
.ugcPhotoGallery #ugcGallery ul {
	width:100%;
	/*_width:630px;
	*width:630px;*/
}
#ugcGallery ul li { 
	text-align:center;
}
#ugcGallery ul li img {
	margin:0 auto;
	padding-bottom:10px;
}
#ugcGallery ul li div.photoData {
	width:100%;
	text-align: left; font-size: 11px; background-color:#fcfcfc;
	padding-bottom:30px;
	/*
	padding-left:10px;
	padding-right:10px;
	*/
}
#ugcGallery ul li div.photoData span {
	padding-left:10px;
}
#ugcGallery ul li div.photoData .ugsItemName {
	padding-left:10px;
	padding-top:10px;
	display:inline-block;
	font-size:16px;
	
}
#ugcGallery ul li div.photoData .ugsItemUser {
	padding-left:10px;
}
#ugcGallery ul li div.photoData .ugsItemDescription {
	clear:left;
	display:block;
	line-height:16px;
	padding-left:10px;
}
#ugcGallery ul li div.photoData .ugsPhotoDate {
	color:#D55317;
	padding-left:10px;
}
div#moduleArticleToolsContainer {
	width:100%;
}
div#moduleArticleTools ul li{
	float:none;
}
#photoIndexCount {
	text-align:center;
	padding-bottom:10px;
	display:none;
}
#ugcComments {
	text-align:center;
	padding-bottom:40px;
}
#ugcComments #tugs_story_display {
	display:inline-block;
	/* take all lines out of tugs.css on hive line 143 */
}
#photo-next-left, #photo-next-right {
	border:none !important;
}
#ugcGalleryNavigation ul li#photo-next-left {
	float:left;
	height:30px;
	padding:0;
	width:35px;
	background-image:url('/hive/images/ugc/bal_ugc_gall_arrow_left.gif');
	margin:0;
}
#ugcGalleryNavigation ul li#photo-next-right {
	float:right;
	width:35px;
	height:30px;
	padding:0;
	background-image:url('/hive/images/ugc/bal_ugc_gall_arrow_right.gif');
	margin:0;
	_margin-top:-30px;
	*margin-top:-30px;
}
#tugs_story_display #tugs_head {
	background:transparent url(/hive/images/ugc/gallery_link_bar_bg.jpg) repeat-x center top;
	width:100%;
	height:33px;
	position:relative;
}
#tugs_story_display .comment-avatar{
  float:left;
  padding-right:10px;
  text-align:center;
}
#tugs_story_display .comment-block{
  float:left;
}
#ugcGallery ul li {
	width:100%;
}
#ugcGallery ul li img {
	margin:0 auto;
}
#gallery-photo-header-title {
	margin-top:0;
	padding:10px 10px 0;
}
#ugcGallery #actionItems {
	width: 120px; 
	float: right; 
	padding: 10px 10px 10px 0;
	border-left:1px solid #f5f5f5;
	margin-left:10px;
}
#ugcGallery #actionItems #reportAbuse {
	padding: 0 0 10px 0; 
	clear: both; 
	text-align: right;
	*margin-top:-7px;
	_margin-top:-7px;
}
.share_this{
	text-align: right;
}
#ugcGallery .share_this .stbuttontext{
	padding: 0;
}
#newStars {
	padding:0;
	*width:115px;
	_width:115px;
}
#ugcGallery ul li div.photoData #rating_1 img {
	float:left;
	width:16px;
	height:16px;
}
/* END UGC GALLERY STYLES */
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 921
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 26 Mar 2009 22:00:37 GMT
ETag: "399-49cbfb05"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=170
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 921
---Content---
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:text-top;}sub{vertical-align:text-bottom;}input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;}input,textarea,select{*font-size:100%;}legend{color:#000;}del,ins{text-decoration:none;}
.clearfix:after {
	content: " ";
	display: block;
	clear: both;
	visibility: hidden;
	line-height: 0;
	height: 0;
}
.clearfix {
	display: inline-block;
}
html[xmlns] .clearfix {
	display: block;
}
* html .clearfix {
	height: 1%;
}

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 76522
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 19 Apr 2012 18:50:59 GMT
ETag: "12aea-4f905e93"
Accept-Ranges: bytes
Content-Length: 16725
Vary: Accept-Encoding
Cache-Control: private, max-age=197
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 1989
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 26 Jul 2011 20:20:45 GMT
ETag: "7c5-4e2f219d"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=70
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 1989
---Content---
div#footer {margin: 0px 0; padding: 10px; display: inline-block;}
div#footer div#siteOverview {padding-bottom: 10px;}
div#footer div#siteOverview ul{width: 160px; float: left;}
div#footer div#siteOverview ul li ul{padding-top: 0px;}
div#footer div#siteOverview ul li ul li a.mainOverviewLink,
div#footer div#siteOverview ul li a.mainNav{font-size: 20px; line-height: 40px;}
div#footer div#siteOverview ul li a{font-weight: normal; font-size: 12px;}
div#footerContainer {display:inline-block; width:100%;}
div#footer div#footerlogo {float:left;}
div#footer div#footertext {float:right;}
div#footer div#footertext ul.links {padding-bottom: 3px;}
div#footer div#footertext ul.links li { display: inline; padding: 0px 4px; font-weight: normal; border-right: 1px solid #3a3939; }
div#footer div#footertext ul.links li.firstMenuItem {padding-left: 0px;border-left: none;}
div#footer div#footertext ul.links li.lastMenuItem {border-right: 0px solid #3a3939;}
div#footer div#footertext ul.links li a {color: #3a3939; font-weight:normal; white-space:nowrap;}

div.family {
    text-align: center;
    font-style: italic;
    padding: 5px;
}

div#physical-address {
    text-align: center;
}

div#physical-address address{
	color: #333333;
	font-size: 11px;
}

div#advertiserFooterContainer {border-top:1px solid;margin-top: 100px;margin-bottom: 20px;}
div#advertiserFooterContainer div#footertext .footertext_container {margin-left:160px;margin-right:160px;margin-top:15px;}
div#advertiserFooterContainer div#footertext .footertext_container .divider {border-left:1px #000 solid;}
div#advertiserFooterContainer div#footertext .footertext_container .single_column ul li {float:left; margin-right:10px;}
div#advertiserFooterContainer div#footertext .footertext_container .adss_column {padding:10px;}
div#advertiserFooterContainer div#footertext .footertext_container .adss_column ul li {margin-bottom:5px;} 
div#advertiserFooterContainer div#footertext .footertext_container td {vertical-align:top;}

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/ssor.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 4023
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Fri, 23 Jul 2010 21:11:21 GMT
ETag: "fb7-4c4a0579"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=85
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 4023
---Content---
/* Common */
body.express-left-nav #header, body.express-no-nav #header, body.express-top-nav #header {margin-bottom: 15px;}
#footer {clear: both;}
.adContainer {margin: 10px 0px;}

/* Left Navigation */
body.express-left-nav {}

body.express-left-nav #container {text-align: left; width: 980px; padding: 0px 10px; margin: 0px auto;}

body.express-left-nav #searchBox {margin: 0px 0px 10px 15px;}

body.express-left-nav div#navigation {float: left; width: 210px; height:auto; margin-right: 10px;}

body.express-left-nav div#weatherbug {height:65px; left:480px; position:absolute; right:0; top:25px; width:96px;}

body.express-left-nav div#hotTopic {color:#000; float:left; margin:10px 0; width:755px;}

body.express-left-nav div#navigation div#search {float: none; position: relative;}
body.express-left-nav div#navigation ul#root li.highlight {height: auto;}
body.express-left-nav ul#root li {float: none; text-align: left;}
body.express-left-nav ul#root li a {float: none;}
body.express-left-nav ul#root li.hideMainNav {display: none;}
body.express-left-nav ul#root li.hideMainNav ul.level2 {display: none;}
/* Nest-list left nav: */
/* body.express-left-nav ul#root li ul.level2 {display: block; margin:5px; position:relative; top:0; left:0;}*/
/* Fly-out left nav: (999 because nav should always be on top) */
body.express-left-nav ul#root li ul.level2 {left:210px; top: 0px; z-index:999; display: none; width: 200px; padding: 10px;}
body.express-left-nav ul#root li:hover ul.level2, body.express-left-nav ul#root li.highlight ul.level2 {display:block;}

body.express-left-nav div#section {float: left; width: 760px;}

body.express-left-nav #topLeftWide, 
body.express-left-nav #middleLeftWide {float: left; width: 405px; margin-left: 0px;}

body.express-left-nav #topLeftNarrow, 
body.express-left-nav #middleLeftNarrow {float: left; width: 330px; padding-right: 5px;}

body.express-left-nav #topRightWide, 
body.express-left-nav #middleRightWide {float: left; width: 410px; padding-right: 0px;}

body.express-left-nav #topRightNarrow, 
body.express-left-nav #middleRightNarrow {float: left; width: 335px;}

/* No Navigation */
/* NOTE: no nav and top nav styles are identical except for the display of the navigation */
body.express-no-nav {}
body.express-no-nav div#navigation {display: none;}

/* Top Navigation */
/* NOTE: no nav and top nav styles are identical except for the display of the navigation */
body.express-top-nav {}
body.express-top-nav div#navigation {width: 980px; margin-bottom: 25px;}
body.express-top-nav ul#root li {cursor:pointer; display:block; float:left; font-weight:700; list-style-type:none; padding:5px 7px; text-align:center; width:auto;}
body.express-top-nav ul#root li a {}
body.express-top-nav ul#root li ul.level2 {display: block;}
body.express-top-nav div#weatherbug{height:65px; position:absolute; right:200px; top:100px; width:96px; z-index:100;}

body.express-no-nav #container,
body.express-top-nav #container {text-align: left; width: 980px; padding: 0px 10px; margin: 0px auto;}

body.express-no-nav #middleLeft, 
body.express-top-nav #middleLeft {float: left; width: 255px;}

body.express-no-nav #topLeftWide,
body.express-no-nav #middleLeftWide,
body.express-top-nav #topLeftWide, 
body.express-top-nav #middleLeftWide {float: left; width: 525px;}

body.express-no-nav #topLeftNarrow, 
body.express-no-nav #middleLeftNarrow, 
body.express-top-nav #topLeftNarrow, 
body.express-top-nav #middleLeftNarrow {float: left; width: 400px; padding-right: 5px; margin-left: 10px;}

body.express-no-nav #topRightWide,
body.express-no-nav #middleRightWide,
body.express-top-nav #topRightWide,
body.express-top-nav #middleRightWide {padding-left: 5px; float: left; width: 550px;}

body.express-no-nav #topRightNarrow, 
body.express-no-nav #middleRightNarrow,
body.express-top-nav #topRightNarrow, 
body.express-top-nav #middleRightNarrow {float: left; width: 430px;}

body.express-no-nav #middleCenter,
body.express-top-nav #middleCenter {float: left; width: 260px; margin-left: 10px;}
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@29165a67
---Content---
body {
	font-family: Georgia, "Times New Roman", Times, serif;
	background-color: #FFF;
	font-size: 14px;
	padding: 0 5px;
	background-position: center top;
	background-repeat: no-repeat;
	}
h1, h2, h3, h4, h5, h1 a, h2 a, h3 a, h4 a, h5 a, a {
	color: #000;
	font-weight: normal;
	}
h1 {
	 font-size: 26px;
	}
div.module {
	margin-bottom: 30px;
	}
div.premiumVideo {
	margin-bottom: 5px;
	}
div.blurb {
	margin-bottom: 0;
	}
div#container {
	background-color: #FFF;
	}
div#content {
	width: 630px;
	margin-left: 0;
	padding-left: 0 !important;
	}
div#rail {
	margin-right: 0;
	}
#topLeftWide,
#middleLeftWide,
#bottomLeftWide,
#topRightWide,
#middleRightWide,
#bottomRightWide {
	width: 630px;
	padding: 0;
	}
#topLeftNarrow,
#middleLeftNarrow,
#bottomLeftNarrow,
#topRightNarrow,
#middleRightNarrow,
#bottomRightNarrow {
	padding: 0;
	}
#topCenterFull,
#middleCenterFull,
#bottomCenterFull {
	padding: 0;
	}
div.slidingbillboard {
	margin-left: 0;
	}
#bottomCenterFull .curvedCorners {
	margin: 0;
	}
div#contentBottom {
	margin: 0 auto;
	width: 980px;
	}
div.breaking_main {
	width: 978px;
	}
.breaking_box_email {
	display: inline;
	padding-left: 0;
	padding-right: 0;
	}


/* Header Styles */

div#header {
	height: 90px;
	position: relative;
	}
div#header.headerWithPromo {
	height: 140px;
	}
div#logo {
	position: absolute;
	bottom: 0;
	}
.smallLogo div#logo {
	bottom: 5px;
	}
div#weatherbug {
	bottom: 20px;
	left: 450px;
	position: absolute;
	}
div#classified-bar {
	margin-top: 10px;
	border-bottom: 3px solid #000;
	}
div#classified-bar, 
div#classBarNav,
div#classBarNav ul.classBarNavLink a,
div#classified-bar a {
	font-weight: normal;
	background-color: #FFF;
	}
div#classBarNav ul.classBarNavMember {
	padding-left: 3px;
	}
div#classBarNav ul.classBarNavLink a {
	text-transform: capitalize;
	}
div#classBarNav ul.classBarNavLink a:hover,
div#classified-bar a:hover {
	text-decoration: underline;
	}
#helloVisitor {
	padding-right: 8px;
	margin-right: 4px;
	border-right: 1px solid #000;
	}
#loginSeparator {
	text-transform: lowercase;
	}
span#helloVisitor,
span#loginSeparator,
a#loginAnchor,
a#registerAnchor {
	display: none;
	}
#sectionBreadcrumb {
	text-transform: uppercase;
	font-size: 27px;
	border-left: 2px solid #CCC;
	position: absolute;
	left: 432px;
	top: 34px;
	padding: 5px 0 0 16px;
	line-height: 35px;
	}
div.dateStamp {
	bottom: 20px;
	left: 540px;
	}
div#inlineHeaderAd {
	bottom: 15px;
	right: 0 !important;
	top:50px !important;
	}
div#headerAdCode1 {
	right: 0;
	}
div.headerAdCodeNoPromo#headerAdCode1 {
	top: 54px;
	left:740px;
	}
div.headerAdCodeNoPromo#headerAdCode1 img{
	display:inline;
}
div#headerPromo .holder {
	width: 735px;
	padding-left: 0;
	}
div#headerPromo div.headerItem,
div#headerPromo div.headerAdExtra {
	padding-left: 11px;
	}
#container div.topLeaderboard {
	padding-top: 4px;
	}


/* Centered Header Styles */

div#header.centered-logo div#logo {
	left: 301px;
	}
div.centered-logo div.dateStamp {
	left: 0;
	}


/* Navigation Styles */

div#navigation {
	background-color: #000;
	margin-top: 0;
	margin-bottom: 50px;
	}
div#navigation div#layerOne {
	position: relative;
	height: 38px;
	width: 100%;
	display: inline-block;
	}
ul#root {
	padding-left: 5px;
	width: auto;
	}
* html ul#root {
	display: inline-block;
	}
ul#root li a.mainNav {
	color: #FFF;
	font-size: 14px;
	}
ul#root li.navLink {
	padding: 0;
	}
ul#root li.first {
	margin-left: 5px;
	}
ul#root li.navLink a {
	padding: 17px 4px 16px 5px;
	*padding: 17px 4px 16px 4px;
	}
ul#root li.hideMainNav a.mainNav {
	background: none;
	}
ul#root li.highlight,
ul#root li:hover {
	background: none;
	}
ul#root li.highlight a {
	background: url(/images/tabs.gif) no-repeat 0 4px;
	}
ul#root li a.mainNav span {
	line-height: 5px;
	padding-bottom: 10px;
	padding-right: 7px;
	padding-top: 5px;
	}
ul#root li.highlight a.mainNav span {
	background: url(/images/tabs.gif) no-repeat right -50px;
	padding-left: 0;
	}
ul#root li.highlight a,
ul#root li a:hover {
	color: #000;
	}
ul.level2 {
	background: url(/images/subnav_bg.gif) no-repeat 0 bottom;
	}
ul#root li ul.level2 {
	top: 38px;
	height: 40px;
	}
ul#root li ul.level2 li {
	margin: 0 7px 0 9px;
	padding: 0;
	}
ul#root li ul.subStay li.highlight {
	margin: 0 0 0 7px;
	background: url(/images/subnav_tabs.gif) no-repeat 0 5px;
	}
ul#root li ul.level2 li a:hover,
ul#root li.highlight ul.level2 li a:hover {
	color: #000;
	}
ul#root li.highlight ul.level2 li a, 
ul#root li ul.level2 li a {
	color: #000;
	font-size: 12px;
	line-height: 29px;
	margin: 0;
	padding: 5px 7px 6px;
	}
ul#root li ul.subStay li.highlight a {
	background: url(/images/subnav_tabs.gif) no-repeat right -31px;
	padding-right: 14px;
	padding-left: 9px;
	}
ul#root li.shop a {
	color: #090 !important;
	}
ul#root li.shop ul.level2 li a {
	color: #090 !important;
	}
div#hotTopic {
	font-size: 12px;
	margin-bottom: 15px;
	padding-top: 0;
	}
div#hotTopic ul {
	height: 16px;
	}
div#hotTopic ul li {
	line-height: 12px;
	padding: 0 10px;
	border-color: #000;
	}
div#hotTopic ul li a {
	color: #000;
	font-size: 12px;
	text-transform: uppercase;
	}
div#hotTopic ul li a:hover {
	color: #000;
	text-decoration: underline;
	}
div#hotTopic ul li.hot-link-begin {
	color: #930000;
	font-weight: normal;
	}
div#hotTopic ul li.hot-link-1 {
	padding-left: 0;
	border: 0;
	}
body#videofront div#hotTopic ul li a,
body#videofront div#hotTopic ul li,
body#videofront div#hotTopic ul li a:hover {
    color: #FFF ;
}
body#videofront div#hotTopic ul li  {
    border-color: #FFF ;
}

div#navigation div#search {
	float: right;
	padding: 6px 6px 0 0;
	position: absolute;
	top:0;
	right:0;
	}
div#navigation div#search input {
	font-size: 10px;
	padding: 3px 2px 2px;
	}
div#navigation div#search input#searchButton {
	text-transform: uppercase;
	}

div#hotTopic div#search {
	top: -7px;
	right: 4px;
}	

* html div#navigation div#search input#searchButton {
	padding-left: 3px;
	padding-right: 3px;
	}
*:first-child+html div#navigation div#search input#searchButton {
	padding-left: 3px;
	padding-right: 3px;
	}
div#navigation div#search input#searchText {
	padding: 5px 4px 3px;
	margin-right: 3px;
	color: #666;
	width: 92px;
	}
* html div#navigation div#search input#searchText {
	padding-top: 4px;
	margin-right: 0;
	}
*:first-child+html div#navigation div#search input#searchText {
	padding-top: 4px;
	margin-right: 0;
	}

/* Lead Content Styles */

#leadcontent-main,
.leadMezz {
	background-color: #FFF;
	color: #000;
	border: 0;
	padding: 0;
	width: 630px;
	}
* html #leadcontent-main,
* html .leadMezz {
	margin-left: 0;
	}
div#leadcontent-main.noBorder {
	border: 0;
	}
div.leadcolumn1,
div#leadcontent-main div#slideContainerSmall,
div#leadcontent-main div#slideContainerSmall div.mainSlide,
div#leadcontent-main div#slideContainerAdjust div.mainSlide {
	padding: 0;
	}
div#leadcontent-main div#slideContainerAdjust {
	padding-top: 0;
	padding-bottom: 0;
	padding-left: 0;
	}
div#leadcontent-main div#headlineContainerAdjust,
div#leadcontent-main div#headlineContainerLarge {
	padding: 0;
	}
#leadcontent-main h1 a, 
div.mainHeadline h4 a, 
h3.headline a, 
div.mainHeadline h2 a, 
div.leadMezz a, 
div.leadMezz h2.headline a,
#leadcontent-main p.brief a, 
div.mainSlideDetailsContents h3.headline a,
div.highlight h2.headline a, 
.highlight a {
	color: #000;
	}
#leadcontent-main h1 a:hover, 
div.mainHeadline h4 a:hover, 
h3.headline a:hover, 
div.mainHeadline h2 a:hover, 
div.leadMezz a:hover, 
div.leadMezz h2.headline a:hover,
#leadcontent-main p.brief a:hover, 
div.mainSlideDetailsContents h3.headline a:hover {
	color: #000;
	}	
#leadcontent-main h2.headline,
#leadcontent-main h2.headline a {
	font-size: 24px;
	}
div.slideshow-thumb-img-small-container div.highlight, 
div#leadcontent-main div#headlineContainer div.highlight {
	background-color: #CCC;
	}
div.headlines a.callToAction,
div#leadcontent-main a.callToAction {
	color: #2262CC;
	font-size: 14px;
	font-weight: normal;
	}
div.headlines a:hover.callToAction,
div#leadcontent-main a:hover.callToAction {
	text-decoration: underline;
	}
.lead-related-items .related-item p a, 
div.leadcontent div.relatedItem a {
	color: #000;
	}
div#leadcontent-main div.mainSlideDetails {
	padding-left: 0;
	}
.headline-container div.mainHeadline div {
	padding: 0 !important;
	}
.headline-container .bulleted .mainHeadline {
	padding-left: 0 !important;
	}
.headline-container .mainHeadline,
.headline-container .emphasizedBulleted .mainHeadline {
	padding: 5px 0 !important;
	margin: 0 4px !important;
	}
.headline-container .bulleted .mainHeadline .first,
.headline-container .bulleted .mainHeadline .normal,
.headline-container .bulleted .mainHeadline .last {
	padding-left: 0 !important;
	}
.headline-container .mainHeadline .first,
.headline-container .mainHeadline .normal,
.headline-container .mainHeadline .last,
.headline-container .emphasizedBulleted .mainHeadline .first,
.headline-container .emphasizedBulleted .mainHeadline .normal,
.headline-container .emphasizedBulleted .mainHeadline .last {
	padding: 0 4px !important;
	}
.headline-container .last {
	float: none;
	margin: 0;
	}
.headline-container img {
	margin: 0 0 4px 4px;
	}
div#leadcontent-main ul li.bulleted {
	margin-left: 23px;
	list-style-position: outside;
	}
div#leadcontent-main ul li.emphasizedBulleted {
	margin-left: 0;
	list-style: none;
	}
.defaultHeadlines .headlineItem,
#headlineContainer,
#headlineContainer .mainHeadline,
.mainSlideDetailsContents,
#leadcontent-bigstory {
	overflow: hidden;
	}
#headlineContainer .mainHeadline {
	zoom: 1;
	}
#bigStoryHeadline,
#bigStoryDetails {
	display: inline;
	}
.defaultHeadlines .headline,
.mainSlideHeadline,
.bigStoryHeadline,
#headlineContainer .headline {
	display: inline !important;
	margin-right: 1px;
	}
* html .defaultHeadlines .headline,
* html .mainSlideHeadline,
* html .bigStoryHeadline,
* html #headlineContainer .headline {
	margin-right: 3px;
	}
*:first-child+html .defaultHeadlines .headline,
*:first-child+html .mainSlideHeadline,
*:first-child+html .bigStoryHeadline,
*:first-child+html #headlineContainer .headline {
	margin-right: 3px;
	}
.defaultHeadlines .headline a,
.mainSlideHeadline a,
.bigStoryHeadline a,
#headlineContainer .headline a {
	display: inline !important;
	position: relative;
	background: #FFF;
	padding-right: 4px;
	}
.kaleidoscope #headlineContainer .headline a {
	background: transparent;
	}
#leadcontent-main .relatedHeadline .relatedHeadline-link {
	margin-right: 7px;
	}
.defaultHeadlinesByline,
.mainSlideByline,
.bigStoryByline,
.mainHeadlineByline {
	margin-top: 3px;
	display: block;
	}
.defaultHeadlinesByline .byline,
.mainHeadlineByline .byline,
.mainSlideByline .byline,
.bigStoryByline .byline {
	display: inline;
	margin-right: 4px;
	}
.leadcontent .byline {
	line-height: 20px;
	}
* html .defaultHeadlinesByline .byline,
* html .mainHeadlineByline .byline,
* html .mainSlideByline .byline,
* html .bigStoryByline .byline {
	margin-right: 8px;
	}
.defaultHeadlines .update-source,
.mainTimestamp,
.bigStoryTimestamp {
	font-size: 0;
	display: inline-block;
	}
.defaultHeadlines .last-updated,
.mainTimestamp .last-updated,
.bigStoryTimestamp .last-updated {
	display: inline;
	line-height: 20px;
	}
.defaultHeadlines .last-updated span,
.mainTimestamp .last-updated span,
.bigStoryTimestamp .last-updated span {
	white-space: nowrap;
	line-height: 20px;
	padding-left: 4px;
	border-left: 1px solid #000;
	}
* html .defaultHeadlines .last-updated span,
* html .mainTimestamp .last-updated span,
* html .bigStoryTimestamp .last-updated span {
	display: inline;
	}
*:first-child+html .defaultHeadlines .last-updated span,
*:first-child+html .mainTimestamp .last-updated span,
*:first-child+html .bigStoryTimestamp .last-updated span {
	display: inline;
	margin-top: 0;
	}
.defaultHeadlinesByline {
	float: left;
	}
.rightHeadlinePos .defaultHeadlinesByline {
	float: none;
	}
.hasByline .last-updated {
	display: block;
	padding-bottom: 1px;
	}
.defaultHeadlinesBrief {
	margin-top: 1px;
	}
.hasByline .defaultHeadlinesBrief {
	clear: both;
	}
.rightHeadlinePos .defaultHeadlinesBrief {
	clear: none;
	}
.mainHeadlineBrief,
.mainSlideBrief,
.bigStoryBrief {
	margin-top: 3px;
	clear: left;
	}
.defaultHeadlines .rightHeadlinePos img.headlineThumb {
	margin-right: 0;
	padding-right: 8px;
	background: #FFF;
	}


/* Headline Module Styles */

div.headlines {
	padding-top: 0;
	}
div.headlines h2.title {
	border-bottom: 1px solid #DDD;
	border-top: 3px solid #000;
	padding: 0;
	margin-bottom: 0;
	font-size: 24px;
	line-height: 37px;
	text-transform: none;
	}
* html div.headlines h2.title {
	display: inline-block;
	}
*:first-child+html div.headlines h2.title {
	display: inline-block;
	}
div.mainWSecondary h2.title {
	margin-bottom: 10px;
	}
.headlines div.curvedContent h2.title {
	padding-top: 0 !important;
	}
.tabContentContainer .headlines h2.title {
	display: none;
	}
div.titleContainer h2.title,
div.titleContainer h2.title a {
	color: #000;
	}
div.twoColumnContainer h2.title, div.twoColumnContainer h2.title a,
div.threeColumnContainer h2.title, div.threeColumnContainer h2.title a {
    font-size:24px;
    padding-top:7px;	
} 	
	
div.headlines h2,
div.headlines h3,
div.headlines h4 {
	margin-bottom: 5px;
	color: #000;
	font-size: 13px;
	}
.defaultHeadlines .aboveHeadlinePos .headlineTimestamp {
	margin-bottom: 5px;
	}
div.headlines h2 a,
div.headlines h3 a,
div.headlines h4 a {
	color: #000;
	font-size: 13px;
	}
div.headlines h2.headline,
div.headlines h2.headline a,
div.headlines h3.headline,
div.headlines h3.headline a,
div.headlines h4.headline,
div.headlines h4.headline a {
	color: #000;
	font-size: 13px;
	}
.mainWSecondary .headline1 a {
	line-height: 17px;
	}
div.headlines a.storySource {
	color: #000;
	font-size: 11px;
	}
div.headlines .headlineItem h2.embiggen,
div.headlines .headlineItem h2.embiggen a,
div.headlines .headlineItem h3.embiggen,
div.headlines .headlineItem h3.embiggen a,
div.headlines .headlineItem h4.embiggen,
div.headlines .headlineItem h4.embiggen a,
div.mainWSecondary ul.col1 .headline,
div.mainWSecondary ul.col1 .headline a {
	font-size: 17px;
	line-height: 21px;
	}
#leadcontent-main div.slide-container h1,
#leadcontent-main div.slide-container h1 a {
	font-size: 22px;
	margin-bottom: 5px;
	}
#headlineContainer div.first h2,
#headlineContainer div.first h2 a,
#leadcontent-main div.slide-container h2,
#leadcontent-main div.slide-container h2 a {
	font-size: 18px;
	margin-bottom: 5px;
	}
#leadcontent-main div.topSecondary h2,
#leadcontent-main div.topSecondary h2 a {
	font-size: 26px;
	}
#headlineContainer div.normal h3,
#headlineContainer div.normal h3 a,
#headlineContainer div.normal h4,
#headlineContainer div.normal h4 a,
#headlineContainer div.last h3,
#headlineContainer div.last h3 a,
#headlineContainer div.last h4,
#headlineContainer div.last h4 a {
	font-size: 14px;
	line-height: 19px;
	}
#leadcontent-main p.brief {
	font-size: 11px;
	}
.relatedHeadline a {
	font-size: 13px;
	line-height: 18px;
	}
#leadcontent-main .mainSlideDetails p.brief,
#leadcontent-main .mainHeadlineBrief p.brief {
	font-size: 13px;
	line-height: 18px;
	}
span.minutesAgo,
p.last-updated {
	font-style: normal;
	}
div.headlines ul.col1 {
	padding-left: 0;
	padding-right: 2%;
	width: 48%;
	}
div.headlines ul.FullAlt1 {
	width:400px !important;
}	
div.headlines ul.col2 {
	padding-left: 0;
	}
div.headlines ul.col2 li {
	padding-bottom: 8px;
	}
div.headlines ul.col2 li.lastSecondary {
	padding-bottom: 0;
	}
div.headlines ul.col2 h3,
div.headlines ul.col2 .headline1 {
	display: inline;
	}
.mainWSecondary .byline {
	display: block;
	}
table.threeColumn img.headlineThumb,
img.headlineThumb {
	margin: 0;
	}
.headlineBelow img.headlineThumb {
	margin-bottom: 5px;
	float: none;
	}
.rightHeadlinePos img.headlineThumb,
.inLine img.headlineThumb,
.headlineTable img.headlineThumb,
.mainWSecondary img.headlineThumb {
	margin-right: 8px;
	}
div.headlines ul li div.overlayThumb div.overlay {
	left: 0;
	}
.mainWSecondary p.small {
	font-size: 12px;
	line-height: 16px;
	}
.aboveHeadlinePos h2,
.aboveHeadlinePos h3,
.aboveHeadlinePos h4 {
	display: block;
	}
table.headlineBelow td h2,
table.headlineBelow td h3,
table.headlineBelow td h4 {
	padding-top: 0;
	}
table.headlineTable td {
	padding: 0;
	}
div.headlineItem {
	padding-left: 0;
	font-size: 12px;
	}
div.headlineItem p {
	line-height: 17px;
	text-align:left;
	padding-top: 2px;
	*padding-top: 1px;
	}
div.belowHeadlinePos p {
	clear:left;
	}
div.headlineItem .briefRight .defaultHeadlineBrief p{
	float:right; 
}
.headlineTable div.headlineItem {
	width: auto;
	padding-right: 25px;
	}
.verticalRules table.threeColumn {
	margin: 5px 0 0;
	width: 100%;
	}
.verticalRules table.threeColumn td {
	border-left: 1px solid #DDD;
	padding: 5px 0 0;
	width: auto;
	}
.verticalRules table.threeColumn td.firstCol {
	border-left: 0;
	}
.verticalRules table.threeColumn td.secondCol {
	padding-left: 8px;
	padding-right: 7px;
	text-align: center;
	}
.verticalRules table.threeColumn td.secondCol table {
	margin: auto;
	float: none;
	}
.verticalRules table.threeColumn td.lastCol table {
	float: right;
	}
.verticalRules table.threeColumn td td {
	border: 0;
	text-align: left;
	}
.verticalRules table.threeColumn div.headlineItem {
	padding: 0;
	}
#topLeftWide .headColumn1,
#topRightWide .headColumn1,
#middleLeftWide .headColumn1,
#middleRightWide .headColumn1,
#bottomLeftWide .headColumn1,
#bottomRightWide .headColumn1 {
	margin-bottom: 17px;
	}
#topLeftWide .headColumn1 .headlineItem,
#topRightWide .headColumn1 .headlineItem,
#middleLeftWide .headColumn1 .headlineItem,
#middleRightWide .headColumn1 .headlineItem,
#bottomLeftWide .headColumn1 .headlineItem,
#bottomRightWide .headColumn1 .headlineItem {
	margin-top: -1px;
	padding-top: 12px;
	padding-bottom: 13px;
	border-top: 1px dotted #DDD;
	}
#section .twoColumnSplit .headColumn1 .headlineItem,
#section .threeColumnSplit .headColumn1 .headlineItem {
	margin-top: 0;
	padding-top: 10px;
	padding-bottom: 0;
	border-top: 0;
	}
.defaultHeadlines .headlineItem li.bullets {
	list-style-position: inside;
	padding-left: 1px;
	}


/* Tab Module Styles */

#topLeftWide div.tabContentDisplay,
#topLeftWide div.tabContentContainer,
#middleLeftWide div.tabContentDisplay,
#middleLeftWide div.tabContentContainer,
#bottomLeftWide div.tabContentDisplay,
#bottomLeftWide div.tabContentContainer,
#topRightWide div.tabContentDisplay,
#topRightWide div.tabContentContainer,
#middleRightWide div.tabContentDisplay,
#middleRightWide div.tabContentContainer,
#bottomRightWide div.tabContentDisplay,
#bottomRightWide div.tabContentContainer,
#topLeftWide div.fakeContentHolder div.newContent,
#middleLeftWide div.fakeContentHolder div.newContent,
#bottomLeftWide div.fakeContentHolder div.newContent,
#topRightWide div.fakeContentHolder div.newContent,
#middleRightWide div.fakeContentHolder div.newContent,
#bottomRightWide div.fakeContentHolder div.newContent,
#topLeftWide div.tabContentDisplay,
#topLeftWide div.tabContentContainer,
#middleLeftWide div.tabContentDisplay,
#middleLeftWide div.tabContentContainer,
#bottomLeftWide div.tabContentDisplay,
#bottomLeftWide div.tabContentContainer,
#topRightWide div.tabContentDisplay,
#topRightWide div.tabContentContainer,
#middleRightWide div.tabContentDisplay,
#middleRightWide div.tabContentContainer,
#bottomRightWide div.tabContentDisplay,
#bottomRightWide div.tabContentContainer,
#topLeftWide div.tabContentHolder div.newContent,
#middleLeftWide div.tabContentHolder div.newContent,
#bottomLeftWide div.tabContentHolder div.newContent,
#topRightWide div.tabContentHolder div.newContent,
#middleRightWide div.tabContentHolder div.newContent,
#bottomRightWide div.tabContentHolder div.newContent,
#rail div.tabContentDisplay,
#rail div.tabContentContainer,
#rail div.tabContentHolder div.newContent {
	width: 630px;
	}
#topLeftNarrow div.tabContentDisplay,
#topLeftNarrow div.tabContentContainer,
#middleLeftNarrow div.tabContentDisplay,
#middleLeftNarrow div.tabContentContainer,
#bottomLeftNarrow div.tabContentDisplay,
#bottomLeftNarrow div.tabContentContainer,
#topRightNarrow div.tabContentDisplay,
#topRightNarrow div.tabContentContainer,
#middleRightNarrow div.tabContentDisplay,
#middleRightNarrow div.tabContentContainer,
#bottomRightNarrow div.tabContentDisplay,
#bottomRightNarrow div.tabContentContainer,
#topLeftNarrow div.tabContentHolder div.newContent,
#middleLeftNarrow div.tabContentHolder div.newContent,
#bottomLeftNarrow div.tabContentHolder div.newContent,
#topRightNarrow div.tabContentHolder div.newContent,
#middleRightNarrow div.tabContentHolder div.newContent,
#bottomRightNarrow div.tabContentHolder div.newContent,
#rail div.tabContentDisplay,
#rail div.tabContentContainer,
#rail div.tabContentHolder div.newContent {
	width: 336px;
	}
div.tabContentContainer {
	padding-top: 10px;
	clear: left;
	}
div.tabModuleContainer {
	background: none;
	}
div.tabModuleContainer div.tabs {
	border-top: 3px solid #000;
	border-bottom: 1px solid #CCC;
	height: auto;
	float: left;
	}
div.tabModuleContainer ul.tabModule{
	float: none;
	margin: 0;
	}
div.tabModuleContainer h2.tabTitle {
	color: #000;
	font-size: 24px;
	line-height: 37px;
	font-weight: normal;
	float: left;
	padding: 0 20px 0 0;
	}
div.tabModuleContainer h2.tabTitle a {
	color: #000;
	}
ul.tabModule li {
	line-height: 32px;
	padding-top: 5px;
	background: transparent !important;
	}
ul.tabModule li a:link,
ul.tabModule li a:visited,
ul.tabModule li a:hover,
ul.tabModule li a:active {
	color: #888;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: normal;
	text-transform: uppercase;
	}
ul.tabModule li.curTab a,
ul.tabModule li.curTab a:link,
ul.tabModule li.curTab a:visited,
ul.tabModule li.curTab a:hover,
ul.tabModule li.curTab a:active {
	color: #000;
	text-decoration: none;
	}
ul.tabModule li.curTab a {
	cursor: default;
	}
div.tabDisplay {
	padding: 0;
	}
div.tabDisplay .blurb,
div.tabDisplay .mainWSecondary {
	margin-top: 10px;
	}


/* Promo Styles */

div.featurePromo {
	border: 1px solid #BCB9B9;
	background-color: #FFF;
	padding-top: 10px;
	width: auto !important;
	}
div.featurePromo b {
	font-weight: normal;
	}
div.photogalleryPromo h2,
div.featurePromo h2.title {
	color: #000;
	font-size: 12px;
	font-weight: normal;
	text-transform: uppercase;
	padding: 0 10px 10px;
	}
div.photogalleryPromo div.featurePromoTitle {
    padding: 0 5px 10px 10px;
    }
div.photogalleryPromo div.featurePromoTitle h2 {
    border-bottom: 1px solid #dddddd;
    font-size: 24px;
    margin-bottom: 5px;
    padding: 0 10px 10px 0;
    text-transform: none;
	display: block;
    }
* html div.photogalleryPromo div.featurePromoTitle h2 {
    display: inline-block;
    }
div.photogalleryPromo div.featurePromoTitle h2 a {
    font-size: 24px;
	line-height: 21px;
    }
div.photogalleryPromo div.featurePromoTitle span {
    color: #000;
    }
div.photogalleryPromo li.photoGalleryItem h3,
div.photogalleryPromo li.photoGalleryItem h3 a,
div.featurePromo h4 a {
    color: #000;
    font-size: 14px;
    }
div.featurePromo a,
div.featurePromo p {
    color: #000;
    font-size: 12px;
    line-height: 16px;
    }
div.featurePromo h4 {
    margin-bottom: 3px;
    }
div.featurePromo div.content {
    padding-top: 0;
    }
div.photogalleryPromo ul.main {
    padding-left: 10px;
    }
div.photogalleryPromo ul.secondary {
    padding-left: 10px;
    margin-bottom: 10px;
    }
div.photogalleryPromo li.photoGalleryItem {
    padding: 0 0 10px;
	color: #000000;
    }
div.featurePromo div.content img {
	border: 0;
	margin: 0 10px;
	display: inline;
	}
div.photogalleryPromo li.photoGalleryItem img {
	border: 0;
	margin: 0 10px 10px 0;
	display: inline;
	}
div.featurePromo div.bottomBorder {
	padding-bottom: 10px;;
	border: 0;
	}
div.featuredItem,
div.columnistsContent {
	padding: 0 10px;
	}
div.photogalleryPromo div.photogalleriesMain,
div.photogalleryPromo div.photogalleriesSecondary,
div.photogalleryPromo div.promoBar {
	padding: 0;
	}
div.single-item-promo div {
	margin-left: 0;
	margin-right: 0;
	}
div.single-item-promo div.promo-image img {
	margin: 0;
	}


/* Footer Styles */

div#footer {
	padding: 0;
	margin: 0 auto;
	width: 980px;
	}
div#footerContainer {
	min-height: 110px;
	}
* html div#footerContainer {
	height: 110px;
	}
div#footer div#footerlogo {
	float: none;
	}
div#footer div#footertext {
	float: none;
	}
div#footer div#siteOverview {
	border-bottom: 1px solid #000;
	border-top: 3px solid #000;
	margin-bottom: 10px;
	padding: 6px 10px 12px;
	}
* html div#footer div#siteOverview {
	display: inline-block;
	}
div#footer div#footertext ul li {
	margin-bottom: 16px;
	}
div#footer div#footertext ul.links li a {
	color: #000;
	}
div#footerlogo,
div#footertext {
	color: #000;
	}
div#footertext {
	font-size: 11px;
	}
div#footer div#siteOverview ul li ul li a.mainOverviewLink, 
div#footer div#siteOverview ul li a.mainNav {
	color: #000;
	font-size: 17px;
	line-height: 30px;
	}
div#footer div#siteOverview ul li ul li a {
	color: #000;
	}


body#videofront div#footertext {
	width:100% !important;
	}
	
body#videofront div#footerContainer {
    background:transparent url(/images/branding/white_inkblot.gif) no-repeat scroll right bottom !important;
	padding-right:25% !important;
	width:75% !important;
}


body#videofront ul#root li.highlight ul.level2 li a, 
body#videofront ul#root li ul.level2 li a  {
	text-transform:uppercase;	
}

body#videofront ul#root li a.mainNav span {
	text-transform:uppercase;
}

.family {
	margin-top: 12px;
}

/* Article Styles */

div.articlebody,
div#special-package {
	color: #000;
	}
div.article#content div.story,
div.special-package#content div#story-body {
	background: transparent;
	border: 0;
	margin: 5px 5px 20px 0;
	padding: 0;
	}
div.article#content h1,
div.article#content h2,
div.article#content h3 {
	color: #000;
	}
div.article#content h1 {
	font-size: 28px;
	margin: 0 0 8px;
	}
div.column#content h1 {
	margin-bottom: 14px;
	}
div.article#content h2 {
	font-size: 15px;
	font-weight: normal;
	padding: 0;
	margin-bottom: 18px;
	}
div.article#content p.deckhead {
	margin-bottom: 5px;
	padding-top: 2px;
	font-size: 12px;
	text-transform: uppercase;
	}
div.article#content #module-ratings-and-comments h2 {
	color: #252525;
	}
p.fontsize {
	margin-bottom: 8px;
	}
span#extraPhotos,
span#extraVideos,
span#extraAudio,
span#extraMultimedia,
span#extraStories,
span#extraLinks,
span#extraTopics {
	background-color: #FFF;
	border: 1px solid #000;
	}
div.module p.last-updated,
span.last-updated {
	color: #930000;
	font-size: 11px;
}
div.article div.articlerail ul li.relatedTitle {
	font-size: 14px;
	text-transform: uppercase;
	font-weight: bold;
	}
div.article div.articlerail ul li.relatedTitle span.relatedTitleText , div.storygallery div.storyGalleryRail ul li.relatedTitle span.relatedTitleText {
	font-size: 12px;
	text-transform: uppercase;
	font-weight: normal;
	margin-bottom: 4px;
	}
div.articleRelates li.viewMore a,
div.storyGalleryRelates li.viewMore a {
	text-decoration: none;
	color: #1964CA;
	}
div.article div.thumbnail {
	float: left;
	margin: 0 0 15px 0;
	width: 98%;
	background-color: #F2F2F2;
	padding: 13px 8px 8px;
	margin-bottom: 18px;
	margin-right: 10px;
	}
div.article .largeImage div.thumbnail {
	margin-right: 0;
	}
div.article div.thumbnail div.holder {
	margin-bottom: 0;
	}
div.thumbnail p.small {
	margin: 6px 0 0;
	}
div.article div.articlerail,
div.storygallery div.storyGalleryRail {
	margin-top: 0;
	font-size: 12px;
	line-height: 15px;
	}
div.article div.articlerail ul li,
div.storygallery div.storyGalleryRail ul li {
	margin-left: 0;
	padding-bottom: 10px;
	}
div.article div.articlerail img,
div.storygallery div.storyGalleryRail img {
	padding-right: 8px;
	}
div.articleRelates,
div.storyGalleryRelates {
	padding: 10px 10px 0;
	border: 1px solid #E7E7E7;
	}
#extraPhotos,
#extraVideos,
#extraAudio,
#extraMultimedia,
#extraStories,
#extraLinks,
#extraTopics {
	background-color: #FFF;
	border-color: #DDD;
	}
.closeBox {
	border-color: #DDD;
	}
div#content.article #gallery-subcontent {
	padding: 10px;
	}
div#content.article div.byline {
	font-size: 13px;
	margin-bottom: 12px;
	}
div.article div.byline p.date {
	margin: 3px 0 0;
	}
div.article .dateTimeSeparator {
	color: #FFF;
	font-size: 10px;
	letter-spacing: -1px;
	margin-left: 6px;
	border-left: 1px solid #000;
	}
div.article div.byline p.date span.timeString {
	text-transform: lowercase;
	}
div#content.article span.toolSet {
	margin-top: 6px;
	margin-bottom: 14px;
	}
div#content span.toolSet div.tools ul li {
	font-size: 11px;
	}
* html div#content span.toolSet div.tools ul li {
	line-height: 16px;
	}
*:first-child+html div#content span.toolSet div.tools ul li {
	line-height: 16px;
	}
#content #articletools-fontsize .text,
span.toolSet div.tools ul li a {
	font-size: 11px;
	font-weight: bold;
	}
* html #articletools-share {
	padding-top: 1px;
	}
*:first-child+html #articletools-share {
	padding-top: 1px;
	}
#articletools-share a.stbutton {
	padding-top: 1px;
	padding-bottom: 2px;
	background-position: 0 0 !important;
	}
* html #articletools-share .stbuttontext {
	display: block;
	}
*:first-child+html #articletools-share .stbuttontext {
	display: block;
	}
div.tools .rating-icons {
	font-size: 11px;
	}
* html div.tools #sb_sharethis {
	margin-top: 0;
	}
div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-counter{font-size:12px; padding-right:3px;}
p#story-body,
#story-body-text,
.column #story-body {
	line-height: 1.43;
	}
p#story-body a,
#story-body-text a,
.column #story-body a {
	color: #2262CC;
	}
.sphereTools {
	margin-top: 22px;
	}
#sphereRelated h3#sphereMainTitle.headerSphereRelated {
	font-size: 14px;
	font-weight: normal;
	text-transform: uppercase;
	margin: 0 0 4px;
	}
#sphereRelated h3#sphereMainTitle a {
	margin-top: -16px;
	}
div#content.article #sphereRelated div .headerSphereRelated {
	font-size: 15px;
	font-weight: normal;
	}
#sphereRelated div.sphereContent {
	margin-bottom: 5px;
	}
div#sphereRelated li {
	font: 12px/17px Arial, Helvetica, sans-serif;
	}
span.sphereDocsetSeparator {
	color: #000;
	}
div .sphereDocsetUrl {
	color: #5989d9;
	font-size: 12px;
	}
#sphereAdContainer {
	margin-top: 28px;
	}
div#moduleArticleToolsContainer {
	width: 630px;
	}
/* Most Popular Module Styles */

.popular ol {
	color: #000;
	padding-top: 14px;
	}
.popular ol li {
	padding-bottom: 4px;
	}
div.popular .tabs {
	overflow: hidden;
	}
div.popular ul.tabModule {
	float: left;
	margin-left: -8px;
	padding: 7px 0 6px;
	}
div.popular ul.tabModule li {
	line-height: 17px;
	margin: 0;
	padding: 0 10px;
	border-left: 1px solid #000;
	}
div.popular ul.tabModule li a:link,
div.popular ul.tabModule li a:visited,
div.popular ul.tabModule li a:hover,
div.popular ul.tabModule li a:active {
	font: 15px Georgia, "Times New Roman", Times, sans-serif;
	}
div.popular div.tabs h3 {
	background-color: #FFF;
	padding-bottom: 10px;
	*padding-bottom: 0;
	}
div.mostpopular {
	padding: 0;
	}


/* Feed Mashup Styles */

.feedMasherList .publishDate {
	color: #930000;
	font-size: 11px;
	font-style: italic;
	}


/* Accordion Styles */

div.accordion {
	font-family: Arial, Helvetica, sans-serif;
	border: 0;
	padding: 0;
	background: #F5F5F5 url(/images/accordion-top-bottom-bg.gif) no-repeat;
	}
div.accordion-inner {
	padding: 7px 6px 3px;
	background: url(/images/accordion-top-bottom-bg.gif) no-repeat -336px bottom;
	zoom: 1;
	}
div.accordionItem {
	position: relative;
	margin-bottom: 4px;
	background: #FFF url(/images/accordion-repeat-bg.gif) repeat-x bottom;
	min-height: 50px;
	}
* html div.accordionItem {
	height: 50px;
	}
div.accordionItem-top {
	position: relative;
	background: url(/images/accordion-border-top-bg.png) no-repeat;
	margin-bottom: -3px;
	height: 3px;
	}
* html div.accordionItem-top {
	background: transparent;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/images/accordion-border-top-bg.png', sizingMethod='crop');
	}
div.accordionItem-bottom {
	background: url(/images/accordion-border-bottom-bg.png) no-repeat bottom;
	margin-top: -3px;
	height: 3px;
	}
* html div.accordionItem-bottom {
	background: transparent;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/images/accordion-border-bottom-bg.png', sizingMethod='crop');
	}
div.accordionItem-inner {
	background: url(/images/accordion-border-repeat-bg.png) repeat-y;
	}
* html div.accordionItem-inner {
	zoom: 1;
	margin-right: -1px;
	background: transparent;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/images/accordion-border-repeat-bg.png', sizingMethod='scale');
	}
div.accordionItem-toggleActive {
	background-image: none;
	}
div.accordion ul.accordionToggle {
	background: transparent;
	min-height: 30px;
	}
* html div.accordion ul.accordionToggle {
	height: 30px;
	}
div.accordion ul.accordionToggle li.tabTitle {
	color: #000;
	font-size: 10px;
	font-family: Arial, Helvetica, sans-serif;
	line-height: 16px;
	text-transform: uppercase;
	padding-left: 0;
	margin-left: 29px;
	}
div.accordion ul.accordionToggle li.arrow {
	background: url(/images/accordion_sprite.gif) no-repeat 0 -23px;
	height: 19px;
	width: 19px;
	position: absolute;
	left: 10px;
	top: 9px;
	}
div.accordion ul.accordionToggleActive li.arrow {
	background: url(/images/accordion_sprite.gif) no-repeat 0 0;
	}
div.accordion div.accordionContent {
	background: transparent;
	color: #000;
	width: 304px;
	}
div.accordionContent h1,
div.accordionContent h2,
div.accordionContent h3,
div.accordionContent h4,
div.accordionContent h5,
div.accordionContent h6,
div.accordionContent p,
div.accordionContent a {
	color: #000;
	}
div.accordion div.module {
	padding-left: 0;
	padding-right: 0;
	}
div.weather68 div.wu_505 {
	display: inline;
	padding: 6px 0;
	border: 1px solid #DDD;
	}
div.weather68 .wu_daylabel {
	text-transform: uppercase;
	}
div.weather68 span.hightemp {
	font-weight: normal;
	color: #9c1414;
	}
div.weather68 span.lowtemp {
	font-weight: normal;
	color: #0065ba;
	}
div.weather68 .wu_temps {
	font-size: 0;
	}


/* Photogallery Styles */

#gallery-content-popup #gallery-photos-more li {
	background: #FFF !important;
	border: 1px solid #CCC;
	line-height: 18px;
	}
#gallery-content-popup #gallery-photos-more li a {
	color: #333;
	padding-bottom: 2px;
	}
#gallery-content-popup #gallery-photos-more li.current a,
#gallery-content-popup #gallery-photos-more li a:hover {
	background: #FFF url(/images/gallery-index_bg.gif);
	}
#gallery-photo-header-title {
	padding: 0;
	}
#photo-index {
	display: none;
	}
#gallery-content-popup #gallery-photos-more {
	margin-left: 0;
	}
#module-ratings-and-comments h3,
#photo-information h3 {
	color: #000;
	font-size: 14px;
	padding-bottom: 3px;
	}
#photo-information .subheadline {
	padding-bottom: 3px;
	}
#photo-information .credit {
	padding-bottom: 3px;
	display: block;
	}
#gallery-slideshow #photo-information #pgCaption {
	padding-bottom: 3px;
	padding-top: 0;
	}
#module-secondary-content-spotlight div.relatedContent {
	margin-top: 30px;
	}
#module-secondary-content-spotlight div.relatedContent ul.relatedItems li.relatedTitle {
	font-weight: normal;
	text-transform: uppercase;
	}
#module-secondary-content-spotlight div.relatedContent ul.relatedItems li {
	margin-left: 0;
	font-size: 14px;
	}
#gallery-slideshow #moduleArticleToolsContainer {
	margin-top: 20px;
	}
div#moduleArticleTools ul {
	border-color: #DDD;
	}


/* Taxonomy Styles */

#rtIconBGBar,
#topicGallerySummaryHead,
#tgSearchForm,
.tax-tab,
.tabLeftBorder,
.tabRightBorder,
#htTopTitleBar,
.ttHead td {
	background-color:#000;
	}
.tax-tab {
	border-bottom: 0;
	border-top: 0;
	}
#tax-filterContainer {
	background: #000;
}

#tax-hotTopicsOutsideWide,
#tax-smallHotTopicsModule,
.ttTopic td,
.ttHead td,
#queueLoadingDiv,
#tiSearchInner {
	border-color: #000;
	}

#content a.taxInlineTagLink {
	color: #666;
	text-decoration: none;
}

/* Search Results Styles */

#search-results {
	padding: 0;
	position: relative;
	border-top: 1px solid #000;
	}
.search-error#search-results {
	padding-top: 10px;
	}
#search-results .tabTitle {
	display: none;
	}
#search-results div.tabs {
	border: 0;
	}
#search-results ul.tabModule li {
	margin-bottom: 30px;
	padding: 0;
	line-height: 35px;
	}
#search-results ul.tabModule li.curTab {
	background: url(/images/search-tabs.gif) !important;
	}
#search-results ul.tabModule li a,
#search-results ul.tabModule li a:link,
#search-results ul.tabModule li a:visited,
#search-results ul.tabModule li a:hover,
#search-results ul.tabModule li a:active {
	color: #000;
	font: bold 14px Georgia, "Times New Roman", Times, sans-serif;
	line-height: 35px;
	padding: 0 20px;
	display: block;
	}
#search-results ul.tabModule li.curTab a,
#search-results ul.tabModule li.curTab a:link,
#search-results ul.tabModule li.curTab a:visited,
#search-results ul.tabModule li.curTab a:hover,
#search-results ul.tabModule li.curTab a:active {
	color: #FFF;
	background: url(/images/search-tabs.gif) right bottom;
	}
#search-results div.sort-by {
	margin-top: 18px;
	padding: 0;
	}
#search-results div.sort-by p {
	float: none;
	position: absolute;
	top: 11px;
	right: 102px;
	margin: 0;
	font-size: 12px;
	}
#search-results div.sort-by p.results-type {
	position: static;
	font-weight: bold;
	}
#search-results div.sort-by p.results-type a#toggleHandle {
	font-weight: bold;
	background: url(/images/open-options_plus.gif) no-repeat 0 1px;
	padding-left: 19px;
	}
#search-results div.sort-by p.advanced-open a#toggleHandle {
	background-position: 0 bottom;
	}
#search-results div.sort-by form {
	position: absolute;
	top: 7px;
	right: 0;
	float: none;
	}
#advanced-facets {
	margin: 20px 0 10px;
	}
#advanced-facets .advanced-subtypes {
	padding: 0 4px 0 8px;
	}
#advanced-facets #facet-cell-events .advanced-subtypes {
	padding-left: 0;
	}
#advanced-facets #facet-table td {
	font-size: 11px;
	}
#advanced-facets .advanced-subtype {
	padding: 0;
	}
#advanced-facets .advanced-subtype-choose {
	font-weight: normal;
	text-transform: lowercase;
	}
#search-results p.search-terms {
	margin: 0 0 10px;
	padding-left: 5px;
	font-size: 12px;
	line-height: 20px;
	background: #E0E0E0;
	float: none;
	display: block;
	}
#search-results ul.pagination {
	font-size: 12px;
	line-height: 20px;
	margin-top: -30px;
	padding-right: 5px;
	}
#search-results ul.pagination li {
	display: inline;
	float: none;
	margin-right: 0;
	}
#search-results ul.pagination li.next {
	padding-left: 0;
	}
#search-results ul.pagination li.next-block-dotted {
	display: inline;
	}
#search-results ul.pagination li.next-block-numbered {
	display: none;
	}
#search-results ul.results-list {
	margin: 27px 0 10px;
	}
#search-results ul.results-list li {
	background: url(/images/separator-horiz-dotted.gif) repeat-x 1px 0;
	}
* html #search-results ul.results-list li {
	display: inline-block;
	}
#search-results ul.results-list .date {
	font-size: 12px;
	}
#search-results ul.results-list .resultType {
	font-size: 12px;
	margin-left: 5px;
	padding-left: 8px;
	border-left: 1px solid #000;
	text-transform: capitalize;
	}
#search-results ul.results-list .resultType span {
	display: none;
	}
#search-results ul.results-list h3 {
	margin: 4px 0 3px;
	}
#search-results ul.results-list h3 a {
	font-size: 14px;
	line-height: 19px;
	font-weight: bold;
	}
#search-results ul.results-list span.byline {
	color: #333;
	font-size: 11px;
	font-weight: normal;
	margin-bottom: 3px;
	}
#search-results ul.results-list dd.excerpt img {
	margin: 0 10px 0 0;
	}
#search-results ul.results-list dd.excerpt p {
	margin-bottom: 0;
	font-size: 12px;
	line-height: 17px;
	}
/* advanced search fixes */
ul.advTabs li a{
	font-size:12px;
	}
#search-results ul.adv-results-list h3 a {
	font-size: 14px;
	line-height: 19px;
	font-weight: bold;
	}

#search-results div.advPagination ul.pagination {
	font-size: 12px;
	line-height: 20px;
	margin-top: 0;
	padding-right: 5px;
	}


/* (TIR-1180) temporary -- this does not work yet */
#search-results div.sort-by p.results-type {
	display: none;
	}
#search-results div.sort-by {
	margin: 0;
	}
#search-results ul.results-list {
	margin-top: 30px;
	}
/* end (TIR-1180) temporary */


/* Search Top Results Styles */

#sponsored-links {
	padding: 0;
	}
#sponsored-links h3,
#sponsored-links h3.tabTitle,
#sponsored-links h4 {
	font-weight: bold;
	font-size: 18px;
	position: relative;
	padding-bottom: 4px;
	background: #FFF;
	}
#sponsored-links .sponsored-link {
	background: url(/images/separator-horiz-dotted.gif) repeat-x 1px 0;
	padding: 8px 0 10px;
	margin-top: -1px;
	}
* html #sponsored-links .sponsored-link {
	display: inline-block;
	}
#sponsored-links a {
	font-weight: bold;
	font-size: 14px;
	line-height: 21px;
	padding-bottom: 2px;
	display: block;
	}
#sponsored-links .sponsored-link div,
#sponsored-links p {
	font-size: 12px;
	line-height: 17px;
	}
#sponsored-links img {
	float: left;
	margin-right: 10px;
	}


/* Search Results Google Ad Styles */

#search-google-ads {
	margin-left: 40px;
	}
#search-google-ads h4 {
	color: #555;
	font-size: 11px;
	line-height: 11px;
	padding-right: 20px;
	margin-bottom: -18px;
	text-align: right;
	text-transform: capitalize;
	}
#search-google-ads .google-ad {
	padding: 3px 20px 4px 12px;
	margin-bottom: 8px;
	background: #F3F3F3;
	}
#search-google-ads p a {
	font-weight: bold;
	font-size: 14px;
	line-height: 18px;
	}
#search-google-ads p,
#search-google-ads p.url a {
	font-weight: normal;
	font-size: 12px;
	line-height: 16px;
	}


/* Search Results Rail Styles */

div#promo-rail {
	padding: 0;
	}
#promo-rail div.module {
	padding: 0;
	}
#promo-rail h4,
#promo-rail h4 a {
	color: #000;
	font-size: 15px;
	font-weight: bold;
	}
#related-topics div.tax-rec-gals {
	font-weight: normal;
	padding-bottom: 0;
	}
#related-topics ul {
	margin-top: 4px;
	}
#related-topics li {
	font-size: 14px;
	line-height: 17px;
	display: block;
	padding-left: 10px;
	background: url(/images/list-style_dash.gif) no-repeat 0 10px;
	}
#related-topics li a {
	font-size: 14px;
	line-height: 17px;
	}
#related-topics .topic-separator {
	display: none;
	}


/* Email Popup Styles */

#email-head {
	border-top: 5px solid #000;
	}
.email-form h3 {
	color: #000;
	font-size: 20px
	}
.email-form h2 {
	color: #888;
	font-size: 22px
	}
div#form-errors {
	margin-bottom: 0;
	}    
.email-form #byline,
.email-form form {
	padding-top: 10px
	}
.email-form #byline {
	font-size: 13px
	}
.email-form #date {
	font-size: 12px
	}


/* Structure Module Styles */

div.tabModuleContainer,
.twoColumnSplit,
.threeColumnSplit {
	margin-bottom: 30px;
	padding: 0;
	}
#container .twoColumnSplit div.module,
#container .threeColumnSplit div.module {
	margin-bottom: 0;
	}
.twoColumnSplit td {
	padding-left: 0;
	}
.twoColumnSplit td.left {
	padding-right: 7px !important;
	padding-left:0px;
	}
.twoColumnSplit td.right {
	padding-left: 7px !important;
	}


/* Stock Quotes Styles */

.wide #stockquotes {
	margin-bottom: 10px;
	}
#stockquotes #markets {
	font: 11px Arial, Helvetica, sans-serif;
	display: inline;
	line-height: 15px;
	}
#stockquotes #indu,
#stockquotes #comp,
#stockquotes #spx,
#stockquotes #quote {
	float: left;
	width: 111px;
	border: 1px solid #E0E0E0;
	background-color: #F6F6F6;
	padding: 2px 2px 8px 15px;
	margin-left: -1px;
	}
#stockquotes #quote {
	width: 232px;
	height: 26px;
	padding: 8px 6px 6px;
	font-size: 12px;
	border-right-width: 0;
	}
#stockquotes #quote-label {
	margin-left: 10px;
	vertical-align: middle;
	}
#stockquotes #quote-input {
	width: 130px;
	padding: 0;
	color: #999;
	font-size: 12px;
	margin-left: 5px;
	vertical-align: middle;
	}
#stockquotes #quote-submit {
	padding: 2px 1px;
	font-size: 10px;
	}
#stockquotes #indu {
	border-left-width: 0;
	}
#stockquotes .company {
	font-weight: bold;
	}
#stockquotes .last {
	float: left;
	margin-right: 10px;
	}
#stockquotes .posChange {
	color: #3A0;
	}
#stockquotes .negChange {
	color: #D10;
	}
#stockquotes .datetime {
	display:none;
	}
#rail #stockquotes #markets {
	font-size: 14px;
	}
#rail #stockquotes #indu,
#rail #stockquotes #comp,
#rail #stockquotes #spx,
#rail #stockquotes #quote,
.narrow #stockquotes #indu,
.narrow #stockquotes #comp,
.narrow #stockquotes #spx,
.narrow #stockquotes #quote {
	width: 290px;
	padding: 5px 5px 5px 10px;
	float: none;
	margin-bottom: 2px;
	border-width: 1px;
	}
#rail #stockquotes #quote,
.narrow #stockquotes #quote {
	padding: 8px 6px 6px 10px;
	}
#rail #stockquotes #quote-label,
.narrow #stockquotes #quote-label {
	font-size: 14px;
	margin-left: 0;
	}
#rail #stockquotes #quote-input,
.narrow #stockquotes #quote-input {
	width: 180px;
	font-size: 12px;
	}
#rail #stockquotes .company,
.narrow #stockquotes .company {
	font-size: 16px;
	float: left;
	}
#rail #stockquotes .last,
.narrow #stockquotes .last {
	font-size: 16px;
	float: none;
	margin-right: 0;
	text-align: right;
	}
#rail #stockquotes .change,
.narrow #stockquotes .change {
	font-size: 16px;
	text-align: right;
	}


div.leadcolumn1,
div#leadcontent-main .headlineDivider {
	margin-bottom: 2px;
	margin-top: -5px;
	clear: left;
	border-top: 0;
	border-bottom: 1px solid;
	}
div#leadcontent-main div#slideContainer {
	padding-left: 0;
	}
div.leadcolumn1,
div.leadcolumn2,
div#leadcontent-main .headline-container,
div#leadcontent-main .slide-container,
div#leadcontent-main .headlineDivider {
	border-color: #DDD !important;
	}
div#branding.thirdParty {
	background-color: transparent;	
	}
div#branding.thirdParty div#classified-bar{
	background-image: none;
	}
div#toolbarthirdparty {
	background-color: #000;
	padding: 5px 0;
	}
div#headerthirdparty {
	background:#FFF;
	margin: 0;
	padding: 5px 0;
	}
div#breadcrumbthirdparty {
	padding-top: 5px;
	}
div#breadcrumbthirdparty, div#breadcrumbthirdparty a{
	color: #FFF;
	}
div#slideContainerSmall #main-slide1 img {
	display: inline;
	}
img.icon {
	height: auto;
	width: auto;
	}
div.iconBlock {
	padding: 1px 0;
	}

.date {
	color: #930000;
	}
div.ad {
	padding-bottom: 20px;
	padding-top: 14px;
	}
div.wide-text-ads {
	border: 1px solid #E7E7E7;
	}
table.cubeAd {
	background: transparent;
	}
table.cubeAd .adLabel {
	color: #888;
	font: 10px/10px Arial, Helvetica, sans-serif;
	text-transform: lowercase;
	letter-spacing: 1px;
	padding-bottom: 3px;
	}
table.cubeAd .miscAd {
	background: #CCC;
	padding: 15px 0;
	}
#refreshable_ad6_label {
  color: #888;
  font: 10px/10px Arial, Helvetica, sans-serif;
  text-transform: lowercase;
  letter-spacing: 1px;
  padding-bottom: 3px;
  }
#tg-widget,
input,
select,
table {
	font-family: Georgia, "Times New Roman", Times, serif;
	}
div.mezzanine h2.header {
	padding-left: 0;
	}
div.mezzanine.for4 li.mezzitem {
	margin-left: 0;
	margin-right: 2%;
	}
.bigstory {
	padding: 0 5px 0 0;
	}
div.ruleModule {
	margin-bottom: 16px;
	}
.rule-horizontal-line {
	border-color: #DDD;
	}
#sliderLeftArrow {
	background: url(/images/left-slider-arrow.gif) no-repeat;
	}
#sliderRightArrow {
	background: url(/images/right-slider-arrow.gif) no-repeat;
	}
div.headline-slider {
	background-color: #DEDEDE;
	}
div.headline-slider a {
	color: #FFF;
	}
div.headline-slider a.item {
	background-color: #333;
	background-image: none;
	}


/* Market Requested Styles */

.center {
	cellpadding: 0;
	cellspacing: 0;
	border: 0;
	width: 630px;
	margin-bottom: 12px;
	}
#topRightNarrow .center {
	width: auto;
}
.center_left {
	width: 400px;
	padding-right: 5px;
	border-right: 1px solid #DDD;
	vertical-align: top;
	}
.center_left_noborder {
	width: 400px;
	padding-right: 6px;
	vertical-align: top;
	}
.center_right {
	padding-left: 8px;
	width: 230px;
	vertical-align: top;
	}
.center_three_column tr td {
	width: 33%;
	margin-top: 4px;
	vertical-align: top;
	}
.center_label {
	color: #2262CC;
	font-size: 11px;
	font-weight: normal;
	}
.center_brief {
	margin-bottom: 5px;
	font-size: 13px;
	line-height: 18px;
	}
.center_brief .center_label {
	color: #2262CC;
	font-size: 11px;
	font-weight: normal;
	}
.center_morenewslink {
	font-size: 14px;
	line-height: 19px;
	color: #000;
	margin-bottom: 10px;
	}
.center_morenewslink h1,
.center_morenewslink h2,
.center_morenewslink h3 {
	font-size: 14px;
	color: #000;
	text-indent: 0;
	}
.center_heddeck_rule {
	border-bottom: 1px solid #DDD;
	padding-bottom: 14px;
	margin-bottom: 14px;
	}
.center_heddeck_norule {
	padding-bottom: 7px;
	}
.center_heddeck_rule .byline,
.center_heddeck_norule .byline {
	margin-top: 1px;
	}
.center_photo {
	margin-top: 4px;
	margin-bottom: 4px;
	}
.center_credit {
	text-align: right;
	margin-top: 1px;
	margin-bottom: 1px;
	font-size: 10px;
	font-weight: normal;
	color: #000;
	}
.center_cutline {
	text-align:left;
	font-size: 10px;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 6px;
	}
.center_img_right {
	float: right;
	margin: 0 0 5px 5px;
	}
div.blurb ul,
div.blurb ol,
div.customform ul,
div.customform ol,
div.email-form#content ul,
div.email-form#content ol .center .center_bullet,
.center_bullet {
	list-style-position: inside;
	list-style-type: disc;
	margin-top: 5px;
	margin-left: 10px;
	font-size: 13px;
	position: relative;
	}
.center_leadin {
	color: #000;
	font-weight: normal;
	}
.center_byline {
	font-size: 11px;
	margin: 4px 0 3px;
	}
.center_timestamp {
	color: #930000;
	font-size: 11px;
	font-style: italic;
	}
.center_headline44,
.center_headline44 h1 {
	color: #000;
	font-size: 44px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline42,
.center_headline42 h1 {
	color: #000;
	font-size: 42px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline40,
.center_headline40 h1 {
	color: #000;
	font-size: 40px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline36,
.center_headline36 h1 {
	color: #000;
	font-size: 36px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline34,
.center_headline34 h1 {
	color: #000;
	font-size: 34px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline32,
.center_headline32 h1 {
	color: #000;
	font-size: 32px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline30,
.center_headline30 h1 {
	color: #000;
	font-size: 30px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline28,
.center_headline28 h1 {
	color: #000;
	font-size: 28px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline26,
.center_headline26 h1 {
	color: #000;
	font-size: 26px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline25,
.center_headline25 h1 {
	color: #000;
	font-size: 25px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline24,
.center_headline24 h1 {
	color: #000;
	font-size: 24px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline23,
.center_headline23 h1 {
	color: #000;
	font-size: 23px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline22,
.center_headline22 h1,
.center_headline22 h2 {
	color: #000;
	font-size: 22px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline22  a:link,
.headline22 a:hover,
.center_headline22 a:active,
.headline22 a:visited {
	color: #000;
	}
.center_headline20,
.center_headline20 h1,
.center_headline20 h2 {
	color: #000;
	font-size: 20px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline20 a:link,
.center_headline20 a:hover,
.center_headline20 a:active,
.center_headline20 a:visited {
	color: #000;
	}
.center_headline18,
.center_headline18 h1,
.center_headline18 h2 {
	color: #000;
	font-size: 18px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline18 a:link,
.center_headline18 a:hover,
.center_headline18 a:active,
.center_headline18 a:visited {
	color: #000;
	}
.center_headline16,
.center_headline16 h1,
.center_headline16 h2 {
	color: #000;
	font-size: 16px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline16 a:link,
.center_headline16 a:hover,
.center_headline16 a:active,
.center_headline16 a:visited {
	color: #000;
	}
.center_headline14,
.center_headline14 h1,
.center_headline14 h2 {
	color: #000;
	font-size: 14px;
	font-size-adjust: none;
	font-style: normal;
	font-variant: normal;
	font-weight: normal;
	margin-top: 0;
	margin-bottom: 0;
	line-height: 1.1em;
	}
.center_headline14 a:link,
.center_headline14 a:hover,
.center_headline14 a:active,
.center_headline14 a:visited {
	color: #000;
	}
	
/* Gen Merch Styles */	
.comp-sectionhead input { font: normal 11px arial, sans-serif; }
/* compressor content classes */
.comp-fieldcontent { font-size: 12px; font-family: arial, verdana, sans-serif; color: #000000 }
.comp-fieldcontent a { font-weight: bold }
.comp-searchfields { font-size: 12px; font-family: arial, verdana, sans-serif; color: #000000 }
.comp-searchfields a { font-weight: bold }
.comp-advsearch { font-size: 11px; font-family: arial, verdana, sans-serif; color: #000000 }
.comp-advsearch a { font-weight: bold }
.comp-find-options { font-size: 10px; font-family: arial, verdana, sans-serif; color: #000000 }
.comp-find-options a { font-weight: bold }
.comp-resultsnav { font-size: 12px; font-family: arial, verdana, sans-serif; color: #fff }
.comp-resultsnav a { font-weight: bold; color: #fff }

/* headlines */
.comp-printhead { font: bold 24px arial, verdana, sans-serif; color: #000000; }
.comp-printhead a:active { color: #666666; }

.comp-keywords { font: bold 16px arial, verdana, sans-serif; color: #000000; }
.comp-keywords a:active { color: #666666; }

.comp-fieldhead { font: bold 12px arial, verdana, sans-serif; color: #fff; color: #000000; }
.comp-fieldhead a:active { color: #666666; }

.comp-sectionhead { font: bold 24px arial, verdana, sans-serif; color: #fff; color: #fff; }
.comp-sectionhead a { color: #fff; }

.comp-detailhead { font: bold 14px arial, verdana, sans-serif; color: #fff; }
.comp-detailhead a { color: #fff; }

.comp-adsfound { font: bold 18px arial, verdana, sans-serif; color: #fff; }
.comp-adsfound a { color: #fff; }

/* related links classes */
.comp-relatedlinks { font: normal 11px arial, verdana, sans-serif; color: #000000; }

/* rows */
tr.comp-header-row { background-color: #083973; }
tr.comp-content-row { background-color: #e3ecf8; }
tr.comp-white-row { background-color: #fff; }
div.button { background-color: #083973; padding: 4px; width: 420px; }
div.searchbox { background-color: #e3ecf8; padding: 4px; width: 420px; }
div.contentbox { background-color: #fff; padding: 4px; width: 420px; }

/* spacers */
.comp-spacer10 { font-size: 10px; font-family: arial, sans-serif; line-height: 10px }
.comp-spacer9 { font-size: 9px; font-family: arial, sans-serif; line-height: 9px }
.comp-spacer8 { font-size: 8px; font-family: arial, sans-serif; line-height: 8px }
.comp-spacer7 { font-size: 7px; font-family: arial, sans-serif; line-height: 7px }
.comp-spacer6 { font-size: 6px; font-family: arial, sans-serif; line-height: 6px }
.comp-spacer5 { font-size: 5px; font-family: arial, sans-serif; line-height: 5px }
.comp-spacer4 { font-size: 4px; font-family: arial, sans-serif; line-height: 4px }
.comp-spacer3 { font-size: 3px; font-family: arial, sans-serif; line-height: 3px }
.comp-spacer2 { font-size: 2px; font-family: arial, sans-serif; line-height: 2px }
.comp-spacer1 { font-size: 1px; font-family: arial, sans-serif; line-height: 1px }

.reNavbar { font: bold 13px arial, sans-serif; color: #fff; background-color: #4A688C; }
.reNavbar a:link, .reNavbar a:active { color: #fff; }
.reNavbar a:visited { color: #C0C0C0; }

.find_text1 { font: normal 11px Arial, Verdana, sans-serif; }
.find_text2 { font: bold 10px Arial, Verdana, sans-serif; color: #669933; }
.find_text2 a:link { color: #669933; }
.find_text2 a:visited { color: #669933; }
.find_text3 { font: bold 10px Arial, Verdana, sans-serif; }
.find_text4 { font: bold 12px Arial, Verdana, sans-serif; }
.sell_lnk { font: bold 11px Arial, Verdana, sans-serif; color: #669933; }
a.sell_lnk { color: #336699; }

.sell_header { font: bold 11px Arial, Verdana, sans-serif; color: white; }
.sell_text { font: 11px Arial, Verdana, sans-serif; }
.sell_lnk { font:  bold 11px Arial, Verdana, sans-serif; color: #336699; }
a.sell_lnk { color: #336699; }	

/* Registration */

div.register div#heading a:link,
div.register div#heading a:visited,
div.register div#heading a:hover,
div#loginbox a:link,
div#loginbox a:visited,
div#loginbox a:hover
{
	font-weight: bold;
}

/* TIR-2050 */
div.thirdPartyContent .cb_style img {
	display: inline;
}
div#footer div#footertext ul.links {
	clear:both;
	padding-bottom:3px;
}
div#footertext ul li p {
	clear:left
}
#columnist .rail  ul.recent-columns li {
	border-top:1px dotted #DDD; 
}
#columnist .columnist-email a {
	text-decoration:underline;
}
ul.recent-columns h5 {
	font-size:17px;
	line-height:21px;
}
#promo-rail div.archiveSearch {
	padding: 20px;
	border: solid 1px #CCC;
}
div.archiveSearch h2 {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-size: 22px;
	color: #000;
}
div.archiveSearch form#lat_archives {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-size: 17px;
	color: #000;
	padding: 10px;
}
div.archiveSearch form#lat_archives input {
	margin: 5px;
}
div.archiveSearch a {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-size: 18px;
	color: #000;
}
div.archiveSearch a #archiveArrows {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-size: 12px;
	color: #2262cc;
	display: inline;
}
div.archiveSearch a img {
	border: none;
	padding: 20px;
	margin-left:27px;
}

/* BAQ-31 */
div.google-ad-story-bottom {
	width: 600px;
	margin: 16px auto 0;
	border-bottom: 1px solid #e7e7e7;
	display: block;
}

/* # 17799 */
div.featurePromo ul.feedMasherList {
   color: #000;
}

/* div#commentPost {
	background-color: #000; 
	color:#FFF; 
	font-weight:bold; 
	padding-bottom:6px;
	padding-top:6px;
	padding-left:6px;
} commented out for tugs */
div#commentPost a {font-weight:bold; color:#FFF;}

/* /video */

body#videofront ul#root li a.mainNav span {
	
	padding-right:6px !important;
	
}
/* carnival */
body#carnival{color:black;margin:0;text-align:center;}

#carnival_logo{background:transparent url(/images/logoSmall.png) repeat scroll 0 0;height:64px;width:414px;margin:5px 55px;}
#carnival h2{font-size:18px;}
.signon-content .required_label span,.signon-frame .required_label span{color:red;}
.signon-frame input.error{border:1px solid red;}
.signon-frame span.signon-error{color:red;}
.signon-frame h2{font-size:18px;}
#carnival #content{width:660px;border:1px solid #000;overflow:hidden;}
#carnival #content #providerChoiceIntro,#carnival #content #providerChoice{margin:0 10px;}
#carnival #content .additionalOptions{margin:10px 10px;}
li#memberLoginInfo{text-transform:none;}
/* end carnival */
/* tugs */
div#content.article #gallery-subcontent div h3 { color:#000; }
/* end tugs */

/* New Weather Styles */
div.weather div.wind div.wind_cont {margin-top:15px;}
div.weather div.no_highlow .current_temp { font-size:3.15em; }
/* End New Weather Styles */

#ugcGalleryNavigation ul li#photo-next-left {
	background-image:url('/hive/images/ugc/la_ugc_gall_arrow_left.gif') !important;
}
#ugcGalleryNavigation ul li#photo-next-right {
	background-image:url('/hive/images/ugc/la_ugc_gall_arrow_right.gif') !important;
}

#pgCaption a:active, #pgCaption a:link, #pgCaption a:visited	{
	color: #2262CC ;
}

body.memorialday div#header {
    background-image:url('/images/memorial-day-2010.gif');
}
body.memorialday {
    overflow-x:hidden;
}
ul li.mv_headline {
	width:315px;
} 
/* TI Promotions -- Tom petty page */
body.ti-promo div.dateStamp {
color:#FFFFFF;
}

body.nbachamps div#header {
    background-image:url('/images/nba-champions-masthead.jpg');
}

body.ti-promo div.thumbnail p.small {
    color: #000 !important ;
}

ul#root li ul.level2 li.TomPetty a {
  color: green ;
}
ul#root li ul.level2 li.GoPink a {
  color:#D991BB;
}
/* Current Conditions IE overwrite hack */
div.currentConditions div.wind div.wind_cont {
	*position: absolute;
}

/*Find Local Styles */
#container #findlocal .module > h2, #container #findlocal .module > h3, 
#container #findlocal .module > h4, #container #findlocal .module > caption {
background:none;
color:#000000;
border-bottom:1px solid #DDDDDD;
border-top:3px solid #000000;
}
#container #findlocal div.module {border:none;}
#container #findlocal a:link, #container #findlocal a:visited {
color:#000000;
}
#container #findlocal #listing_detail h1, #container #findlocal #event_detail h1 {
color:inherit;
}
#container #findlocal .details p.neighborhood strong, #container #findlocal .details p.categories strong {
color:inherit;
}
#container #findlocal table#neighborhoods {width:100%;}
#container #findlocal #category_table .category_list a,
#container #findlocal #category_table_more .category_list a, 
#container #findlocal #neighborhood_table .neighborhood_list a {color:#000000;}
#container #findlocal ul#search_pagination a {color:#000000; font-weight:bold;}
#container #findlocal #display_results td.display_right, 
#container #findlocal #display_results td.display_left  { color:#000000;}
#container #findlocal div.upcoming_events ul.events div.event_hours { background-color: #545454; }
#container #findlocal #listing_detail ul.events .event_title a { color:#004466; font-size:14px;}
div.findLocal .listingCity, div.findLocal .eventCity, div.findLocal .eventPhone { font-size:12px;}
div.findLocal div.listingImge, div.findLocal div.listingImage, div.findLocal div.eventImage {border:0 none;margin-right:8px;}

/* BAQ-1038 */
.storygallery .galleryModule h3 a{font-size:17px;}

/* BAQ-1014 */
div#three_day_container div.weather_text { font-size: 13px; }

/* w Ad */
div#targetWeeklyAd {
	top: 0;
	padding: 0;
}

/* Advanced Search */
#adv_search {
	width: 315px;
}
/* LA Shopping header */ 
body.la_shop div#navigation  {background-color:transparent; width:760px; position:relative !important; top:-42px; left:200px !important; margin-bottom:0px;}
body.la_shop div#logo {  bottom:55px !important; left:710px !important;} 
body.la_shop div#header {background:transparent url('/images/latimes-shopping-bg.png') no-repeat scroll right bottom !important; height:132px;}
body.la_shop div#headerAdCode1, body.la_shop div.dateStamp, body.la_shop div#inlineHeaderAd,body.la_shop div#navigation ul#root li ul.level2  {display:none;}
body.la_shop ul#root li a.mainNav{color:#000 !important;} 
body.la_shop div#navigation div#layerOne{float:right;}
body.la_shop div#targetWeeklyAd,div.la_shopping div.dateStamp,div.la_shopping span#sectionBreadcrumb {display:none;}
body.la_shop div#logothirdparty {  bottom:55px !important; left:710px !important;} 
body.la_shop ul#root li a.mainNav span{width:80px; text-align:center;  font-family:verdana,helvetica,arial,sans-serif; line-height:18px; font-size:17px; color:#757575;text-decoration:none;   padding:0px 5px 0px 5px; }
body.la_shop ul#root li.highlight a.mainNav span  {width:80px; text-align:center;  padding:0px 15px 0px 15px;  font-size:17px;  background-color:#A02515 !important; color:#FFF!important; text-decoration:none;} 
body.la_shop ul#root li.navLink a   {  padding:0px 0px 0px 0px;  }
body.la_shop div#layerOne ul#root li.navLink  a {width:80px; height:23px; border-left:solid 1px #ccc; text-align:center; margin-top:4px; padding:0px 5px 0px 5px; }
body.la_shop div#layerOne ul#root li.first a ,div.la_shopping  div#navigation ul#root li ul.level2 a{border-left:none;}
body.la_shop ul#root li.highlight a { background: none; }
body.la_shop ul#root li.highlight a.mainNav span { background: none; }

/* begin: BAQ-1931 */
body.la_shop div#navigation div#layerOne {
 margin-right: -8px;
}
body.la_shop ul#root {
 padding-left: 0;
 min-height: 1px;
}
body.la_shop ul#root li a.mainNav span,
body.la_shop ul#root li.highlight a.mainNav span {
 padding: 0 15px;
 margin: 0 auto;
 width: auto;
}
body.la_shop div#layerOne ul#root li.navLink a {
 width: auto;
}
/* end: BAQ-1931 */

body.la_shop  div#headerthirdparty {background:transparent url('/images/latimes-shopping-bg.png') no-repeat scroll right bottom !important; height:132px;}
body.la_shop  div#headerthirdparty span#sectionBreadcrumb{display:none;} 
/* LA Shopping Footer  /shopping*/
body.la_shop #footerContainer{border-top:solid 3px #000; border-bottom:solid 1px #000; margin-top:10px; padding-top:0px;} 
body.la_shop #footerlogo{width: 280px; float:left !important; padding-top:10px;}
body.la_shop #footertext{width: 650px; float:right !important; font-size:15px;  padding-top:15px;}
body.la_shop div#footertext li.nav ul{width: 100px; float:left !important;}
body.la_shop div#footertext ul.links {clear:none !important; text-align:left; padding-right:50px;}
body.la_shop div#footertext ul li p {  clear:none !important; float:left; text-align:left;}
body.la_shop div#footertext ul.links li  {border-right:none !important; display:block;}
body.la_shop div#footertext ul li {margin:0px !important;} 
body.la_shop div#footertext li{  display:inline; margin:0px; padding:0px; }
body.la_shop div#footertext li.nav{  width:330px; display:inline; margin:0px; padding:0px;  }
body.la_shop div#footertext ul.links li a {line-height:30px;}
body.la_shop div#shoppingbaglogo {width: 180px; float:left;} 
body.la_shop div.copy {clear: both;  text-align:left;   padding-top:10px;} 

/* LA Shopping Footer  /thirdparty/footer*/
div.la_shopping #footerContainer{border-top:solid 3px #000; border-bottom:solid 1px #000; margin-top:10px; padding-top:0px; } 
div.la_shopping #footerlogo{width: 280px; float:left !important; padding-top:10px;}
div.la_shopping #footertext{width: 650px; float:right !important; font-size:15px;  padding-top:15px; padding-bottom:10px;}
div.la_shopping div#footertext li.nav ul{width: 100px; float:left !important;}
div.la_shopping div#footertext ul.links {clear:none !important; text-align:left; padding-right:50px;}
div.la_shopping div#footertext ul li p {  clear:none !important; float:left; text-align:left;}
div.la_shopping div#footertext ul.links li  {border-right:none !important; display:block;}
div.la_shopping div#footertext ul li {margin:0px !important;} 
div.la_shopping div#footertext li{  display:inline; margin:0px; padding:0px; }
div.la_shopping div#footertext li.nav{  width:330px; display:inline; margin:0px; padding:0px;  }
div.la_shopping div#footertext ul.links li a {line-height:20px;} 
div.la_shopping div.copy {clear: both;  text-align:left;   padding-top:10px;}

/* LA Shopping Target Circular */
body.la_shop_target ul#root li ul.level2 {display:none;}
body.la_shop_target div#navigation {margin-bottom: 20px;}

/* LA Shopping Footer  /shopping - yellow navigation*/
body.la_shop_yellow_nav  div#navigation {background:transparent url('/images/shopping_yellow_nav.gif') repeat-x scroll left bottom; height:38px;}
body.la_shop_yellow_nav div.dateStamp,body.la_shop_yellow_nav div.headerAdCode,body.la_shop_yellow_nav div#targetWeeklyAd {display:none;}
body.la_shop_yellow_nav span#sectionBreadcrumb  {top:5px; padding-left:0px; border-left:none;}
body.la_shop_yellow_nav ul#root li.highlight a {background: url(/images/yellow_tabs2.gif) no-repeat 0 4px; }
body.la_shop_yellow_nav ul#root li.highlight a.mainNav span { background: url(/images/yellow_tabs2.gif) no-repeat right -50px; padding-left: 0;}
body.la_shop_yellow_nav ul#root li a.mainNav span {padding-bottom:11px;} 
body.la_shop_yellow_nav	ul#root li.highlight ul.level2 li a, ul#root li ul.level2 li a{background-image:none;}

/* BAQ-2684 Thirdparty Shopping Header */
div#headerthirdparty div#shoppingbaglogo {position:absolute; left:420px; margin-top: 6px;}

/* HTO-101 & HTO-138 */
.columnistLinks a,
#story-body-parent .articleRelates .relatedTitle a,
#story-body.articlebody .articlerail  a,
#story-body-parent .articlerail a{color:#000 !important;}
div#container div#content-rail-wrapper div#content.article div.story div#story-body-parent div#story-body-text div.articlerail div.articleRelates ul li.viewMore ul li#extraStories div.relatedExtraItem div.clearfix a.moreRelatedItems:hover,
div#container div#content-rail-wrapper div#content.article div.story div#story-body-parent div#story-body-text div.articlerail div.articleRelates ul li.viewMore ul li#extraTopics div.relatedExtraItem div.clearfix a:hover,
div#container div#content-rail-wrapper div#content.article div.story div#story-body.articlebody div#story-body-text div.articlerail div.articleRelates ul li.viewMore ul li#extraStories div.relatedExtraItem div.clearfix a.moreRelatedItems:hover{text-decoration:underline !important;}

/* BAQ-3037 & BAQ-3040 & HTO-156 */
.newRelatedItem a span,
.relatedExtraItem a span{text-transform:none !important;}

/*BAQ-2757*/
div.feedMashup div.rssHeader p.title, div.feedMashup div.rssHeader p.title a {font-size: 24px;padding-top: 7px;}
div.feedMashup div.rssHeader p.title {font-size: 24px;padding: 0;}
div.feedMashup p.title {border-bottom: 1px solid #DDDDDD;border-top: 3px solid #000000;
font-size: 24px;line-height: 37px;margin-bottom: 0;padding: 0;text-transform: none;}
/**/

/* HTO-132 */
.more-articles-container{border-top-color:#000;}
.more-articles-container h4,
.more-articles-container h4 a,
.more-articles-container h4 span{color:#000;}

/* HTO-149 */
.nextgen-share-tools .nextgen-comment-count .nextgen-comments-counter{padding-top:1px !important;}

/* HTO-132  / BAQ-4751 */
.more-articles-container h4{margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #000;}
.nextgen-comment-count .nextgen-comments-container .nextgen-comments-content a {color:#333333 !important;font-size: 11px !important;margin:4px 0 0 20px !important; font-family: arial;}

.nextgen-comment-count .nextgen-comments-container .nextgen-comments-content a:hover { text-decoration: none;}

/* New Google Search Ads */
.adv_search .ads-label { color: #999999;text-transform: uppercase;font-size:10px;font-family: arial; }

/* Advertiser Self Service ADSS Common Style Overrides */
#adss_packages .package_content .package_call_to_action a.purchase {color: #710404;}
#adss_packages .package_content .package_call_to_action a.purchase:active, #adss_packages .package_content .package_call_to_action a.purchase:hover {color: #800000;}

#adss-nav .current a, #adss-nav li:hover > a {
	background: #780000; /* for non-css3 browsers */
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#780000', endColorstr='#800000'); /* for IE */
	background: -webkit-gradient(linear, left top, left bottom, from(#EEE), to(#800000)); /* for webkit browsers */
	background: -moz-linear-gradient(top,  #780000,  #800000); /* for firefox 3.6+ */
	color: #FFF;
}
#adss-nav li:hover > ul {margin-left: -1px; width: 100%;}
#adss-nav ul li:hover a, #adss-nav li:hover li a {color: #FFF;}
#adss-nav ul a:hover {
	background: #780000; /* for non-css3 browsers */
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#780000', endColorstr='#800000'); /* for IE */
	background: -webkit-gradient(linear, left top, left bottom, from(#780000), to(#800000)) !important; /* for webkit browsers */
	background: -moz-linear-gradient(top,  #780000,  #800000) !important; /* for firefox 3.6+ */
	color: #FFF;
}
#adss-nav ul {
	background: #780000; /* for non-css3 browsers */
	background: -webkit-gradient(linear, left top, left bottom, from(#800000), to(#780000)); /* for webkit browsers */
	background: -moz-linear-gradient(top,  #800000,  #780000); /* for firefox 3.6+ */
}

/**Aranet styles**/
div#content.adstory a{color:#0000FF;}
.adStorySection .headlineTable div.headlineItem{width:167px;margin-left:11px;}
.adStorySection .titleContainer .title{font-size:24px; line-height:35px; border-bottom:0px solid #DDD;border-top:0px solid #000;
background-color:#efefef;padding:10px 0px 4px 8px;margin:0px 0px 5px 0px;
background-image:url('http://www.latimes.com/media/thumbnails/blurb/2010-08/55376281-06135133.gif');background-repeat:no-repeat; 
background-position:538px 14px;}
.adStorySection .sectionlink-head{margin-top:6px;margin-bottom:6px;margin-left:11px;}
.adStorySection .classifiedAdThree{border:1px solid #ddd;}
.headColumn1 .adStorySection { } 
.adStorySection .headlineTable{margin-right:6px;padding-left:6px;}
.adStorySection { border: 1px solid #DDDDDD; } 
#topLeftWide .adStorySection .headlineItem,   #topLeftWide .adStorySingleSection .headlineItem,
#topRightWide .adStorySection .headlineItem,   #topRightWide .adStorySingleSection .headlineItem,
#middleLeftWide .adStorySection .headlineItem,  #middleLeftWide .adStorySingleSection .headlineItem,
#middleRightWide .adStorySection .headlineItem,   #middleRightWide .adStorySingleSection .headlineItem,
#bottomLeftWide .adStorySection .headlineItem,   #bottomLeftWide .adStorySingleSection .headlineItem,
#bottomRightWide .adStorySection .headlineItem,  #bottomRightWide .adStorySingleSection .headlineItem
{border-top:medium none; padding:6px; 0px 6px 0px; }   
.adStorySection .sectionlink-head, .adStoryArticle .sectionlink-head { clear: both; display: block; float: left;
font-size: 14px; margin-right: 5px; margin-top: 10px; width: 200px; } 
 .adStorySection .sectionlink-head a,.adStoryArticle .sectionlink-head a {text-decoration:underline;}
div.headlines.adStoryArticle  h2.title{ border-bottom: medium none; border-top: medium none;font-size:17px; width: 200px;}
h2.advertisement-text, div.adstory .deckhead { border-bottom: medium none; border-top: medium none;
font-size:15px; line-height: 10px; margin-bottom: 0; padding-bottom: 5px; text-transform: none;  color:#cdcdcd; font-family:arial;}  
div.adstory h1 {padding:5px 0px 15px 0px;} 
h2.adStorySectionHeader{ border-bottom: 1px solid #DDDDDD; border-top: 3px solid #000000; font-size: 24px; line-height: 37px; margin-bottom: 5px; padding: 0; text-transform: none;}
#adstory-results ul.pagination li {display: inline; float: none; margin-right: 0;} 
#adstory-results ul.pagination li {float: left; font-weight: 700; margin-right: 
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/adv_search.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 39009
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 03 May 2012 19:25:12 GMT
ETag: "9861-4fa2db98"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=97
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 39009
---Content---
body {
font-family:helvetica, arial, sans-serif;
font-size:12px;
text-align:center;
background: none repeat scroll center top transparent;
background-color:#777;
}

a {
font-weight:700;
color:#011369;
}

a:link,a:visited,a:active {
text-decoration:none;
}

a:hover {
text-decoration:underline;
}

.story h1 a:hover {
text-decoration:none;
}

h1,h2,h3,h4,h5 {
color:#fff;
font-weight:700;
margin:0;
padding:0;
}

h2 a {
color:#fff;
margin:0;
padding:0;
}

h2.sectionTitle {
font-size:23px;
margin-bottom:20px;
}

h2.headLine a,h4.headLine a {
color:#011369;
}

h3,h4,h5,h2.headLine,h4.headLine {
font-size:13px;
}

strong,b {
font-weight:700;
}

i,em {
font-style:italic;
}

.xxsmall {
font-size:9px;
}

.xsmall {
font-size:10px;
}

.medium {
font-size:12px;
width:auto;
}

.xlarge {
font-size:18px;
}

.headlineItem .update-source {
white-space:nowrap;
display: block;
}

div.headlines a.storySource {
font-weight:400;
color:#034;
}

div.ad {
padding-bottom:10px;
}

a.multimediaItemType,h2.headLine a.multimediaItemType,h4.headLine a.multimediaItemType {
font-size:11px;
color:#fff !important;
background-color:#af0116;
padding:1px 3px;
}

p.adText {
font-size:11px;
color:#999;
text-align:center;
margin-bottom:5px;
}

.miscAd {
margin-bottom:20px;
text-align:center;
}

.miscAd img {
margin:auto;
}

table.cubeAd {
height:280px;
text-align:center;
vertical-align:middle;
width:336px;
border:1px solid #FFF;
border-collapse:collapse;
background-color:#CCC;
margin-bottom:20px;
position:relative;
zoom:1;
padding:0;
}

table.cubeAd .miscAd {
margin-bottom:0;
zoom:1;
padding:0;
}

table.cubeAd tbody,table.cubeAd tr,table.cubeAd td,table.cubeAd a,table.cubeAd img {
position:relative;
zoom:1;
}

div#container {
width:980px;
position:relative;
margin:0 auto;
text-align:left;
}

div#branding,div#main,div#header,div#section {
width:980px;
}

div#branding {
padding-bottom:0;
}

div#homepageLink {
display:none;
}

div.slidingbillboard {
margin-left:5px;
padding-bottom:10px;
}

div#content {
float:left;
margin-left:5px;
text-align:left;
width:620px;
}

#windoid-body {
  background: #FFF;
  }
#windoid-body #content {
  float: none;
  border: 0;
  background: transparent;
  margin-left: 0;
  width: auto;
  }

div#content.fullwidth {
width:970px;
}

div#rail {
float:right;
margin-right:5px;
width:336px;
margin-bottom:10px;
position:relative;
zoom:1;
}

div#story-body div.articleRelates div#content {
width:auto;
}

div#contentBottom {
clear:both;
margin:0 5px;
}

#topLeftWide,#middleLeftWide,#bottomLeftWide,#topRightWide,#middleRightWide,#bottomRightWide {
width:620px;
padding:0 5px;
}

#topLeftNarrow,#middleLeftNarrow,#bottomLeftNarrow,#topRightNarrow,#middleRightNarrow,#bottomRightNarrow {
width:336px;
padding:0 5px;
}

#topRightWide,#middleRightWide,#bottomRightWide,#topRightNarrow,#middleRightNarrow,#bottomRightNarrow {
float:right;
}

.leaderboard {
padding-left:7px;
}

#topContentLeft {
float:left;
width:300px;
}

#topContentRight {
float:left;
padding-left:10px;
width:300px;
}

div#weatherbug p.wu-weather {
bottom:3px;
position:absolute;
right:3px;
z-index:10;
}

.contentContainer {
width:100%;
clear:both;
padding-bottom:10px;
}

div#breadcrumb {
font-size:11px;
float:left;
padding-left:5px;
}

.headLines .listitem .listitem-text-w-img {
float:left;
width:215px;
}

.clear-extend {clear:both;}

#module-promo {
margin-bottom:10px;
}

#module-promo #thumb-1,#module-promo #thumb-2 {
border:1px solid #FFF;
float:left;
margin-right:12px;
}

#module-promo #thumb-3 {
border:1px solid #FFF;
float:left;
}

#module-promo .buttons {
margin-top:5px;
text-align:right;
color:#FFF;
font-size:125%;
float:right;
}

#promo-title p {
color:#000;
font-size:125%;
padding-bottom:5px;
}

#module-promo .buttons span {
margin-right:10px;
float:left;
}

#module-promo .buttons #previous {
float:left;
margin-right:5px;
}

div#form-errors ul li.errorItems {
font-weight:700;
color:red;
}

div.headerimage {
margin:5px 0;
}

div.headerimage.astrosource-header {
float: right;
height: 50px;
position: relative;
text-align: right;
}

div.headerimage.astrosource-header div#astrosource-header-image {
position: absolute;
right: 0;
top: 0;
}

div.headerimage.astrosource-header div#astrosource-header-link a {
color: #336699;
}

div.headerimage.astrosource-header div#astrosource-header-link {
position: absolute;
right: 3px;
top: 26px;
width: 280px;
}

.photogalleryheader .section-sponsor {
float:right;
padding-top:35px;
width:225px;
position:relative;
}

.photogalleryheader .section-sponsor .sponsor-text {
max-width:100px;
max-height:65px;
position:absolute;
top:40%;
}

.photogalleryheader .section-sponsor .sponsor {
width:120px;
float:right;
height:65px;
}

div.customform ul,div.customform ol {
margin-left:40px;
}

div.customform ul li{
list-style-image:none;
list-style-position:inside;
list-style-type:disc;
}

div.customform ol li {
list-style-type:decimal;
}

div.module.customform {
float:left;
padding:10px;
}

div.clear {
clear:both;
}

.twoColumnSplit td.left, .twoColumnSplit td.right {
vertical-align:top;
width:50%;
padding-left:5px;
padding-right: 5px;
}

.twoColumnSplit td.divider {
border-right: 1px solid #CCC;
}
.twoColumnSplit td.dividerRight div.tdPadder{
_margin-left: 10px;
}
div.tdPadder {
    height: 100%;
    width: 100%;
}
.threeColumnSplit td.module {
width:32%;
}

.threeColumnSplit div.module {
background:none;
border:none;
}

.threeColumnSplit {
text-align:left;
margin-bottom:20px;
padding:5px;
}

.threeColumnSplit td.colSpacer {
width:10px;
}

/* Sitemap Styles */
#sitemap-title h2 {
font-size:189%;
color:#058;
padding:5px;
}

#sitemap {
background-attachment:scroll;
background-color:transparent;
float:left;
width:980px;
padding:5px;
}

#sitemap-main a {
color:#036;
font-family:arial,helvetica,sans-serif;
font-size:11px;
line-height:14px;
text-decoration:none;
}

#sitemap-dark a {
color:#036;
font-family:arial,helvetica,sans-serif;
font-size:13px;
font-weight:700;
line-height:16px;
text-decoration:none;
}

#sitemap-dark a:link {
color:#036;
}

a#sitemap-sub {
color:#5780A9;
font-family:arial,helvetica,sans-serif;
font-size:11px;
line-height:14px;
padding-left:5px;
text-decoration:none;
}

a#sitemap-sub:link {
color:#5780A9;
}

#sitemap-title {
padding:5px;
}

#sitemap ul {
float:left;
width:182px;
}

#sitemap ul li ul {
padding-left:0;
}

/* Date Time Default Styles*/
div.dateStamp {
bottom:0;
left:585px;
position:absolute;
}

div.centered-logo div.dateStamp {
left:100px;
}

div.dateFormat2 div.dateTop,div.dateFormat3 div.dateTop {
text-transform:uppercase;
}

div.dateFormat2 div.dateBottom,div.dateFormat3 div.dateBottom {
font-size:20px;
text-transform:lowercase;
}
div.dateFormat4 div.dateBottom{
font-size:20px;
}
div.dateFormat1 div.dateTop span.year {
font-size:14px;
}

div.dateFormat1 div.dateTop span.day {
font-size:20px;
}

div.dateFormat3 {
border:1px solid #000;
text-align:center;
padding:5px;
}

/* Error pages */
div#main.error {
width:960px;
}

div.error {
margin-top:20px;
height:300px;
padding:15px;
}

div.error p {
padding:5px 0;
}

/* Columnist Module */
div.columnistPromo {
border-bottom:1px solid #FFF;
}

div.columnists {
padding-top:10px;
clear:both;
}

div.columnists div.bottom img.headlineThumb,div.featurePromo div.below img.headlineThumb {
float:none;
}

div.columnists img.headlineThumb {
margin-bottom:5px;
}

div.columnistsContent h4 {
font-size:16px;
}

div.columnistsContent p {
padding-bottom:5px;
position:relative;
zoom:1;
}

/*Sphere Tools */
.sphereTools {
margin-top:8px;
position:relative;
}

.sphereContent {
clear:both;
margin-bottom:10px;
}

div#content.article #sphereRelated .headerSphereRelated {
color:#000;
}

.sphereDocsetUrl {
color:#545454;
font-size:11px;
}

.sphereDocsetSeparator {
color:#999;
margin:0 0.25em;
}

#sphereRelated a.spherePowered {
float:right;
margin-bottom:5px;
margin-top:-10px;
}

#sphereRelated h3#sphereMainTitle {
color:#000;
font-style:normal;
margin:10px 0;
}

.TSN1c {
color:#000;
font:12px Arial, Helvetica, sans-serif;
font-weight:700;
}

/* Auto Racing */
.TSN1d {
color:#000;
font:11px Arial, Helvetica, sans-serif;
font-weight:700;
}

/* Sport News */
.TSN2 {
color:#FFF;
font:11px Arial, Helvetica, sans-serif;
font-weight:700;
background:#30658F;
}

.TSN5 {
font:11px Arial, Helvetica, sans-serif;
background:#F2F2F2;
}

.TSN6 {
color:#FFF;
font:11px Arial, Helvetica, sans-serif;
font-weight:700;
background:#000;
}

/* Golf */
.TSNHeader {
font:10px Verdana,Helvetica,Arial;
font-weight:700;
}

.TSNSubHeader {
color:#FFF;
font:10px Verdana,Helvetica,Arial;
font-weight:700;
background:#006;
}

.TSNData1 {
color:#000;
font:10px Verdana,Helvetica,Arial;
background:#EFEFEF;
}

.TSNData2 {
color:#000;
font:10px Verdana,Helvetica,Arial;
}

.TSN4 {
color:#000;
font:11px Arial, Helvetica, sans-serif;
font-weight:700;
background:#F2F2F2;
}

/* Regional Scores & News */
.TSN1b {
color:#C00;
font:11px Arial, Helvetica, sans-serif;
}

/* End Sports Network Module
 Embeded Module Story Content */
div.embeddedStory div,div.embeddedStory h4 {
padding-left:5px;
padding-right:5px;
}

h4.embedStoryHeadline {
font-size:26px;
position:relative;
margin:10px 0 0;
}

div.embeddedStory div.byline {
color:#292727;
font-size:11px;
}

div.embedStoryBody {
padding-top:5px;
padding-bottom:5px;
}

/* End Embeded Module
 Obit Search Styling */
div.obitsearch h2.header {
padding-bottom:4px;
}

div.obitsearch form {
margin-left:5px;
}

div.obitsearch #searchFooter {
margin-left:-5px;
}

/* End Obit Styling
third party content */
.thirdPartyContent .thirdPartyContentPadder {
margin:8px 12px;
}

span.wthrtitle {
font-weight:700;
font-size:16px;
}

img,#sitemap ul li a,div.popular {
display:block;
}

h1,.xxlarge {
font-size:21px;
}

h2,.large {
font-size:15px;
}

.small,div#articleutil {
font-size:11px;
}

span.minutesAgo,p.last-updated,span.last-updated {
font-size:11px;
color:#AF0116;
font-style:italic;
}

.inLine h2,.inLine h3,.inLine h4,table.cubeAd div.miscAd img {
display:inline;
}

div.ad img,.skyScraper img,.cubeAd img {
margin:0 auto;
}

.cube,.skyScraper,div.cinesport {
text-align:center;
margin-bottom:20px;
}

.cube * {
margin:0 auto;
vertical-align:middle;
}

.googleAd,div.module,div.ticker-module,div#form-errors,table.module {
margin-bottom:20px;
}

.fullSpan,#module-promo #thumb-container,table.twoColumnSplit,.threeColumnSplit table,div#rightRailTopContent div.clearfix {
width:100%;
}

#topLeftWide,#middleLeftWide,#bottomLeftWide,#topLeftNarrow,#middleLeftNarrow,#bottomLeftNarrow,.headLines .listitem .listitem-thumb,#module-promo .buttons #next {
float:left;
}

#topCenterFull,#middleCenterFull,#bottomCenterFull,div.columnistsContent {
padding:0 5px;
}

div.center,div.centerAd,div.tivid,#sphereAdContainer {
text-align:center;
}

a#sitemap-main:hover,a#sitemap-dark:hover,a#sitemap-sub:hover {
color:#666;
text-decoration:underline;
}

#sitemap ul.first,#sitemap ul.second {
padding-left:10px;
}

#sitemap ul.third,#sitemap ul.fourth,#sitemap ul.fifth {
padding-left:15px;
}

.TSN1a,.TSN1 {
font:11px Arial, Helvetica, sans-serif;
}

.TSN1 a,.TSN1c a,.TSN1d a,.TSN5 a,.TSNData1 a,.TSNData2 a {
color:#000;
text-decoration:underline;
}

.TSN1 a:hover,.TSN1c a:hover,.TSN1d a:hover,.TSN5 a:hover,.TSNData1 a:hover,.TSNData2 a:hover {
color:#C00;
text-decoration:none;
}
/*third party content */
.thirdPartyContent .thirdPartyContentPadder{
  margin: 8px 12px;
}
span.wthrtitle{
  font-weight: bold;
  font-size: 16px;
}
/*end third party content */
.noBorder {border: 0px;}
.date {
    font-style: italic;
  }
#content_map {height:300px;}
ul.emptySubNav li a, ul.emptySubNav li a:hover, ul.emptySubNav li a:active, ul.emptySubNav li a:visited{text-decoration:none !important;}

.rule-horizontal-line {
  border-top: 1px solid;
  }
.slidingbillboard {
  text-align: center;
  }
.slidingbillboard table{
  margin: 0px auto;
  }
.slidingbillboard img{
margin: 0px auto;
}

/* calendar styles */
.calTop .sponsorimage{
  float:right;
  text-align:right;
}
#calendar {
  padding: 0;
  margin: 0;
  border-left: 1px solid #ccc;
  text-align: center;
  width:inherit;
  *width:100%;
}
.narrow #calendar{
  width:100%;
}

#calendar .nav, #calendar .nav a {
  text-align: center;
  text-decoration: none;
}


#calendar caption {
  margin: 0;
  padding: 0;
  background: #ccc;
  color: #222;
  text-align: center;
}

#calendar th {
  color: #616B76;
  background: #f3f3f3;
  border-right: 1px solid #ccc;
  border-bottom: 1px solid #ccc;
  border-top: 1px solid #ccc;
}

#calendar .today, #calendar td.today a, #calendar td.today a:link, #calendar td.today a:visited {
  background: #FFFFCC;
}

#calendar td {
  border-right: 1px solid #ccc;
  border-bottom: 1px solid #ccc;
  height: 50px;
  text-align: left;
  width:14.25%;
}
#calendar td.lastMonth, #calendar td.nextMonth{
  background-color:#FAFAFA;
}

#calendar td a {
}
#calendar td a.sponsored{
  font-weight:bold;
}
tr.cal-row-4 span.TLdate-8, tr.cal-row-4 span.TLdate-7, tr.cal-row-4 span.TLdate-6, tr.cal-row-4 span.TLdate-5, tr.cal-row-4 span.TLdate-4, tr.cal-row-4 span.TLdate-3, tr.cal-row-4 span.TLdate-2, tr.cal-row-4 span.TLdate-1, span.hideTinyDate, tr.cal-row-0 span.TLdate-31,tr.cal-row-0 span.TLdate-30, tr.cal-row-0 span.TLdate-29, tr.cal-row-0 span.TLdate-28, tr.cal-row-0 span.TLdate-27, tr.cal-row-0 span.TLdate-26, tr.cal-row-0 span.TLdate-25, tr.cal-row-0 span.TLdate-24, tr.cal-row-0 span.TLdate-23, tr.cal-row-0 span.TLdate-22, tr.cal-row-0 span.TLdate-21, tr.cal-row-0 span.TLdate-20, tr.cal-row-0 span.TLdate-19, tr.cal-row-0 span.TLdate-18, tr.cal-row-0 span.TLdate-17, tr.cal-row-0 span.TLdate-16, tr.cal-row-0 span.TLdate-15{
  display:none;
}
#calendar td a:link, #calendar td a:visited {

}

#calendar td a:hover, #calendar td a:active {

}
#calendar li.hideItem{
  position:absolute;
  top:-9999em;
}
#calendar ul.calList{
  margin:2px 0px;
  display:block;
}
#calendar ul.calList li{
  display:block;
  padding:1px 2px 1px 2px;
}
table .aterisks{display:none;}
table.breastCancer .aterisks{
  color:#666666;
  display:inline;
  font-size:11px;
  line-height:1.6;
  margin-right:2px;
}
#calendar ul.calList li.moreLink{
  padding-left:2px;
  margin-top:10px;
}
#calendar ul.calList li.dateOnly{
  font-weight:normal;
  margin:0;
  padding:0;
  color:#bababa;
}
#calendar ul.calList li.dateOnly a{
  font-weight:bold;
}
#calendar ul.calList li.sponsored a{
  font-weight:bold;
}
/*end common cal styles */
/* calender pop-up styles */
.roundedCorners{display:block; }
.roundedCorners *{
  display:block;
  height:1px;
  overflow:hidden;
  font-size:.01em;
  background:#FFFFFF}
.roundedCorners1{
  margin-left:3px;
  margin-right:3px;
  padding-left:1px;
  padding-right:1px;
  border-left:1px solid #e1e1e1;
  border-right:1px solid #e1e1e1;
  background:#f2f2f2}
.roundedCorners2{
  margin-left:1px;
  margin-right:1px;
  padding-right:1px;
  padding-left:1px;
  border-left:1px solid #d1d1d1;
  border-right:1px solid #d1d1d1;
  background:#f5f5f5}
.roundedCorners3{
  margin-left:1px;
  margin-right:1px;
  border-left:1px solid #f5f5f5;
  border-right:1px solid #f5f5f5;}
.roundedCorners4{
  border-left:1px solid #e1e1e1;
  border-right:1px solid #e1e1e1}
.roundedCorners5{
  border-left:1px solid #f2f2f2;
  border-right:1px solid #f2f2f2}
.roundedCornersfg{
  background:#FFFFFF}


.opacityBG{
  position:absolute;
  z-index:999999;
  background-color:#000;
  top:0;
  left:0;
}
.faceBoxHolder{
  position:absolute;
  width:625px;
  z-index:9999999999;
}
.faceMiddle{
  display:block;
  background-color:#fff;
  text-align:left;
  margin-left:auto;
  margin-right:auto;
}
.facePadder{
  padding:0px 20px 20px;
}
.faceMiddle li.moreLink, .faceMiddle .dateNum, .faceMiddle span.aterisks{
  display:none;
}
.faceBoxHolder .popRight{
  float:right;
  margin-right:8px;
}
.faceBoxHolder .popRight .cubeAd{
  width:336px;
  height:280px;
  background-color:#FAFAFA;
}
.faceBoxHolder a.closeFace{
  float:right;
  display:block;
  position:relative;
  right:-40px;
  top:-32px;
}
.faceBoxHolder .daySponsor{
 float:right;
 width:234px;
 height:60px;
 position:relative;
 top:-9px;
 right:-33px;
}

.faceBoxHolder .clearfix{
  display:block;
  clear:both;
  _clear:none;
  _display:inline-block;
}
.faceBoxHolder .popCenterHold{
  clear:both;
}
.faceBoxHolder ul li{
  list-style-type:disc;
  list-style-position:inside;
  margin:5px;
  line-height:1.5;
  font-size:110%;
}
.faceBoxHolder .popTop{
border-bottom-color:#CCCCCC;
border-bottom-style:dotted;
border-bottom-width:1px;
font-size:16px;
margin-bottom:15px;
padding-top:10px;
}
.faceBoxHolder .popTop .clearfix{
  *display:none;
}
.calendarHolderbreastCancer .bottomLeaderHolder{
  margin-top:20px;
  margin-bottom:20px;
  margin-left:auto;
  margin-right:auto;
  width:728px;
  height:90px;
}
/*end popup styles*/

#buy-this-link {
  margin-top:10px;
  width:100%;
  text-align:center;
}
#buy-this-link a img {
  display:inline;
}

/*BAQ-428*/
#story-body-parent p {
  margin-bottom:10px;
}

/* BAQ-539 */
/* taxonomy in-text ads */
.taxInTextAdHover {
  display:block;
  visibility:hidden;
  position:absolute;
  z-index:9999;
  background:transparent url(/common/images/taxonomy/inTextShadow.png) no-repeat scroll right bottom;
  margin-top:1px;
}

.taxInTextShadow2 {
  background:transparent url(/common/images/taxonomy/inTextShadow_bl.gif) no-repeat scroll -9px 100%;
  display:block;
}

.taxInTextShadow3 {
  background:transparent url(/common/images/taxonomy/inTextShadow_tr.gif) no-repeat scroll 100% -9px;
  padding:0pt 5px 5px 0pt;
  display:block;
}

.taxInTextAdBlock {
  background-color:#fff;
  border:2px solid #ccc;
  padding:3px;
  width:245px;
}

.inTextTop {
  text-align:left;
  padding:6px 5px;
}
.inTextTop a {
  font-weight:bold;
}
.inTextBottom {
  background-color:#f5f5f5;
  padding:5px 4px;
}
.inTextAdDisclaimer {
  text-transform:uppercase;
  color:#999;
  font-size:9px;
  text-align:center;
}
.inTextArrowUp, .inTextArrowDn {
  width:245px;
  height:25px;
  position:absolute;
}
.inTextArrowUp {
  background:transparent url(/common/images/taxonomy/inTextArrowUp.png) no-repeat scroll 50% 0px;
  top:-12px;
}
.inTextArrowDn {
  background:transparent url(/common/images/taxonomy/inTextArrowDn.png) no-repeat scroll 50% 0px;
  bottom:-15px;
}

.taxInTextAdHover.up .inTextArrowUp,
.taxInTextAdHover.dn .inTextArrowDn {
  visibility:visible;
}

.taxInTextAdHover.up .inTextArrowDn,
.taxInTextAdHover.dn .inTextArrowUp {
  visibility:hidden;
}
div.shzGoogleAd{
  border:1px solid #E7E7E7;
  width:100%;
  padding-top: 1em;
  padding-bottom: 1em;
}
div.shzGoogleAd ins,
div.shzGoogleAd iframe {
  margin: 0 auto !important;
  display: block !important;
}
/* end taxonomy in-text ads */

/* temporary for findlocal module per pager ticket 18158 */

div#tgwidget .tg-label a:link,
div#tg-widget .tg-label a:visited {
  color: #FFFFFF;
  font-weight: bold;
}

/* youtube widgets */
#youtubeSubmitSidebar {
    border: 1px solid black;
    margin-bottom: 20px;
    padding-bottom: 10px;
}

#youtubeSubmitSidebar h2 {
    margin-bottom: 10px;
    margin-left: 4px;
}

#youtubeSubmitSidebar p {
    margin-bottom: 10px;
    margin-left: 4px;
}

#youtubeWidgetForm {
}

#youtubeWidgetPlayer {
  width: 312px;
  float: right;
  margin-right: 8px;
}
div#youtubeWidgetWrapper{
  display: table;
  width: 620px;
  margin-bottom: 20px
}
div#youtubeWidgetWrapper p{
  padding:5px 5px;
  width:285px;
}
/* Embedded reCaptcha */
.recaptcha_container {
    width: 184px;
    margin-bottom: 10px;
}
.recaptcha_container #recaptcha_title #recaptcha_logo,
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_only_if_audio .recaptcha_button,
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_only_if_image .recaptcha_button,
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_refresh .recaptcha_button,
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_help .recaptcha_button {
    background: url('http://www.google.com/recaptcha/api/img/red/sprite.png') no-repeat;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_only_if_audio,
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_only_if_image,
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_refresh {
    margin: 0 0 5px 5px;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_help {
    margin: 0 0 0 5px;
}
.recaptcha_container #recaptcha_title {
    background-color: #830100;
}
.recaptcha_container #recaptcha_title #recaptcha_logo {
    background-position: -218px 0px;
    height: 49px;
    width: 93px;
    margin: 0 0 0 40px;
}
.recaptcha_container #recaptcha_image img {
    width: 182px !important;
}
.recaptcha_container #recaptcha_widget, #recaptcha_widget div {
    width: 182px !important;
}
.recaptcha_container #recaptcha_widget input {
    margin: 10px 0 0 20px;
}
.recaptcha_container #recaptcha_widget .recaptcha_ask {
    margin: 15px 0 0 5px;
}
.recaptcha_container #recaptcha_widget .recaptcha_options {
    margin: 10px 0 0 0;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_button {
    margin: 0 5px 5px 0;
    float: left;
    height: 12px;
    width: 18px !important;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_only_if_image .recaptcha_button {
    background-position: -323px -51px;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_only_if_audio .recaptcha_button {
    background-position: -315px -18px;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_refresh .recaptcha_button {
    background-position: -315px -3px;
}
.recaptcha_container #recaptcha_widget .recaptcha_options .recaptcha_help .recaptcha_button {
    background-position: -315px -34px;
}
div.poll div.question-submit {
    margin: 10px 0 0 0;
}
/* end embedded reCaptcha */

/* social tools */
div#social-tools {
  border-bottom:1px solid #E7E7E7;
  margin-bottom:10px;
  padding-bottom:10px;
  width:100%;
}

div#social-tools div.social-tool {
    margin-right: 15px;
}
div#social-tools div.social-tool-first{
    margin-left: 10px;
}
div#social-tools div.social-tool-last {
    margin-right: 0;
}
div#social-tools div#social-tools-text {
    clear:both;
    font-size:14px;
    font-weight:700;
    margin-left:0;
    position:relative;
    padding-bottom: 5px;
}
div#social-tools div#facebook {
    float: left;
}
div#social-tools div#twitter {
    float: left;
}
div#social-tools div#digg {
    float: left;
}
/* end social tools
/* facebook like */
div#facebook-like iframe {
    border:none;
    overflow:hidden;
    width:350px;
    height:35px;
    margin-top: 5px;
}
/* end facebook like */

/* copied from blurb: kwgn-soccer-css-blurb */
.TSN1a {font: 11px Arial, Helvetica, sans-serif;}

.TSN1 {font: 11px Arial, Helvetica, sans-serif;}
.TSN1 a {color:#000000; text-decoration:underline;}
.TSN1 a:hover {color:#CC0000; text-decoration:none;}

.TSN1h {font: 11px Arial, Helvetica, sans-serif; background:#FFFFFF;}
.TSN1h a {color:#000000; text-decoration:underline;}
.TSN1h a:hover {color:#CC0000; text-decoration:none;}

.TSN1c {color:#000000; font: 12px Arial, Helvetica, sans-serif; font-weight: bold;}
.TSN1c a {color:#000000; text-decoration:underline;}
.TSN1c a:hover {color:#CC0000; text-decoration:none;}

.TSN1d {color:#000000; font: 12px Arial, Helvetica, sans-serif; font-weight: bold;}
.TSN1d a {color:#000000; text-decoration:underline;}
.TSN1d a:hover {color:#CC0000; text-decoration:none;}

.TSN2 {color:#FFFFFF; font: 11px Arial, Helvetica, sans-serif; font-weight: bold; background:#30658F;}

.TSN5 {font: 11px Arial, Helvetica, sans-serif; background:#F2F2F2;}
.TSN5 a {color:#000000; text-decoration:underline;}
.TSN5 a:hover {color:#CC0000; text-decoration:none;}

.TSN5c {font: 11px Arial, Helvetica, sans-serif; background:#F2F2F2;}
.TSN5c a {color:#000000; text-decoration:underline;}
.TSN5c a:hover {color:#CC0000; text-decoration:none;}

.TSN6 {color:#FFFFFF; font: 11px Arial, Helvetica, sans-serif; font-weight: bold; background:#000000;}

.TSN7 {font: 13px Arial, Helvetica, sans-serif;}
.TSN7 a {color:#000000; text-decoration:underline;}
.TSN7 a:hover {color:#CC0000; text-decoration:none;}
/* end from blurb: kwgn-soccer-css-blurb */

div table tr td.adLabel {
    text-align:center;
    font-family: Arial,Helvetica,sans-serif;
    text-transform:lowercase;
    color: #888888;
    letter-spacing:1px;
    font-size:10px;
}

a.emailLink {
    color: #00F;
}

.asset-image {
    width: 355px;
}

/* BAQ-613 */
div.blurb {border: none;}

/*begin: liquid coupon module*/
div#liquidCouponContainer {
  text-align: center;
}
div#liquidCoupon {
  border: 1px solid #ccc;
  width: 298px;
  text-align: left;
  margin: 0 auto;
}
div#liquidCoupon div.top img.logos {
  width: 274px;
  height: 70px;
  margin: 6px auto auto 12px;
  display: inline-block;
  border: 0;
}
div#liquidCoupon div.top {
  background: url(/hive/images/modules/liquidCoupon_bg_top.jpg) no-repeat top left;
  min-height: 182px;
}
div#liquidCoupon div.top p {
  font: bold 15px Verdana, Arial, Helvetica, sans-serif;
  color: #fff;
  text-transform: uppercase;
  margin-left: 32px;
  margin-top: 48px;
  margin: 44px 0 0 32px;
}
div#liquidCoupon div.top a.get {
  float: right;
  margin: 52px 12px 0 12px;
}
div#liquidCoupon div.top a.get img {
  width: 111px;
  height: 43px;
  border: 0;
}
div#liquidCoupon div.btm {
  background: url(/hive/images/modules/liquidCoupon_bg_btm.jpg) no-repeat top left;
  min-height: 68px;
}
div#liquidCoupon div.btm a.subscribe {
  display: inline-block;
  margin: 20px 8px 8px 40px;
}
div#liquidCoupon div.btm a.subscribe img {
  width: 246px;
  height: 34px;
  border: 0;
}
/*end: liquid coupon module*/

/* BAQ-867 */
.noborder{border:none !important;}

/* START: jQuery modals */
#modal-container,
#modal-curtain{display:none}
#modal-curtain{background-color:#000; width:100%; height:100%; position:fixed; top:0; left:0; z-index:900}
#modal-container{font-family:Arial,Helvetica,sans-serif; position:absolute; z-index:910}
#modal-content,
#modal-title{padding-left:18px; padding-right:18px}
#modal-close{background:transparent none no-repeat left top; cursor:pointer; display:block; height:36px; position:absolute; right:0; top:3px; width:35px; z-index:911}
#modal-title{background-color:#e0e0e0; color:#000; font-size:18px; font-weight:bold; padding-bottom:6px; padding-top:6px; position:relative}
/* END: jQuery modals */

/* START: floating tooltips */
.floatingTooltip-container {position: absolute;z-index: 1000;}
/* END: floating tooltips */

div.dsIframeHolder { background: #ccc; padding: 16px; margin-bottom: 20px; } /* BAQ-3803 */

/* Blog Modules*/
/* jQuery UI Accordion 1.8.15 */
.ui-accordion { width: 100%; }
.ui-accordion .ui-accordion-header { cursor: pointer; position: relative; margin-top: 1px; zoom: 1; }
.ui-accordion .ui-accordion-li-fix { display: inline; }
.ui-accordion .ui-accordion-header-active { border-bottom: 0 !important; }
.ui-accordion .ui-accordion-header a { display: block; font-size: 1em; padding: .5em .5em .5em .7em; }
.ui-accordion-icons .ui-accordion-header a { padding-left: 2.2em; }
.ui-accordion .ui-accordion-header .ui-icon { position: absolute; left: .5em; top: 50%; margin-top: -8px; }
.ui-accordion .ui-accordion-content { padding: 1em 2.2em; border-top: 0; margin-top: -2px; position: relative; top: 1px; margin-bottom: 2px; overflow: auto; display: none; zoom: 1; }
.ui-accordion .ui-accordion-content-active { display: block; }

.postSubHeader {
  position: relative;
  margin-bottom: 10px;
}

.postSubHeader img {
  border:0px;
}

.post-subhead-text {
  position: absolute;
  top: 12px;
  left: 15px;

}
.post-subhead-text .subTitle {
  float: left;
  font-weight:normal;
  margin-right: 10px;
  font-size: 25px;
  cursor: pointer;
}
.post-subhead-text .subDesc{
  color: #adadad;
  font-weight:normal;
  font-size: 12px;
  cursor: pointer;
}
.post-subhead-text .subByline{
  font-weight:normal;
  font-size: 12px;
  cursor: pointer;
}
div.postSubHeader a.rssIcon {
  background: url("/hive/images/contents/post-default-header-rss-icon.png") no-repeat scroll center center transparent;
  position: absolute;
  width: 27px;
  height: 24px;
  bottom: 1px;
  right: 1px;
  border: none;
  cursor: pointer;
}
div.postSubHeader a.rssIcon.custom {
  border: 1px solid #fff;
  bottom: 4px;
  right: 4px;
}
div.postSubHeader a.rssIcon img {
  display: none;
}
.post-subhead-default {

}

.postArticle #tax-tag {
  margin: 10px 0 22px 0;
  width: 100%;
}

.postHeadline {
  float: left;
  clear: left;
  width: 100%;
  margin: 5px 0;
}

div#content.article #postRelatedItems h2 {
  font-weight: bold;
  font-size: 17px;
  margin-bottom: 10px;
  width: 100%;
}

.postThumb {
  float:left;
  margin: 0 5px 5px 0;
}
.postImage {
float: left;
margin-right: 5px;
}

.postModMore {
  padding: 1px 3px;
  margin-right: 10px;
}
div.postRSS {
  padding: 1px 14px 1px 3px;

  background: #e6e6e6 url(/hive/images/modules/blog_mod_RSS.gif) no-repeat right center;

}

.extraModLinks {
  background-color: #e6e6e6;
  float: left;
  margin-top: 5px;
  font-weight: normal;
}


.postModDesc {
  font-weight: normal;
  color:#a3a3a3;
  font-style: italic;
  font-size:10px;
}

.postModule .titleContainer {
  width: 275px;
  height: 45px;
  position: relative;
  overflow: hidden;
}

div.headlines.postModule {
  padding: 5px 0px;
  width:275px;

  position: relative;
}

div.headlines h2.title.postModTitle {
  border: 0 none;
  color: #000000;
  line-height: 18px;
}


div.titleContainer.twoColumnContainer.blogPost {
  border-top: 3px solid #000000;
  padding: 4px 0;
}

div#content.article .originalSrc {margin-top:10px; font-size:11px; color:#666;}

/*.twoColumnSplit td.left, .twoColumnSplit td.right {
  padding: 0;
}*/

.twoColumnSplit.blogPost {
  margin-bottom: 30px;
}

/* about Posts */

.aboutPost .description {
  margin: 10px 0;
  padding: 10px 0 0 0;
  clear: both;
}
.aboutPost .author {
  text-decoration: underline;
}

.aboutPost .byContain {
 float: left;
}

.aboutPost .authorLabel {
float: left;
margin-right: 5px;
}

.aboutPost .aboutImage {
 clear: left;
}

.aboutPost .aboutImage .postImage{
 margin:0 10px 10px 0;
}

/* Archive Posts */



.archivePosts .ui-accordion .ui-accordion-header a{
 background: url(/hive/images/modules/archiveArrows12x26.gif) no-repeat 0 0 transparent;
 padding: 0 0 0 18px;
}
.archivePosts .ui-accordion .ui-accordion-header.ui-state-active a{
     background-position: 0 -14px;
}

.archivePosts .ui-accordion .ui-accordion-content {

}
.postIndexContainer.archivePost {
    border-top: 0px dotted #000000;
}
.archiveMore {}

.archiveHeader h1{
  font-weight: normal;
  font-size: 25px;
}

/* Recent Posts */
div.recentPost li, div.topicPosts li {
  margin: 10px 0;
}
/* social media */
div.headlines.socialShare,
div.headlines.recentPost,
div.headlines.topicPosts,
div.headlines.aboutPost,
div.headlines.archivePosts{
  padding: 5px 10px;
  background-color: transparent;

}

div.socialShare li{
  clear: left;
  margin: 5px 5px 0 0;
  height: 21px;
}

div.socialShare li .fb{
}

div.socialShare li a, div.topicPosts li a{
  font-weight:normal;
}

div.socialShare .titleContainer,
div.recentPost .titleContainer ,
div.topicPosts .titleContainer,
div.aboutPost .titleContainer,
div.archivePosts .titleContainer {
border-bottom: 1px dotted #000000;
margin-bottom: 10px;
}

div.socialShare .socialIcon {
    height: 21px;
    padding-left: 25px;
    padding-top: 3px;
    vertical-align: bottom;
}

div.socialRSS {
  background: url(/hive/images/modules/postRSS.png) no-repeat left top;
}

div.socialEmail {
  background: url(/hive/images/modules/postEmail.gif) no-repeat left top;
}

div.socialTwitter {
  background: url(/hive/images/modules/postTwitter.gif) no-repeat left top;
}


div.socialFb {
  background: url(/hive/images/modules/postFB.gif) no-repeat left top;
}


div.postArticle .taxonomy-topics li{
  float: left;
  list-style: none;
  margin:0;

}

.content-topic.post a{
  font-style: italic;
  color: #38a7e6;
}



/* Post INdex */

.index-post-item div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-container  {
  background: url("/hive/images/contents/post-index-comments-back.gif") no-repeat scroll right bottom transparent;
  padding-bottom: 6px;
}

.index-post-item .taxonomy-topics li{
  float: left;
     list-style: none outside none;
     margin: 0 5px 0 0;
}

.index-post-item #tax-tag {
  margin: 0 0 10px 0;
  float: left;
}
/* Post index sharing */
.index-post-item .nextgen-right {

}

.index-post-item div.nextgen-share-tools ul li.nextgen-sharethis-container {
    min-width: 30px;
}

.index-post-item div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-content {
    width: 100%;
    color: #fff;
    background: none no-repeat scroll right top #588cc5;
}

.index-post-item div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-content a {
    margin: 3px 5px 0 4px !important;
    color:#fff !important;
    font-size: 13px !important;
}
.index-post-item .stButton { margin: 0px;}

.index-post-item div.nextgen-share-tools ul li span.stButton span span.stArrow {
  display: none !important;
}
.index-post-item div.nextgen-share-tools ul li span.st_sharethis_hcount {
  background: none;
}
.index-post-item div.nextgen-share-tools ul li span.stButton {
  background: none !important;
}
.index-post-item div.nextgen-share-tools ul li span.stButton span span.stButton_gradient span.chicklets.sharethis {
  font-size: 0px !important;
  background: url("/hive/images/contents/post-index-share.gif") no-repeat scroll center center transparent !important;
  margin-right: 0 !important;
}

.index-post-item .post-twitter-share-button {
  height: 22px;
  width:21px;
  display: block;
  background: url("/hive/images/contents/post-index-twitter-share.gif") no-repeat scroll center center transparent;
}

/* end Post index sharing */
.index-post-item .nextgen-right  li {
    float: left;
    height: 22px;
    list-style: none outside none;
    margin: 0 0 0 3px;
}
.postIndexContainer {
  float:left;
  width: 620px;
  padding: 0 5px;
  border-top: 1px dotted #000;
  margin: 10px 0;
}

.postIndexContainer h2{
  border: 0px;
  font-size: 18px;
     font-weight: 400;
}
.postIndexContainer .index-post-item {
  padding: 10px 0 5px 0;
  clear: both;
   border-bottom: 1px dotted #000;
}

.postIndexContainer .date { margin:10px 0; }

.blackText { color: #000; }

.postIndexContainer .indexThumb {
  float: left;
  margin: 0 15px 15px 0;
  border:1px solid #f0f0f0;
}
.postIndexContainer .details {
  margin-bottom: 15px;
}
.postIndexContainer .readMore {
text-decoration: underline;
font-weight: normal;
color: #000;
}

.postPagerConatiner {
margin-top: 10px;
}
.postPagerConatiner .postPageButton {
 color: #fff;
 background-color: #000;
 padding: 4px 8px;
 font-weight: normal;
}

.postPagerConatiner .prevPost {
float: left;
}

.postPagerConatiner .morePost {
float: right;
}
/* Top Post MOdule */
.topPost .topPostHeadline {
  float: left;
}

.topPost ul.one .topPostHeadline {
  width: 100%;
}

.topPost ul.one img {
  padding: 0 15px 0 0;
}

.topPost ul.one td {
  vertical-align: top;
}

.topPost ul.two .topPostHeadline {
  width: 46%;
}
.topPost ul.two .topPostHeadline img{
  text-align: center;
   margin: 0 auto;
}


.topPost ul.three .topPostHeadline {
  width: 30%;
  padding: ;
}

.topPost .summary .readMore {
  text-decoration: underline;
}
.topPost .postBorder {
  border-left: 1px #000 dotted;
}
.topPost ul.three li {
  padding: 0 5px;
}

.topPost ul.two .postBorder {
  padding: 0 0 0 10px;
}

.topPost ul.one .postBorder {
  padding: 0 0 0 15px;
}

.topPost .date {
  margin: 10px 0 5px 0;
}

div.headlines.topPost h2.title {
    border: 0 none;
     line-height: normal;
}

.hidePost {display:none;}
.showPost {display:block;}



/* End Blog Modules */

/* Premium video modules */

.postRelatedItem {
  margin: 5px 0;
}

.postRelatedItem a{
  font-weight: normal;
}

.videoShare .viewButton li { list-style: none;}
.premiumVideo.module .socialTools li{
  float: right;
  margin: 5px 0;
  list-style: none;
}
.premiumVideo.module .socialTools li a{
  cursor: pointer;
}

.premiumVideo.module .socialTools li:first-child img{
  margin-right: 0;
}

.premiumVideo.module .socialTools{
  float: right;
  margin: 5px 0;
}

.premiumVideo.module .socialTools .shareText{
  height: 17px;
  line-height: 20px;
  margin-right: 5px;
}

.premiumVideo.module .viewDescr{
  display: block;
  cursor: pointer;
  text-decoration: none;
  padding: 2px 16px 2px 4px;
  width: 55px;
  margin: 5px 0 0 0;
}
.premiumVideo.module .viewDescr.hide,
.videoInfo .hide {
  display: none;
}
.premiumVideo.module .viewDescr.collapse{
   background:#e7e7e7 url(/hive/images/video/viewExpand.png) no-repeat scroll right -10px;
}
.premiumVideo.module .viewDescr.expand{
  background:#e7e7e7 url(/hive/images/video/viewExpand.png) no-repeat scroll right 4px;
}
.premiumVideo.module .viewButton {
  float: left;
  margin: 5px 0;
}
.pvp_companion_ad {
  color: black;
  width: 295px;
  height: 309px;
  background: #000;
  border-left: 1px solid #000;
  border-right: 1px solid #000;
  position: absolute;
  display: none;
  top: 3px;
  z-index: -10;
  -webkit-transform: transform;
  -moz-transform: transform;
  -o-transform: transform;
}
.pvp_companion_ad span {
  color: white;
  font-size: 13px;
  font: Arial, Helvetica, "Helvetica Nue", sans-serif;
  text-transform: capitalize;
  text-align: center;
  display: block;
  padding: 5px;
}
.pvp_inset {
  width: 295px;
  height: 250px;
  background: #000;
  overflow: hidden;
}
.pvp_ad_toggle {
  color: white;
  width: 13px;
  height: 45px;
  background: gray;
  position: absolute;
  padding: 0;
  right: -14px;
  cursor: pointer;
  top: 0;
}
.pvp_ad_toggle img {
  padding:5px 4px;
}
.pvp_ad_toggle .pvp_arrow, .pvp_ad_toggle .arrow {
  background: transparent url('/hive/images/video/video_arrow_right.png') no-repeat center center;
  position: absolute;
  width: 13px;
  height: 45px;
}
.pvp_ad_toggle .pvp_arrow.left, .pvp_ad_toggle .arrow.left {
  background-image: url('/hive/images/video/video_arrow_left.png');
}
/* End Premium video */

/*zap2it casttv BAQ-3764*/
#casttv-box { clear: both; width: 605px; background: #fff; overflow: hidden; font-family: arial, helvetica, sans-serif;  border:solid 1px #ccc;   padding:0px 0px 3px 20px; }
#casttv-box .blockhead { width: 585px; font-size: 22px; margin: 8px 0 0 10px; }
#casttv-box-inner { margin-left: 10px; width: 630px; }
#casttv-box .item { width: 140px; overflow: hidden; margin: 10px 8px 10px 0; background:url(/hive/images/fadebg-122.png) repeat-x; float: left; color: #3C98C9; font-size: 12px; }
#casttv-box .item-inner { width: 120px; margin: 0 0 0 10px; } 
#casttv-box .item .image { width: 120px; height: 65px; overflow:hidden; margin: 10px 0 0px 0; } 
#casttv-box .item .image img { width: 120px; } 
#casttv-box .text a { text-decoration: none; font-size: 13px; color: #000; font-weight: bold !important; } 
#casttv-box .text a:hover { color: #3C98C9; }



---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.HttpChunk$1@194266e5
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 8645
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Mon, 26 Sep 2011 20:57:29 GMT
ETag: "21c5-4e80e739"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=91
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 8645
---Content---
div#classBarNav {
	width:980px;
	font-size:12px;
	}
div#classBarNav ul.classBarNavLink {
	list-style-type:none;
	float:right;
	padding:3px 0;
	}
div#classBarNav ul.classBarNavLink li {
	float:left;
	padding:0 8px;
	}
div#classBarNav ul.classBarNavLink li.lastMenuItem {
	border-right:0;
	}
div#classBarNav ul.classBarNavMember {
	list-style-type:none;
	float:left;
	padding:3px 5px;
	}
#memberLoginInfo a img{display:inline;vertical-align:top;}

#memberLoginInfo {text-transform:uppercase;}
div#classBarNav ul.classBarNavLink a {
	text-transform:uppercase;
	}
div#headerPromo {
	height:60px;
	overflow:hidden;
	padding-top:10px;
	width:100%;
	}
div#headerPromo .holder {
	padding-left:10px;
	width:726px;
	float:left;
	}
div#headerPromo div.headerItem,div#headerPromo div.headerAdExtra {
	width:234px;
	float:left;
	padding-right:8px;
	}
div#headerPromo div.headerAdExtra {
	height:60px;
	}
div#headerAd {
	float:right;
	padding-right:10px;
	}
div#headerthirdparty div#headerAd {
	padding:0;
	}
div.headerAdCode {
	position:absolute;
	top:29px;
	height:64px;
	}
div#headerAdCode1.headerAdCodeNoPromo {
	top:55px;
	}
div#headerAdCode1 {
	right:10px;
	z-index: 2137483600;
	}
div#headerAdCode2 {
	left:10px;
	}
div#headerAdCode3 {
	left:252px;
	}
div#headerAdCode4 {
	left:494px;
	}
#inlineHeaderAd {
	z-index: 2147483600;
	}
div#navigation {
	width:100%;
	position:relative;
	margin-top:8px;
	margin-bottom:35px;
	}
div#navigation div#layerOne {
	display:block;
	position:relative;
	}

div#hotTopic div#search, div#hotTopic div#dsnssearch {
	float:right;
	padding:4px;
	position:absolute;
	top:-4px;
	right:0;
	font-weight: normal;
	}
div#hotTopic div#search input, div#hotTopic div#dsnssearch input {
	font-size:10px;
	}
div#hotTopic div#search input#searchText, div#hotTopic div#dsnssearch input#searchText {
	color:#666;
	width:100px;
	padding:2px 4px;
	}
		
ul#root {
	position:relative;
	width:100%;
	margin:0;
	padding:0;
	}
ul#root li {
	cursor:pointer;
	float:left;
	width:auto;
	text-align:center;
	list-style-type:none;
	font-weight:700;
	display:block;
	padding:5px 7px;
	}
ul#root li a {
	display:block;
	float:left;
	}
ul#root li a.mainNav {
	display:block;
	text-transform:uppercase;
	font-weight:400;
	}
ul#root li.highlight,ul#root li:hover {
	background-image:url('/common/images/menuArrow.jpg');
	background-repeat:no-repeat;
	background-position:top center;
	}
ul#root li.highlight a {
	cursor:pointer;
	}
ul#root li ul.level2 {
	cursor:pointer;
	max-width:100%;
	position:absolute;
	height:auto;
	left:-9999px;
	top:26px;
	width:980px;
	display:block;
	margin-top:0;
	}
ul#root li ul.level2 li {
	max-width:none;
	background-image:none;
	padding:0 7px;
	}
ul#root li ul.level2 li a {
	position:relative;
	cursor:pointer;
	white-space:nowrap;
	font-weight: normal;
	background-image:none;
	text-transform:uppercase;
	}
ul#root li ul.level2 li a:hover {
	text-decoration:underline;
	}
ul#root li ul.level2 li,ul#root li ul.level2 li.highlight li:hover {
	background-image:none;
	}
ul#root li.hideMainNav a {
	display:none;
	}
ul#root li.hideMainNav {
	background-image:none;
	padding:5px 0;
	}
ul#root li:hover ul,ul#root li.msieFix ul,ul#root li.highlight ul {
	display:block;
	left:0;
	z-index:5;
	}
ul#root li ul.subStay {
	z-index:3;
	}
ul#root li ul.subStay a {
	display:block;
	}
div#hotTopic {
	background-repeat:repeat-x;
	width:980px;
	padding-top:3px;
	text-transform:uppercase;
	font-size:14px;
	font-weight:700;
	position: relative;
	min-height: 22px;
	}
div#hotTopic ul {
	height:19px;
	}
div#hotTopic ul li {
	float:left;
	list-style-type:none;
	border-left:1px solid #034;
	padding:0 7px;
	}
div#hotTopic ul li a {
	color:#034;
	float:left;
	font-size:12px;
	font-weight:400;
	text-transform:capitalize;
	}
div#hotTopic ul li.hot-link-begin {
	border:none;
	}
div#logo {
	float:left;
	}
div#logothirdparty {
	float:left;
	bottom:0;
	left:10px;
	position:absolute;
	}
div#headerthirdparty {
	background-color:#FFF;
	height:90px;
	width:980px;
	position:relative;
	margin:5px 0;
	}
div#toolbarthirdparty {
	background-color:#26b;
	margin-top:0;
	position:relative;
	width:100%;
	}
div#breadcrumbthirdparty {
	float:left;
	font-size:11px;
	position:absolute;
	left:3px;
	top:4px;
	}
div#headerPromo div.holder div.wrapper,div#searchthirdparty {
	float:right;
	}
div#navigation a,div#hotTopic a {
	text-decoration:none;
	}
div.goto-iphone-version {
	text-align: center;
	line-height: 50px;
	height: 50px;
	border: 3px solid #F00;
	font-size: 30px;
}
div.ltvLeader {
	position: absolute;
	right: 10px;
	top: 10px;
	overflow: hidden;
	padding: 0;
	margin: 0;
    height: 90px;
    width: 728px;
}

div#targetWeeklyAd {
	background: #cc0000;
	float: right;
	position: absolute;
	right: 0;
	top: 0;
}

div#targetWeeklyAd:hover {
	cursor: pointer;
}

div#targetWeeklyAd a {
	color: #fff;
}

div#targetWeeklyAd a:visited {
	color: #fff;
}

div#targetWeeklyAd a:hover {
	color: #fff;
}

div#targetWeeklyAdLogo {
	float: left;
}

div#targetWeeklyAdText {
	float: left;
	color: #fff;
	font-weight: 700;
	margin-left: 8px;
}

/* Advertiser Self Service Navigation Styles ADSS */
#adss-nav {
	margin: 0px;
}
#adss-nav li {
	padding: 0 0 8px;
	float: left;
	position: relative;
	list-style: none;
}
#adss-nav li.adss-sub-nav a {
	color: #fff;
	text-decoration: none;
	display: block;
	padding: 1px 14px;
	margin-top: 0px;
}
#adss-nav li.adss-sub-nav a:hover {/*font-weight:bold;*/}
#adss-nav li.adss-align-right {
	float: right;
}
#adss-nav a {
	color: #fff;
	text-decoration: none;
	display: block;
	padding: 10.5px 14px;
	margin-top: 0px;
}
#adss-nav .current a, #adss-nav li:hover > a {
	background: #EEE; /* for non-css3 browsers */
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#EEE', endColorstr='#CCC'); /* for IE */
	background: -webkit-gradient(linear, left top, left bottom, from(#EEE), to(#CCC)); /* for webkit browsers */
	background: -moz-linear-gradient(top,  #EEE,  #CCC); /* for firefox 3.6+ */
	color: #000000;
	-webkit-border-top-left-radius: 9px;
	-moz-border-radius-topleft: 9px;
	-webkit-border-top-right-radius: 9px;
	-moz-border-radius-topright: 9px;
}
#adss-nav ul li:hover a, #adss-nav li:hover li a {
	background: none;
	border: none;
	color: #000000;
	-webkit-box-shadow: none;
	-moz-box-shadow: none;
}
#adss-nav ul a:hover {
	background: #EEE; /* for non-css3 browsers */
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#EEE', endColorstr='#CCC'); /* for IE */
	background: -webkit-gradient(linear, left top, left bottom, from(#EEE), to(#CCC)) !important; /* for webkit browsers */
	background: -moz-linear-gradient(top,  #EEE,  #CCC) !important; /* for firefox 3.6+ */
	color: #000000;
	-webkit-border-radius: 0;
	-moz-border-radius: 0;
	text-decoration: underline;
}
#adss-nav ul {
	background: #EEE; /* for non-css3 browsers */
	background: -webkit-gradient(linear, left top, left bottom, from(#CCC), to(#EEE)); /* for webkit browsers */
	background: -moz-linear-gradient(top,  #CCC,  #EEE); /* for firefox 3.6+ */
	display: none;
	z-index: 999999999999999999999999999;
	margin-top: 0px;
	padding: -10px;
	position: absolute;
	top: 38px;
	left: 0;
	width: 100%;
	border-left: solid 1px #ccc;
	border-right: solid 1px #ccc;
	border-bottom: solid 1px #ccc;
	-webkit-border-top-left-radius: 0px;
	-moz-border-radius-topleft: 0px;
	-webkit-border-top-right-radius: 0px;
	-moz-border-radius-topright: 0px;

	-webkit-border-bottom-left-radius: 10px;
	-moz-border-radius-bottomleft: 10px;
	-webkit-border-bottom-right-radius: 10px;
	-moz-border-radius-bottomright: 10px;
}
#adss-nav li:hover > ul {
	display: block;
	width: 99%;
}
#adss-nav ul li {
	float: none;
	z-index: 999999999999999999999999999;
	margin: 0;
	padding: 0;
}
#adss-nav ul a {
	font-weight: normal;
}
#adss-nav ul li:first-child > a {
	-webkit-border-top-left-radius: 0px;
	-moz-border-radius-topleft: 0px;
	-webkit-border-top-right-radius: 0px;
	-moz-border-radius-topright: 0px;
}
#adss-nav ul li:last-child > a {
	-webkit-border-bottom-left-radius: 9px;
	-moz-border-radius-bottomleft: 9px;
	-webkit-border-bottom-right-radius: 9px;
	-moz-border-radius-bottomright: 9px;
	padding-bottom: 8px;
}
#adss-nav:after {
	content: ".";
	display: block;
	clear: both;
	visibility: hidden;
	line-height: 0;
	height: 0;
}
html[xmlns] #adss-nav {
	display: block;
}
* html #adss-nav {
	height: 1%;
}
div#classBarNav.advertiser {width:980px;}
div#classBarNav.advertiser ul.classBarNavLink li span {float:left;}
div#classBarNav.advertiser ul.classBarNavLink li.lastMenuItem {float:right;}
div#classBarNav.advertiser ul.classBarNavLink {float:none;}

/* End Advertiser Self Service Navigation Styles ADSS */
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 199513
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Fri, 13 Apr 2012 02:16:55 GMT
ETag: "30b59-4f878c97"
Accept-Ranges: bytes
Content-Length: 42117
Vary: Accept-Encoding
Cache-Control: private, max-age=249
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@652520bb
---Content---
10px;} 
#adstory-results div.advPagination {clear: both; float: none; text-align: left; padding-top:25px;} 
ul.adv-results-list li div {clear: none;  margin-bottom: 12px; margin-left: 0; margin-right: 0; margin-top: 0;}  
div#adstory-results  li.bullets{ list-style: disc outside; margin-left: 15px; padding-top:10px;} 
div#adstory_results{width:628px; float:left;}

/*BAQ-4731*/
.advertiser div#adss_carousel.adss_wide_540 div#carousel_container div#carousel_links ul.list li { height: 57px; }

/*BAQ-4751*/

div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-container {
    background: url("/hive/images/nextgen-comments-notext.png") no-repeat scroll right -20px transparent;
    height: 20px;
}

div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-content {
    background: url("/hive/images/nextgen-comments-notext.png") no-repeat scroll right top transparent;
    float: left;
    font-size: 11px;
    height: 20px;
    width: 87px;
}

div.nextgen-comments-content {
	cursor: pointer;
}

div.nextgen-share-tools ul li.nextgen-comment-count div.nextgen-comments-counter {
    color: #000000 !important;
    font-weight: normal;
}

div.photo h1 { color:#000000; margin-top:8px; padding-left:0px; margin-bottom: 8px; text-align:left; font-size: 28px; }

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.HttpChunk$1@194266e5
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@3afe1ac8
---Content---
/* This file combines all previous stylesheets common to hive, included in the standard header */
/* Look for the file commented name to find the equivalent old stylesheet BAQ-39 BAQ-2483 */
/* reset.css, header.css, footer.css, and common.css were moved back to their own file - BAQ-178 */

/*   module.css */
div.headlines a{color: #000;font-size: 12px;}
div.headlineItem {padding-top: 10px;padding-left:5px;clear:both;}
div.galleries h2.title,
div.headlines h2.title a,
div.headlines h2.title {font-size:24px;padding-top:7px;}
.headlines div.curvedContent h2.title{padding-top:2px !important;}
div.tabModuleContainer h2.tabTitle a {font-size:24px;}
div.headlines h2.headline a, div.headlines h3 a{color: #034;position: relative;}
div.headlines ul li div.listitem a {color: #034;}
img.headlineThumb {float: left;margin-right: 5px;margin-bottom: 5px;position: relative;}
table.headlineBelow img.headlineThumb {float: none;}
div.aboveHeadlinePos img.headlineThumb {float: none;}
div.briefRight img.headlineThumb {float: left;}
.headlineRight img {float: left;margin-right: 8px;}
.headlineRight .headline1,
.headlineRight .headline {display: inline;}
.tabModuleContainer img.headlineThumb {margin-left: 0;}
table.headlineAbove {width: 1px;}
table.headlineBelow {float: left;width: 1px;}
table.forcedHeadlineWrap img.headlineThumb {margin-right: 0;}
div.briefBelow table.headlineBelow {float:none;}
table.noImage {float:none;width:auto;}
table.hasContent {width: auto;}
table.headlineBelow td h2,
table.headlineBelow td h3,
table.headlineBelow td h4 {padding-top: 5px;}
table.headlineBelow .headlineBullet {padding-top: 0;}
table.headlineBelow li.bullets {padding-top: 5px;}
table.headlineTable table.headlineBelow td {padding: 0;}
span.headlineBelow img.headlineThumb {float: none;}
div.headlines div.more a, div.headlines p.small a {font-size: 12px;}
div.headlines .embiggen,
div.headlines .embiggen a {font-size: 120%;}
div.headlines.galleries h2.headline {margin-bottom: 0;}
div.headlines.galleries h3.section {margin-bottom: 5px;margin-top: 10px;font-size: 14px;}
div.headlines.galleries ul li ul {margin-left: 10px;}
div.headlines.galleries ul li ul li {margin-bottom: 5px;margin-left: 0px;width: auto;float: none;}
#sliderLeftArrow {background: url(/hive/images/slider/left-slider-arrow.gif) no-repeat;width: 25px;height: 41px;}
#sliderRightArrow {background: url(/hive/images/slider/right-slider-arrow.gif) no-repeat;width: 25px;height: 41px;}
div.slider {width: 3000% !important;}
div.narrow div.slider {width: 6500% !important;}
div.headline-slider {background-color: #edece6;padding: 5px 0;width: 100%;margin-bottom: 0;}
div.headline-slider li {display: inline;}
div.slider-container {overflow: hidden;margin: 0 auto;float: left;position: relative;width: 894px;}
div.headline-slider div.slider span.video-link {color: #af0116;}
div#topLeftWide div.slider-container,
div#topRightWide div.slider-container,
div#middleLeftWide div.slider-container,
div#middleRightWide div.slider-container,
div#bottomLeftWide div.slider-container,
div#content-bottom.full div.slider-container,
div#bottomRightWide div.slider-container {width: 543px;font-size: 11px;}
div#topLeftWide div.tabContentContainer div.tabContentHolder div.slider-container,
div#topRightWide div.tabContentContainer div.tabContentHolder div.slider-container,
div#middleLeftWide div.tabContentContainer div.tabContentHolder div.slider-container,
div#middleRightWide div.tabContentContainer div.tabContentHolder div.slider-container,
div#bottomLeftWide div.tabContentContainer div.tabContentHolder div.slider-container,
div#content-bottom.full div.tabContentContainer div.tabContentHolder div.slider-container,
div#bottomRightWide div.tabContentContainer div.tabContentHolder div.slider-container {width: 536px}
div#content-bottom.full div.slider-container {float:none;}
div#topLeftNarrow div.slider-container,
div#topRightNarrow div.slider-container,
div#middleLeftNarrow div.slider-container,
div#middleRightNarrow div.slider-container,
div#bottomLeftNarrow div.slider-container,
div#bottomRightNarrow div.slider-container {width: 250px;font-size: 11px;}
div#bottomCenterFull div.slider-container {width: 894px;font-size: 12px;}
div.headline-slider a.item {float: left;margin-right: 5px;background-image: url(/hive/images/slider/slider-item-bg.gif);background-repeat: repeat-x;padding: 5px;width: 210px;}
div#topLeftWide div.slider-container a.item,
div#topRightWide div.slider-container a.item,
div#middleLeftWide div.slider-container a.item,
div#middleRightWide div.slider-container a.item,
div#bottomLeftWide div.slider-container a.item,
div#bottomRightWide div.slider-container a.item,
div#content-bottom.full div.slider-container a.item {width: 167px;}
div#topLeftWide div.tabContentContainer div.tabContentHolder div.slider-container a.item,
div#topRightWide div.tabContentContainer div.tabContentHolder div.slider-container a.item,
div#middleLeftWide div.tabContentContainer div.tabContentHolder div.slider-container a.item,
div#middleRightWide div.tabContentContainer div.tabContentHolder div.slider-container a.item,
div#bottomLeftWide div.tabContentContainer div.tabContentHolder div.slider-container a.item,
div#bottomRightWide div.tabContentContainer div.tabContentHolder div.slider-container a.item,
div#content-bottom.full div.slider-container a.item {width: 164px;}
div#topLeftNarrow div.slider-container a.item,
div#middleLeftNarrow div.slider-container a.item,
div#middleRightNarrow div.slider-container a.item,
div#bottomLeftNarrow div.slider-container a.item,
div#bottomRightNarrow div.slider-container a.item {width: 112px;}
div#bottomCenterFull div.headline-slider a.item {width: 210px;}
div.headline-slider a {color: #767573;}
div.headline-slider a.item span.marker {color: #56a1c7;}
div.headline-slider div.slider img {margin: 0 auto;display: block;margin-bottom: 5px;background-color: #333333;}
div.headline-slider div.miscarrow, div.headline-slider div.arrow {float: left;margin: 0 auto;padding: 0 9px;top: 0px;position: relative;}
div.narrow div.headline-slider a {color: #767573;}
div.narrow div.headline-slider a.item span.marker {color: #56a1c7;}
div.narrow div.headline-slider div.slider img {margin: 0 auto;display: block;margin-bottom: 5px;background-color: #333333;}
div.narrow div.headline-slider div.miscarrow, div.headline-slider div.arrow {float: left;margin: 0 auto;padding: 0 9px;top: 45px;position: relative;}
div.narrow div.slider-container {width:250px;font-size: 11px;}
div.narrow div.headline-slider a.item,
div#topRightNarrow div.slider-container a.item {float: left;margin-right: 5px;background-image: url(/hive/images/slider/slider-item-bg.gif);background-repeat: repeat-x;padding: 5px;width: 240px;}
div#topLeftWide div.headline-slider div.miscarrow,
div#topRightWide div.headline-slider div.miscarrow,
div#middleLeftWide div.headline-slider div.miscarrow,
div#middleRightWide div.headline-slider div.miscarrow,
div#bottomLeftWide div.headline-slider div.miscarrow,
div#bottomRightWide div.headline-slider div.miscarrow,
div#topLeftWide div.headline-slider div.arrow,
div#topRightWide div.headline-slider div.arrow,
div#middleLeftWide div.headline-slider div.arrow,
div#middleRightWide div.headline-slider div.arrow,
div#bottomLeftWide div.headline-slider div.arrow,
div#bottomRightWide div.headline-slider div.arrow {padding: 0 6px;}
div.headline-slider div.miscarrow.forward,
div.headline-slider div.arrow.forward {float: right;}
div.headline-slider div.fade, div.highlight {opacity: .5;}
div.ticker, div.bn-ticker {position: relative;overflow: hidden;width: 100%;background-color: #011369;margin-bottom: 20px;line-height: 19px;}
div.ticker .ticker-header, div.bn-ticker-header {font-size: 13px;background-color: #AF0116;color: #FFFFFF;font-weight: bold;float: left;padding-right: 2px;padding-left: 2px;text-align: center;}
div.ticker .ticker-header a, div.bn-ticker-header a, div.bn-ticker-content a, div.ticker .ticker-content a {color: #FFFFFF;line-height: 19px;}
div.ticker .ticker-header .ticker-image {padding: 0px;}
div.ticker .ticker-content, div.bn-ticker-content{position: relative;padding-right: 2px;padding-left: 2px;float: left;color: #FFFFFF;}
div#wu_alertbox {background-color: #FFFFFF;border-left: 1px solid #871800;border-right: 1px solid #871800;padding: 5px 10px 0;}
div.headlines p.last-updated span {float: left;margin-right: 5px;}
div.headlines ul.twoColumn {float:left;padding-left: 5px;}
div.headlines ul.col1 {width:50%;}
div.headlines ul.col2 {width: 45%;padding-left: 10px;}
div.headlines ul.FullAlt1 {width: 400px;}
div.headlines ul.FullAlt2 {width: 30%;padding-left: 10px;}
div.headlineItem .headlineBullet {color: #000;}
div.headlines ul.col2 li {padding-bottom: 5px;}
div.headlines ul.col2 li.bullets {color: #000;list-style-type: disc;}
div.headlines ul.threeColumn {float:left;width:32%;}
div.headlines div.mainstory ul.twoColumn,
div.headlines div.fullThumbs ul.twoColumn {float: none;width: auto;}
div.headlines div.overlayThumb {position: relative;}
div.headlines div.overlayThumb div.overlay {background: #000000;opacity: 0.8;*filter: alpha(opacity=80);position: absolute;bottom: 0;left: 1px;}
div.defaultHeadlines div.overlayThumb div.overlay,
.tabModuleContainer div.headlines ul li div.overlayThumb div.overlay {left: 0;}
div.headlines div.overlayThumb,
div.headlines div.overlayThumb div.overlay,
div.headlines ul li div.overlayThumb div.overlay p.small,
div.headlines ul li div.overlayThumb div.overlay p.small span.more,
div.headlines ul li div.overlayThumb div.overlay p.small span.more a {color: white;}
div.headlines ul li div.overlayThumb div.overlay p.small {padding: 5px;opacity: 1.0;*filter: alpha(opacity=100);}
.defaultHeadlines .overlayThumbTable {width: 1px;}
.defaultHeadlines .overlayThumbTable td {padding: 0;}
.defaultHeadlines .overlayThumb .overlay {width: 100%;}
.defaultHeadlines .overlayThumb .headlineThumb {margin: 0;float: none;}
.defaultHeadlines .overlayThumb .defaultHeadlinesBrief {margin: 0;padding: 5px;}
.minutes-ago {color: #d65416;}
div.tabModuleContainer div.featurePromo,
div.tabContentHolder div.featurePromo,
div.tabModuleContainer div.module,
div.tabContentHolder div.module,
div.tabDisplay div.curvedTop,
div.tabContentHolder div.curvedTop,
div.tabDisplay div.openCurve,
div.tabContentHolder div.openCurve,
div.tabDisplay div.curvedBottom,
div.tabContentHolder div.curvedBottom,
div.tabDisplay div.curvedContent,
div.tabContentHolder div.curvedContent,
div.tabContentHolder div.curvedBottom div {margin-bottom: 0px;background-color: transparent;background-image:none;border: none;}
.tabDisplay .sportsnetwork {position: relative;left: -5px;}
div.tabModuleContainer,
div.tabContentHolder {z-index: 10;margin-bottom: 20px;}
div.tabContentContainer {overflow: hidden;position: relative;clear: both;}
div.tabContentHolder {margin-bottom: 0px;width: 5000px;position: relative;}
div.tabContentHolder div.newContent {width: 960px;float: left;min-height: 1px;overflow: hidden;}
div.tabContentDisplay {position: absolute;left: 0px;top: 0px;white-space: normal;width: 960px;}
#content-bottom div.tabContentDisplay,
#content-bottom div.tabContentContainer,
#content-bottom div.tabContentHolder div.newContent,
#topLeftWide div.tabContentDisplay,
#topLeftWide div.tabContentContainer,
#middleLeftWide div.tabContentDisplay,
#middleLeftWide div.tabContentContainer,
#bottomLeftWide div.tabContentDisplay,
#bottomLeftWide div.tabContentContainer,
#topRightWide div.tabContentDisplay,
#topRightWide div.tabContentContainer,
#middleRightWide div.tabContentDisplay,
#middleRightWide div.tabContentContainer,
#bottomRightWide div.tabContentDisplay,
#bottomRightWide div.tabContentContainer,
#topLeftWide div.tabContentHolder div.newContent,
#middleLeftWide div.tabContentHolder div.newContent,
#bottomLeftWide div.tabContentHolder div.newContent,
#topRightWide div.tabContentHolder div.newContent,
#middleRightWide div.tabContentHolder div.newContent,
#bottomRightWide div.tabContentHolder div.newContent,
#rail div.tabContentDisplay,
#rail div.tabContentContainer,
#rail div.tabContentHolder div.newContent {width: 610px;}
#topLeftNarrow div.tabContentDisplay,
#topLeftNarrow div.tabContentContainer,
#middleLeftNarrow div.tabContentDisplay,
#middleLeftNarrow div.tabContentContainer,
#bottomLeftNarrow div.tabContentDisplay,
#bottomLeftNarrow div.tabContentContainer,
#topRightNarrow div.tabContentDisplay,
#topRightNarrow div.tabContentContainer,
#middleRightNarrow div.tabContentDisplay,
#middleRightNarrow div.tabContentContainer,
#bottomRightNarrow div.tabContentDisplay,
#bottomRightNarrow div.tabContentContainer,
#topLeftNarrow div.tabContentHolder div.newContent,
#middleLeftNarrow div.tabContentHolder div.newContent,
#bottomLeftNarrow div.tabContentHolder div.newContent,
#topRightNarrow div.tabContentHolder div.newContent,
#middleRightNarrow div.tabContentHolder div.newContent,
#bottomRightNarrow div.tabContentHolder div.newContent,
#rail div.tabContentDisplay,
#rail div.tabContentContainer,
#rail div.tabContentHolder div.newContent {width: 326px;}
#bottomCenterFull div.tabContentContainer,
#bottomCenterFull div.tabContentContainer div.newContent{width: 960px;}
#topLeftWide .twoColumnSplit tr td div.tabContentContainer,
#topLeftWide .twoColumnSplit div.tabContentHolder div.newContent,
#topContentLeft tr td div.tabContentContainer {width:305px;}
h3.sponsortitle {float:left;color: black;padding-top:5px;}
span.sponsorimage {float:left;padding-left:5px;}
div.sponsorlink {float:left;padding-left:5px;padding-top:10px;padding-right:5px;}
div.sponsorlink-right {float:right;padding-left:5px;padding-right:5px;}
div.sponsorbottom {height:33px;padding-top:2px;}
div#topLeftWide div.tabModuleContainer div.tabDisplay div.module div.slider-container,
div#topRightWide div.tabModuleContainer div.tabDisplay div.module div.slider-container,
div#middleLeftWide div.tabModuleContainer div.tabDisplay div.module div.slider-container,
div#middleRightWide div.tabModuleContainer div.tabDisplay div.module div.slider-container,
div#bottomLeftWide div.tabModuleContainer div.tabDisplay div.module div.slider-container,
div#bottomRightWide div.tabModuleContainer div.tabDisplay div.module div.slider-container {width: 533px;}
div#topLeftWide div.tabModuleContainer div.tabDisplay div.module div.slider-container a.item,
div#topRightWide div.tabModuleContainer div.tabDisplay div.module div.slider-container a.item,
div#middleLeftWide div.tabModuleContainer div.tabDisplay div.module div.slider-container a.item,
div#middleRightWide div.tabModuleContainer div.tabDisplay div.module div.slider-container a.item,
div#bottomLeftWide div.tabModuleContainer div.tabDisplay div.module div.slider-container a.item,
div#bottomRightWide div.tabModuleContainer div.tabDisplay div.module div.slider-container a.item {width:164px;}
div.tabModuleContainer h2.tabTitle {float: left;font-size:24px;color:#FFFFFF;padding-left:10px;padding-top:5px;}
div.tabModuleContainer div.module h3{padding: 0;}
div.tabModuleContainer ul.tabModule {margin-bottom: 2px;margin-right: 5px;float: right;margin-top: 7px;}
div.popular ul.left {float: left;}
div.tabModuleContainer div.tabs {width: 100%;}
div.tabDisplay {border: 0px solid #000;padding: 0px 5px;}
div.popular div.tabDisplay {display: none;clear: both;}
div.popular div.currentTabDisplay {display: block;}
ul.tabModule li{margin-right:-1px;float: left;line-height:22px;padding: 0px 10px;font-weight: bold;}
ul.tabModule li:hover{background-color: #7bbed5;background-image: none;}
div.headlines div.bullets ul {padding-left: 20px;}
div.headlines div.bullets ul.twoColumn {width: 45%;}
div.headlines div.bullets li {list-style:disc;}
div.headlines div.bullets .collectionTitle {list-style-type:none;}
div.headlines h2.collectionTitle {padding-top: 10px;}
div.multiple li {padding-bottom: 5px;}
div.headlines {padding: 10px 0 0;}
div.headlines .listItem {width:100%;}
div.headlines .mainstory li {width:48%;float:left;}
div.headlines .mainstory div.listItem {width: auto;display: inline}
div.bigstory div.relatedNoThumb,
div.headlines div.relatedNoThumb {display: block;}
div.bigstory div.relatedNoThumb img.icon,
div.headlines div.relatedNoThumb img.icon {float:left;}
div.bigstory div.relatedNoThumb a,
div.headlines div.relatedNoThumb a {line-height: 25px;}
ul.relatedHeadline div.iconBlock span.mainTimestamp {clear: both;}
div.bigstory ul.related, div.headlines ul.relatedLinksThumbs, div.leadMezz ul.relatedLinksThumbs {float:right;background-color:#d4dfe1;padding:4px;margin-left: 10px;border: 1px solid #bed0d5;width: auto;}
div.headlines ul.relatedLinksThumbs li{display: inline-block;width: 100px;}
.relatedLinksThumbs  {width:95%;float:left;overflow:hidden;}
.bigstory {padding: 5px;}
.bigstory .bigStoryBrief {padding: 5px 0px;}
h3.sponsortitle {float:left;color: black;padding-top:5px;}
span.sponsorimage {float:left;padding-left:5px;}
div.sponsorlink {float:left;padding-left:5px;padding-top:10px;padding-right:5px;}
.mult-gallery-line {width: 600px;margin-bottom: 10px;clear: both;}
.mult-gallery-item-thumb img{float: left;padding-right: 5px;}
.mult-gallery-item {margin-bottom: 10px;}
#module-related-items {padding: 5px;clear: both;}
.mult-gallery-item-detail {display: inline;}
div.headColumn1 div.relatedLinks {float: left;padding-top: 5px;}
div.headlines div.relatedLinks div.relatedItem {clear: both;float: left;width: 100%;}
div.headlines div.relatedLinks div.relatedNoThumb {float: left;clear: both;}
div.headlines div.relatedLinks div.relatedItem div.relatedHeadline {float: left;}
div.headlines div.relatedLinks div.relatedItem div.multimediaIcon {float: left;clear: left;padding: 0;}
div.articlerail div.articleRelates li a.related-item-type { background-color:#777777; color:#FFFFFF; font-size:11px; font-weight:bold; padding: 0 3px; }
li.multimediaIcon .icon{float:left;}
div.headlines div.relatedLinks div.relatedItem div.relatedHeadline a {font-size: 12px;}
div.headlines div.relatedIcons {padding-right: 5px;position: relative;}
div.headlines div.relatedIcons div.multimediaIcon {float: left;}
table.headlineTable td {vertical-align: top;padding: 3px;}
table.twoColumn td {width: 50%;}
table.threeColumn td {width: 33%;}
table.headlineTable {width: 100%;}
table.bullets {width: 95%;margin: 0 auto;}
table.headlineTable div.relatedLinks {margin-left: 5px;margin-top: 5px;}
table.headlineTable div.relatedLinks div.relatedItem {margin-bottom: 5px;}
table.headlineTable tr.lines {border-top: 1px solid #cccccc;}
table.bullets td {padding-left: 15px;}
table.headlineTable td li {list-style-position: outside;}
table.bullets td li.bullets {list-style-type: disc;}
table.bullets td ul li.bulleted,
div.mainWSecondary ul li.bulleted,
table.headlineTable ul li.bulleted {list-style-type: disc;margin-left: 20px;}
ul.relatedHeadline {margin-top: 5px;}
ul.relatedHeadline li.bulleted{list-style-type: disc;list-style-position:inside;}
div.featuredItem {padding-left: 5px;}
div.headlineItem.lines {border-bottom: 1px solid #cccccc;}
/* photoenlarge headlines */
.overlay span.white, .overlay span.white p {color:white;font-weight:normal;}
.overlay span.white p {padding: 2px;}
.litebxopen {position: absolute;top: 0;right: 0;z-index: 1000;}
#litebxclose {position: absolute;top: 7px;right: 6px;height: 22px;width: 22px;}
.black_overlay{position: absolute;top: 0%;left: 0%;width: 100%;height: 100%;background-color: black;z-index:1001;-moz-opacity: 0.6;opacity:.60;filter: alpha(opacity=60);}
.litebx_content {position: absolute;top: 10%;left: 25%;width: 685px;height: auto;max-height: 650px;padding: 16px;border: 3px solid #888888;background-color: white;z-index:2147483601;/* one more than the ads in the header */
overflow: auto;}
#light div.photo h1 {padding-left: 0;margin-bottom: 8px;}
.litebxcaptions, #light div.photo, #light div.photo h1 {width: 96%;}
.litebxcaptions {margin: 8px 0;}
/* end photoenlarge headlines */
/* Section links */
.sectionlink-head {float:right;margin-right:10px;padding-bottom: 5px;}
.sectionlink-head a.sectionlink {font-size: 1em;}
/* Single Promo */
div.single-item-promo div {margin-left: 10px;margin-right: 10px;margin-bottom: 10px;}
div.promo-title {font-size: 1.1em;}
div.brief-right div.promo-brief {margin-left: 0px;float: left;}
div.single-item-promo div.promo-image {margin-top: 10px;}
div.brief-right div.promo-image {float: left;}
div.single-item-promo div.promo-image img {margin: auto;}
div.oneColBullet td {padding-left: 10px;}
div.oneColBullet li {list-style: disc inside;margin-left: 10px;}
div.oneColBullet td li {margin-left: 0;}
div.oneColBullet .headline {display: inline;}
.headlines .byline {font-size: 11px;display: block;}
ul.feedMasherList {padding: 5px;clear: both;}
ul.feedMasherList li {padding: 5px 0;}
ul.feedMasherList span {display: block;}
div.feedMashup div.for2 ul.feedMasherList li,
div.feedMashup div.for3 ul.feedMasherList li{float: left;padding-right: 1%;}
div.feedMashup div.for2 ul.feedMasherList li{width: 49%;}
div.feedMashup div.for3 ul.feedMasherList li{width: 32%;}
div.feedMashup div.rssHeader {padding-left: 5px;position: relative;} /* peed-a-boo fix */
div.feedMashup div.rssHeader h2 {padding: 0;}
/*BAQ-2757*/div.feedMashup div.rssHeader p {padding: 0;}
div#multimedia-related-items p {padding-bottom: 20px;}
div.rotateHeadlineModule {position: relative;} /* IE Fix */
div.rotatingHeadlineModuleTop img {margin: 0 auto;}
ul.rotatingHeadlinesBullets li {background-image:url(/hive/images/modules/bn_button.gif);background-position:right top;background-repeat:no-repeat;cursor:pointer;float:left;height:15px;width:15px;}
ul.rotatingHeadlinesBullets li.active {background-position: left top;}
ul.rotatingHeadlinesBullets li {padding: 0; margin: 0}
div.rotatingHeadlinesContainer {padding: 5px;}
ul.rotatingHeadlines li {background-color: #FFF;} /* IE ghosting bug */
ul.rotatingHeadlinesBullets {margin: 0 auto;}
div.rotatingHeadlineModuleTop h2 {padding: 5px;}
div.rotatingModuleSponsor {padding-right:5px;text-align:right;}
div.defaultHeadlines p.cutline{color:#777777;font-size:10px;padding-top:2px;padding-bottom: 5px;clear: both;}
div.defaultHeadlines div.rightHeadlinePos p.cutline {float: left;margin-right:5px;position:relative;}
/* For use with moduleClass parameter */
div.noBottomMargin {margin-bottom: 0px;}
table.borderBottom {border-bottom: 1px solid #CCC;padding-bottom: 10px;border-collapse: separate;}
/* LEADCONTENT MODULE *************************************************/
#leadcontent-main,
.leadMezz {background-image: none;background-repeat:repeat-x;background-color: #396877;border: 1px solid #000;color: #000;width: 620px;height: auto;padding: 5px 0px;}
div.leadMezz {margin-top: -21px;margin-bottom: 20px;}
div.leadMezz li.mezzitem {border-left:1px solid;border-right:1px solid;margin-left:-1px !important;padding: 5px 10px;}
div.leadMezz ul.leadMezz li.mezzitem {margin: 0 0 0 -1px !important;width: 30%;}
div.leadMezz li.right {border-right: 0;}
div.leadMezz li.left {border-left: 0;}
.leadMezz .headlineRight img {float: left;margin-right: 5px;}
#leadcontent-main p.brief a, div.mainSlideDetailsContents h3.headline a{color: #9cf;}
#leadcontent-main h1 a, div.mainHeadline h4 a, h3.headline a, div.mainHeadline h2 a, div.leadMezz a, div.leadMezz h2.headline a {font-size: 12px;}
#leadcontent-main div.noRotate h1,
#leadcontent-main div.noRotate h1 a,
#leadcontent-main div.noRotate h2,
#leadcontent-main div.noRotate h2 a {font-size: 21px;}
#leadcontent-main a img.fullphoto, #leadcontent-main h1.headline, #leadcontent-main p.brief {margin-bottom: 5px;}
ul.leadMezz {border:none;}
.lead-single-column {padding: 5px;}
.lead-single-column h1.headline {padding-bottom: 3px}
.lead-single-column img{margin-bottom: 3px;margin-right: 10px;border: 1px solid #000;float: left;}
.lead-double-column h1.headline {padding-bottom: 3px}
.lead-double-column img{margin-bottom: 3px;margin-right: 10px;border: 1px solid #000;float: left;}
div.leadcolumn1 h1, div.leadcolumn1 iframe, div.leadcolumn1 p.brief {margin-bottom: 5px;}
div.leadcolumn1, div#leadcontent-main div#slideContainer {width: 400px;float: left; margin-bottom: 1px;}
div.leadcolumn1, div#leadcontent-main .headlineDivider {border-top:1px solid #9DB3B9;}
div#slideContainerSmall1 {float:left;padding:5px;position:relative;}
div#slideContainerSmall1 #main-slide1 img {margin:0 auto;text-align:center;}
div#slideContainerSmall1 div#main-slide1 img {display:inline;float:left;margin-right:5px;}
div#slideContainerSmall1 div#main-slide1 img.right {display:inline;float:right;margin-left:5px;}
div#slideContainerSmall1 div#main-slide1 .multimediaIcon img {float:left;}
div#slideContainerAdjust1 {float:left;padding:5px;position:relative;width:98%;}
div#slideContainerAdjust1 #main-slide1 img {margin:0 auto;text-align:center;}
div#slideContainerAdjust1 div#main-slide1 img {display:inline;float:left;margin-right:5px;}
div#slideContainerAdjust1 div#main-slide1 img.right {display:inline;float:right;margin-left:5px;}
div#slideContainerAdjust1 div#main-slide1 .multimediaIcon img {float:left;}
div#slideContainer1 {float:left;padding:5px;position:relative;}
div#slideContainer1 #main-slide1 img {margin:0 auto;text-align:center;}
div#slideContainer1 div#main-slide1 img {display:inline;float:left;margin-right:5px;}
div#slideContainer1 div#main-slide1 img.right {display:inline;float:right;margin-left:5px;}
div#slideContainer1 div#main-slide1 .multimediaIcon img {float:left;}
div.leadcolumn1, div#leadcontent-main div#slideContainerSmall {float:left;padding:5px;width:310px;position:relative;border-right:1px solid #9DB3B9;}
div#slideContainerSmall #main-slide1 img {margin:0 auto;text-align:center;}
h2.headline a {color: #011369;}
div#leadcontent-main div#slideContainerSmall div.mainSlide {padding-top:5px;padding-bottom:5px;}
div.leadcolumn2, div#leadcontent-main div#headlineContainerAdjust {float:left;padding:5px;position:relative;width:207px;border-left:1px solid #9DB3B9;margin-left:-1px;}
div.leadcolumn1, div#leadcontent-main div#slideContainerAdjust {float:left;padding:5px;width:395px;border-right:1px solid #9DB3B9;}
div#leadcontent-main div#headlineContainerAdjust div.mainHeadline {padding-top: 3px;padding-bottom:3px;}
div#leadcontent-main div#slideContainerAdjust div.mainSlide {padding-top:5px;padding-bottom:5px;}
div.leadcolumn2 {margin-left: 400px;}
div.leadcolumn2, div#leadcontent-main div#headlineContainer {border-left: 1px solid #9db3b9;position: relative;}
div#leadcontent-main div.mainSlideDetails {padding: 5px;}
div.leadcolumn2, div#leadcontent-main div#headlineContainerLarge {float:left;padding:5px;position:relative;width:285px;border-left:1px solid #9DB3B9;margin-left:-1px;}
div#leadcontent-main div#headlineContainer {float: left;margin-left: -1px;width: 199px;}
div.leadcolumn2 ul li {padding:5px 0;clear: both;border-bottom: 1px solid #9db3b9;}
div#leadcontent-main div#headlineContainer.autoRotate div.mainHeadline {border-bottom: 1px solid #9db3b9;}
div#leadcontent-main div#headlineContainer div.mainHeadline div {padding: 3px;}
div#leadcontent-main div#headlineContainerLarge div.mainHeadline div {padding-top: 3px;padding-bottom:3px;}
div.leadcolumn2 ul li.first, div#leadcontent-main div#headlineContainer div.first {padding-top: 0;}
div.leadcolumn2 ul li.last,
div#leadcontent-main div#headlineContainer div.last,
div#leadcontent-main div#headlineContainer.autoRotate div.last {border-bottom: none;}
div#leadcontent-main ul li.bulleted,
div#leadcontent-bigstory ul li.bulleted,
div.leadMezz ul li.bulleted {list-style-type: disc;margin-left: 20px;}
div.leadcolumn2 ul li div.listitem {width: 100%;}
div.leadcolumn2 ul li img.thumbnail, div#leadcontent-main div#headlineContainer div.mainHeadline img.headlinePhoto {margin: 0 auto;}
div.leadcolumn2 ul li img.thumbnail.small {margin-right: 10px;}
div#slideshow {width: 620px;height: 400px;position: relative;padding: 0;margin: 0;}
div#slideshow .slide {position: absolute;left: 0;top: 0;overflow: hidden;height: 400px;width: 100%;background-color: white;}
div#leadcontent-main div#slideContainer {position: relative;border-right: 1px solid #9DB3B9;padding-right: 5px;padding-left: 5px;float: left;}
div#leadcontent-main div#slideContainer div.mainSlide {/*
removed 5/19 KMB: if more then one mod they were overlapping
position: absolute;top: 5px;left: 5px;*/}
div.kaleidoscope div#slideContainer div.mainSlide {position: absolute;}
div.kaleidoscope div#slideContainer p.cutline { color: #777; font-size: 10px; padding: 2px 0 5px; clear: both; font-weight: normal; }
div#leadcontent-main div#slideContainer div.overlay {width: 400px;height: 225px;}
div#slideshow div.caption, div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails {background: #000000;opacity: 0.8;*filter: alpha(opacity=70);position: absolute;width: 100%;bottom: 0;left: 0;color: #FFFFFF;padding: 5px 0;}
div#slideshow div.slide div.caption div.head {padding: 10px;}
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails div.mainSlideDetailsContents {color: #FFFFFF;opacity: 1.0;*filter: alpha(opacity=100);margin: 0 5px;}
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails div,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails h1,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails h1 a:link,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails h1 a:visited,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails h1 a:active,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails span,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails p,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails ul,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails ul li,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails ul li a:link,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails ul li a:visited,
div#leadcontent-main div#slideContainer div.overlay div.mainSlideDetails ul li a:active {color: #FFFFFF;opacity: 1.0;*filter: alpha(opacity=100);}
div#slideshow div.slide div.caption div.head span,
div#slideshow div.slide div.caption div.head h1,
div#slideshow div.slide div.caption div.head h1 a:link,
div#slideshow div.slide div.caption div.head h1 a:visited,
div#slideshow div.slide div.caption div.head h1 a:active {width: 100%;color: #FFFFFF;opacity: 1.0;*filter: alpha(opacity=100);}
div#slideshow-thumb-container .timestamp {padding-bottom: 5px;}
div.slideshow-thumb-img-large-container {width: 400px;margin: 5px 0 5px 5px;padding-right: 4px;float: left;border-right: 1px solid #9db3b9;}
div.slideshow-thumb-img-large-container div.slide{float:left;display:inline;width:400px;}
div.slideshow-thumb-img-small-container{width:199px;float:left;border-left: 1px solid #9db3b9;position: relative;left: -1px;}
div.slideshow-thumb-img-small-container div.highlight, div#leadcontent-main div#headlineContainer div.highlight {opacity: 1.0;*filter: alpha(opacity=100);background-color: #7b959b;}
div.slideshow-subcontainer {border-top: solid 1px #9db3b9;padding: 10px;}
div.slideshow-subcontainer.first {border-top: none;}
div.slideshow-thumb-img{padding:0 10px 0 0px;}
div.slideshow-thumb-img-small-container div.slideshow-headline-container {cursor: pointer;}
div.slideshow-thumb-img-small-container div.slideshow-headline-container h1,
div.slideshow-thumb-img-small-container div.slideshow-headline-container h1 a:link,
div.slideshow-thumb-img-small-container div.slideshow-headline-container h1 a:visited,
div.slideshow-thumb-img-small-container div.slideshow-headline-container h1 a:active{font-size:13px;}
div.headline-container .secondaryTitle {padding: 5px 0 0 5px;}
div.slideshow-headline-col1{padding:5px 0 0 0;}
div#slideshow-thumb-container .controls {width: 611px;margin-top: 10px;padding: 0 5px 5px;clear: both;}
div#slideshow-thumb-container .controls #buttons {width: 45px;float: left;}
div#slideshow-thumb-container .controls #buttons #previous, div#slideshow-thumb-container .controls #buttons #next {display: inline;cursor: pointer;float: left;}
div#slideshow-thumb-container .controls #buttons #next {padding-left: 5px;}
div#slideshow-thumb-container .controls #progressbar {width: 570px;float: right;height: 14px;border: 1px solid #DDD;padding: 0;margin: 0;background-color: #FFF;}
div#slideshow-thumb-container .controls #progressbarfill {width: 0px;height: 14px;background-color: #CCC;}
div#buttons2 div#slideshow-headline-counter2{float:left; padding-left:2px; padding-right:2px;}
div#buttons2 div.slideshow-thumb2.previous{float:left;}
#module-lead-content .buttons {background:transparent url(/images/lead-ajax-button-bg.gif) no-repeat scroll 0 0;height:25px;padding-right:5px;padding-top:5px;position:absolute;text-align:right;top:360;left:0;width:655px;z-index:103;}
.lead-related-items .related-item .thumb {float:left;padding: none;width: 100%;}
.lead-related-items .related-item p a {color:#efefef;}
.lead-related-items .related-item p {padding-top:5px;}
/*lead-content-video/photo */
div.module div.leadcontent  .leadcolumn2 ul li {border-bottom: #CEE1F1 solid 1px !important;margin:6px 0 6px 0;}
div.leadcontent div.relatedItem,
div.leadMezz div.relatedLinks div.relatedItem,
div.bigStoryDetails div.relatedItem {clear: both;float: left;width: 100%;}
div.bigStoryDetails table.relatedItems {width: 100%;}
div.bigStoryDetails table.relatedItems td {width: 50%;vertical-align: top;}
div.leadMezz div.relatedLinks div.relatedNoThumb {float: left;clear: both;}
div.leadcontent div.multimediaIcon,
div.leadMezz div.relatedLinks div.relatedItem div.multimediaIcon,
div.bigStoryDetails div.multimediaIcon,
div.leadMezz div.relatedIcons div.multimediaIcon {float: left;padding-right: 5px;}
div.bigStoryDetails div.multimediaIcon img {padding: 0;}
div.bigStoryDetails div.relatedHeadline {float: left;}
div.leadcontent div.relatedItem div.relatedHeadline a {color: #FFFFFF;}
img.icon {float: left;margin-right: 5px;width: 18px;height: 18px;}
div.iconBlock {margin-left: 25px;padding: 3px 0px;margin-top: 0px;}
img.ugcThumb {float: left;margin-right: 5px;width:auto;height: 40px;}
body div#container div#section div div.curvedCorners,
body div#container div#contentBottom div.curvedCorners,
body div#container div#content-bottom div.curvedCorners,
body div#container div#rail div.curvedCorners {background-image: none;background-color: transparent;border: 0;padding: 0;}
div#curvedCorners {margin-top: -48px}
div.leadMezz div.curvedTop {background-position: 100% -10px}
div.leadMezz div.openCurve {background-position: 0 -10px}
.curvedCorners {position:relative;margin:0px auto;min-width:8em;z-index:1;margin-left:7px;margin-bottom:0.5em;}
.curvedCorners .curvedTop,
.curvedCorners .openCurve,
.curvedCorners .curvedBottom,
.curvedCorners .curvedBottom div {background:transparent url(/images/curvedCorners.png) no-repeat top right;_background-image:url(/images/curvedCorners.gif);}
.curvedCorners .curvedTop {position:relative;zoom:1;_overflow-y:hidden;padding:10px 5px 0px 0px;}
.curvedCorners .openCurve {position:absolute;left:0px;top:0px;width:10px;margin-left:-10px;height:100%;_height:2400px;background-position:top left;}
.curvedCorners .curvedBottom {position:relative;width:100%;}
.curvedCorners .curvedBottom,
.curvedCorners .curvedBottom div {height:10px;font-size:1px;}
.curvedCorners .curvedBottom {background-position:bottom right;}
.curvedCorners .curvedContent {margin-left: -5px;position: relative;}
.curvedCorners .curvedBottom div {position:relative;width:10px;margin-left:-10px;background-position:bottom left;}
div#slideContainerAdjust1 div#main-slide1 div.left {float:left;}
div#slideContainerAdjust1 div#main-slide1 div.right {float:right;width:auto;padding-left:5px;_width:50%;}
div.multiple div.curvedTop div.curvedContent {padding-left: 10px;}
div.for3 div.curvedTop div.curvedContent {padding-left: 10px;}
.leadMezz .byline,
.leadcontent .byline {font-size: 11px;}
div#leadcontent-main div#slideContainerAdjust1 {height:100%;}
div#leadcontent-main div#main-slide1 div.left {float:left;}
div#leadcontent-main div#main-slide1 div.right {float:right;}
#leadcontent-main .aboveLeadcontentHeadPos img {margin-top: 5px;}
div#leadcontent-main h4.entry-title {display: none;}
/* MOSTPOPULAR MODULE *************************************************/
div.populartabscontainer {padding-top:21px;position:relative;}
div.linkslist {border:1px solid #DDD;padding:10px;}
div.mostpopular {padding:5px;}
.popular ol {padding-left:25px;padding-top:10px;}
.popular ol li {list-style-type:decimal;padding-bottom:5px;position:relative;}
.popular ol li.more {list-style-type:none;}
div.none ol.popularHeadlines {padding-left:5px;}
div.linkslist ul li.more {clear:both;text-align:right;margin-bottom:0;list-style-type:none;}
div.linkslist ul li.photo {width:90px;float:left;margin-bottom:10px;margin-right:25px;}
div.linkslist ul li.photo img {display:block;margin:auto;}
div.linkslist ul li.photo.odd {clear:left;}
div.populartabscontainer ul.tabs {left:0;position:absolute;top:0;margin:0;}
ul.tabs {border-left:1px solid #DDD;height:21px;}
ul.tabs li {border-top:1px solid #DDD;float:left;margin-bottom:9px;}
ul.tabs li a {background-color:#f7f7f7;display:block;line-height:20px;border-color:#DDD;border-style:solid;border-width:0 1px 1px 0;padding:0 6px;}
#tabs {overflow:hidden;}
/* MARKET SPECIFIC */
div.populartabscontainer ul.tabs li.current {background-position:0 -42px;border-bottom-color:#FFF;padding-bottom:1px;}
ul.tabs li.current a {background:#FFF none repeat scroll 0 0;border-bottom-color:#FFF;}
div.populartabscontainer li a:link,div.populartabscontainer li a:visited,div.populartabscontainer li a:hover,div.populartabscontainer li a:active {font-weight:700;}
/* END MARKET SPECIFIC */
div.mostpopular-dual-view-container {margin:0;padding:0;}
h3.mostpopular-title {padding:5px 0;}
h2.popular-type-title {background:#FFF none repeat scroll 0 0;color:#000;font-size:12px;margin:0;padding:3px;}
div.mostpopular-dual-view-viewed {width:48%;float:left;margin:0;padding:0 5px 0 0;}
div.mostpopular-dual-view-emailed {width:48%;float:right;margin:0;padding:0 0 0 5px;}
ul.mostpopular-list {display:block;line-height:20px;border-color:#DDD;border-style:solid;border-width:1px;}
li.mostpopular-list-item {margin:10px;padding:0;}
li.more {text-align:right;margin:0 10px 10px 0;}
div.mostpopular-container {border:1px solid #333;width:98%;margin:5px 0;padding:5px 12px 5px 5px;}
div.mostpopular-item-container {border:1px solid #000;width:100%;margin:10px 0;padding:10px 0 10px 5px;}
div.mostpopular-item-container div.item-number {float:left;margin:0 10px 0 5px;padding:0;}
div.mostpopular-item-container div.item-thumb {float:left;margin:0 10px 0 0;padding:0;}
div.mostpopular-item-container div.item-body {padding:0 5px;}
div#popular-article-tool-email {float:left;width:70px;height:10px;}
div.share-bookmarks {float:left;width:70px;margin:0 10px;}
div.mostpopular-container a.share {left:20px;position:relative;}
div#popular-article-tool-print {float:left;width:70px;min-height:0;}
ul.social-bookmarks {background-color:#FFF;border:1px solid #999;font-size:9px;width:272px;z-index:2;text-align:left;position:absolute;display:none;min-height:0;padding:1px;}
ul.social-bookmarks li {background:transparent none repeat scroll 0;float:left;margin-right:10px;min-height:0;position:relative;padding:1px;}
ul.social-bookmarks li a {margin-top:1px;height:20px;margin-bottom:1px;font-size:9px;padding:3px 0 0 20px;}
ul.social-bookmarks li.digg a {background:transparent url(/hive/images/icons/icon-digg.gif) no-repeat 0 0 !important;display:block;width:20px;}
ul.social-bookmarks li.delicious a {background:transparent url(/hive/images/icons/icon-delicious.gif) no-repeat 0 0 !important;display:block;width:41px;}
ul.social-bookmarks li.facebook a {background:transparent url(/hive/images/icons/icon-facebook.gif) no-repeat 0 0 !important;display:block;width:41px;}
ul.social-bookmarks li.furl a {background:transparent url(/hive/images/icons/icon-furl.gif) no-repeat 0 0 !important;display:block;width:20px;}
ul.social-bookmarks li.google a {background:transparent url(/hive/images/icons/icon-google.gif) no-repeat 0 0 !important;display:block;width:33px;}
ul.social-bookmarks li.reddit a {background:transparent url(/hive/images/icons/icon-reddit.gif) no-repeat 0 0 !important;display:block;width:33px;}
ul.social-bookmarks li.spurl a {background:transparent url(/hive/images/icons/icon-spurl.gif) no-repeat 0 0 !important;display:block;}
ul.social-bookmarks li.fark a {background:transparent url(/hive/images/icons/icon-fark.gif) no-repeat 0 0 !important;display:block;width:22px;}
ul.social-bookmarks li.permalink a {background:transparent url(/hive/images/icons/icon-permalink.gif) no-repeat 0 0 !important;display:block;}
ul.social-bookmarks li.mixx a {background:transparent url(/hive/images/icons/icon-mixx.gif) no-repeat 0 0 !important;display:block;}
ul.social-bookmarks li.buzz a {display:block;width:63px;padding-left:0;margin:0;}
div.mostpopular h3,div.linkslist ul li {margin-bottom:5px;}
#mostViewedMoreLinks,#mostEmailedMoreLinks {text-align:right;margin-right:4px;}
div.mostpopular-item-container div.item-title,div.mostpopular-item-container div.item-date {margin:0 0 5px;}
div#popular-article-tool-email img,div#popular-article-tool-print img {float:left;margin-right:5px;min-height:0;}
/* New styles 8/3/09 */
div.mostpopular div.tabContent div.item{padding:5px 0;}
div.mostpopular div.tabHolder div.tabContent div.bullets{display: list-item;list-style-type:disc;margin-left:20px;vertical-align: middle;}
div.mostpopular div.tabContent span.index{float: left;text-align:right;width: 15px;}
div.mostpopular div.tabContent div.item a{display: block;margin-left:20px;}
div.mostpopular div.tabContent div.bullets a{margin-left:0;}
.disable, a.disable:hover, a.disable:link, a.disable:active {color:#ccc;text-decoration: none;cursor: pointer;}
div.mostpopular div.tabContent div.bullets{*padding-top: 10px;_padding-top: 10px;}
div.mostpopular div.tabContent {float: left;width: 326px;}
div.tabHolder {position: relative;width: 2000px;}
div.tabHolder div.more {clear: both;}
/* BREAKING MODULE *************************************************/
#breakingNewsFull {padding: 0 5px 10px;}
#breakingNewsFull p.caption {font-size: 77%;margin-top: 1px;clear: both;}
#breakingNewsFull #main {float: left;width: 311px;}
#breakingNewsFull #related {float: right;width: 205px;}
#breakingNewsFull div.item {float: left;}
#breakingNewsFull h3 {border-bottom: 1px solid;font-size: 122%;margin-bottom: 5px;}
#breakingNewsFull h4,
#breakingNewsFull p {font-size: 92%;}
#breakingNewsFull a.more {font-style: italic;}
#breakingNewsFull a.photo img,
#breakingNewsFull.layoutC a.photo {display: block;}
/* Breaking News Layout A (Two Items) */
#breakingNewsFull.layoutA div.item {width: 475px;}
#breakingNewsFull.layoutA div.item.first {margin-right: 20px;}
#breakingNewsFull.layoutA a.photo {float: right;margin-left: 3px;}
/* Breaking News Layout B (One Item) */
#breakingNewsFull.layoutB h3 {width: 970px;}
#breakingNewsFull.layoutB a.photo {float: left;margin: 0px 11px 0px 0px;}
/* Breaking News Layout C (Three Items) */
#breakingNewsFull.layoutC div.item {display: inline;margin-left: 20px;width: 310px;}
#breakingNewsFull.layoutC div.item.first {margin-left: 0;}
/* Weather Alert */
#weatherSectAlert {position: relative;margin: 5px;display: block;}
#weatherSectAlert .topLeft{background:url(/hive/images/modules/weather_top_left.gif) no-repeat;position: absolute;top: 0px;left: 0px;height: 15px;width: 11px;}
#weatherSectAlert .divHeader{background:url(/hive/images/modules/severe_weather.gif) no-repeat left bottom;height: 15px;margin: 0px 10px;display: block;background-color: #871800;}
.narrow #weatherSectAlert .divHeader {background-image:url(/hive/images/modules/severe_weather_small.jpg);}
#weatherSectAlert .divBottom{height: 7px;font-size: 7px;margin: 0px 11px;background-color: #fff;border-bottom:1px solid #871800;}
#weatherSectAlert .topRight{background:url(/hive/images/modules/weather_top_right.gif) no-repeat;position: absolute;top: 0px;right: 0px;height: 15px;width: 11px;}
#weatherSectAlert .bottomLeft{background:url(/hive/images/modules/weather_bottom_left.gif) no-repeat;position: absolute;bottom: 0px;left: 0px;height: 10px;width: 11px;}
#weatherSectAlert .bottomRight{background:url(/hive/images/modules/weather_bottom_right.gif) no-repeat;position: absolute;bottom: 0px;right: 0px;height: 10px;width: 11px;}
/* Breaking News Module */
#breakingModule {width: 620px;float: left;background: #ccc;border: 1px solid #a9a9a9}
#breakingModule div.breakingNewsModuleLogo {height: 35px;float: left;background-color: #fff;text-align: center;padding-left: 5px;padding-top: 5px;}
#breakingModule div.breakingNewsModuleBranding {width: auto;height: 40px;float: left;background-image: url(/hive/images/modules/breakingnews_bg.gif);background-repeat: no-repeat;background-position: top right;background-color: #f0f0f0;text-align: center;padding: 0px 15px 0px 10px;}
#breakingModule div.breakingNewsModuleBranding div.breakingNewsModuleTitle {padding-top: 5px;height: 20px;float: left;}
#breakingModule div.breakingNewsModuleBranding div.breakingNewsModuleBullets {clear: left;height: 15px;float: left;}
#breakingModule div.breakingNewsModuleBranding div.breakingNewsModuleBullets ul li {width: 15px;height: 15px;background-image: url(/hive/images/modules/bn_button.gif);background-repeat: no-repeat;background-position: top right;float: left;cursor: pointer;}
#breakingModule div.breakingNewsModuleBranding div.breakingNewsModuleBullets ul li.active {background-position: top left;}
.breakingNewsContainer {border-bottom: 1px solid #a9a9a9;height: 38px;overflow: hidden;background-color: #f0f0f0;position: relative;}
#breakingModule div.breakingNewsModuleItems {width: auto;height: 40px;float: left;position: relative;padding-left: 5px;}
#breakingModule div.breakingNewsModuleItems div.breakingNewsModuleHeadlines {overflow: hidden;}
#breakingModule div.breakingNewsModuleItems div.breakingNewsModuleHeadlines ul li {height: 35px;padding: 5px 0 0;font-size: 12px;width: auto;background: #F0F0F0;}
#breakingModule div.breakingNewsModuleItems div.breakingNewsModuleHeadlines ul li a {font-weight: bold;}
#breakingModule div.breakingNewsModuleItems div.breakingNewsModuleTimestamp {height: 15px;overflow: hidden;position: absolute;bottom: 2px;left: 5  px;}
#breakingModule div.breakingNewsModuleItems div.breakingNewsModuleTimestamp ul li {height: 15px;background: #F0F0F0;}
#breakingModule div.breakingNewsModuleSponsor {width: 618px;text-align: center;padding: 0;float: left;}
#breakingModule div.breakingNewsModuleSponsor img {display: inline-block;margin-bottom: -3px;}
#breakingModule div.sponsorLogoRight img {position: absolute;top: 2px;right: 2px;}
#breakingModule div.sponsorTextRight {position:absolute;top:20px;white-space: nowrap;}
/* MEZZANINES MODULE *************************************************/
div.mezzanine {padding: 10px 0;}
div.mezzanine .curvedContent {margin-left: 0;}
div.mezzanine h2.header {padding-left: 10px;font-size: 18px;text-align: left;}
div.mezzanine .sectionlink-head {padding-top: 5px;}
div.mezzanine h2, div.mezzanine h3, div.mezzanine h4 {margin-bottom: 5px;}
div.mezzanine li.mezzitem {list-style-type: none;}
div.mezzanine li.mezzitem img {margin-bottom: 2px;}
/* 1 item */
div.mezzanine.for1 {width: 100%;}
div.mezzanine.for1 li.mezzitem {margin-left:4%;width:95%;}
div.mezzanine.for1 a.mezzphoto {float: left;display: inline;margin-right: 5px;}
div.leadMezz ul.for1 li.mezzitem {width:95%;}
/* 2 items */
div.mezzanine.for2 {width: 100%;}
div.mezzanine.for2 li.mezzitem {float:left;margin-left:2%;width:47%;}
div.mezzanine.for2 a.mezzphoto {margin-right: 5px;}
div.for2 li.mezzitem div.clearfix {width: 100%;}
div.for2 li.right img {float:left;padding-right:5px;}
div.leadMezz ul.for2 li.mezzitem {width:45%;/** to compensate for the border on the lead content parasite module **/}
/* 3 items */
div.mezzanine.for3 {width: 100%;}
div.mezzanine.for3 li.mezzitem {float: left;width: 31%;margin-right: 2%;}
div.mezzanine.for3 li.mezzitem.last, div.mezzanine.for4 li.mezzitem.last, div.mezzanine.for5 li.mezzitem.last {margin-right: 0%;}
div.mezzanine.for3 a.mezzphoto, div.mezzanine.for3 img {display: block;margin-bottom: 5px;}
div.leadMezz ul.for3 li.mezzitem {width:29%;/** to compensate for the border on the lead content parasite module **/
overflow: hidden;}
/* 4 items */
div.mezzanine.for4 {width: 100%;}
div.mezzanine.for4 li.mezzitem {float: left;margin-left: 2%;width: 21%;}
div.mezzanine.for4 a.mezzphoto {display: block;margin-bottom: 5px;}
/* 5 items */
div.mezzanine.for5 {width: 100%;}
div.mezzanine.for5 li.mezzitem {float: left;margin-right: 2%;width: 18%;}
div.mezzanine.for5 a.mezzphoto {display:block;margin-bottom:5px;text-align:center;}
/* 6 items (this style is based off of old thumbnail size 140x105. It will NOT work with the new thumb size 187x105)*/
div.mezzanine.for6{width:100%;}
div.mezzanine.for6 li.mezzitem {float: left;margin-left: 2%;width: 13%;}
div.mezzanine.for6 a.mezzphoto {display: block;margin-bottom: 5px;}
/*end 6 items*/
div.mezzanine.vertical {width: 100%;text-align: left;}
div.mezzanine.vertical ul li.mezzitem {margin-bottom: 10px;}
div.mezzanine.vertical ul li.mezzitem div.clearfix {width: 100%;}
div.mezzanine_full {padding: 0 0 5px 0;margin: 0px;background-color: #FFF;}
div.mezzanine_full_body1 {width: 100%;float: left;padding: 0px;margin: 0px;}
div.mezzanine_full_body2 {width: 50%;float: left;padding: 0px;margin: 0px;}
div.mezzanine_full_body3 {width: 33%;float: left;padding: 0px;margin: 0px;}
h2.mezzanine_full_column_title {padding: 0px;margin: 0px;}
div.mezzanine_full_image {float: left;padding: 0px;margin: 0px;}
div.mezzanine_full_inner_body {padding: 0px;margin: 0px;_float: left;*float:left;}
div.mezzanine_full_head {padding: 3px 0 0 10px;margin: 0 0 8px 0;height: 17px;background-color: #CCC;}
p.mezzanine_full_text {padding: 0px;margin: 0px;}
div.mezzanine_full_link {padding: 0px;margin: 0px;}
div.mezz-items-3 div.item0 {width: 310px;float: left;}
div.mezz-items-3 div.item1 {width: 440px;float: left;}
div.mezz-items-3 div.item2 {width: 220px;float: left;}
.full-mezz-content-item {padding: 5px 10px;margin: 0px;}
.item0 .full-mezz-content-item {width: 290px;}
.item1 .full-mezz-content-item {width: 420px;}
.item2 .full-mezz-content-item {width: 200px;}
/*Multimedia gallery styles*/
div.multimediaPromo div.right img {float: left;display: inline;margin-left: 0;}
div.multimediaPromo div.above img,
div.multimediaPromo div.below img {margin: 0;}
div.multimediaPromo table.headlineBelow,
div.multimediaPromo div.content img {margin-right: 2px;}
div.multimediaPromo div.content {float: left;padding: 5px 1% 5px 0;}
div.multimediaPromo div.for1 {padding-bottom: 5px;}
div.multimediaPromo div.for1 div.content {float: none;clear: left;zoom: 1;padding-bottom: 0;}
div.multimediaPromo div.for2 div.content {width: 47%;}
div.multimediaPromo div.for3 div.content {width: 31%;}
div.multimediaPromo div.for4 div.content {width: 23%;}
div.multimediaPromo div.for5 div.content {width: 18%;}
/* end multimedia styles */
div.headline{position:relative;}
div.moreLink {float:right;margin-right:10px;padding-bottom:5px;}
div#curvedCorners ul.leadMezz{margin-left: -12px} /* this needs a ie6 fix (give it w width of 615px and overflow hidden) in the file */
div.curvedContent ul.leadMezz{margin-left: -10px;} /* this needs a ie6 fix in the file */
div#curvedCorners.leadMezz div.curvedTop {padding-top: 0px;}
div#curvedCorners.leadMezz ul.for3 li.mezzitem{padding:5px 11px 5px 12px;} /* this needs a ie6 fix in the file (padding 5px 7px 5px 7px)*/
h4.header-bottom{float:left;width:70px;}
h4#head-width{width:150px;}
span.multi-thumb{float:left;}
/* PHOTOGALLERIES MODULE *************************************************/
div.photogalleryPromo2 div.promoTitle {padding: 0 5px;}
div.photogalleryPromo2 div.photogalleriesMain {margin-top:5px;padding-bottom:10px;}
div.photogalleryPromo2 div.photogalleriesMain ul.main li a {display: block;}
div.photogalleryPromo2 div.photogalleriesSecondary ul li.inline {display:inline;}
div.photogalleryPromo2 div.photogalleriesSecondary ul li.bulleted{list-style-type:disc;margin-left:15px;padding-bottom:5px;}
div.photogalleryPromo2 div.miniThumb ul li.inline,
div.photogalleryPromo2 div.fullThumb ul li.inline {float:left;margin:4px;}
div.photogalleryPromo2 div.no ul {padding: 0 5px;}
div.narrow div.photogalleryPromo2 div.miniThumb ul li.inline {width: 30%;}
div.wide div.photogalleryPromo2 div.miniThumb ul li.inline {width: 18%;}
div.full div.photogalleryPromo2 div.miniThumb ul li.inline {width: 10%;}
div.wide div.photogalleryPromo2 div.fullThumb ul li.inline {width: 30%;margin: 10px;}
div.full div.photogalleryPromo2 div.fullThumb ul li.inline {width: 19%;margin: 4px;}
div.narrow div.photogalleryPromo2 div.miniThumb ul.inline li.cItem4,
div.narrow div.photogalleryPromo2 div.miniThumb ul.inline li.cItem7,
div.narrow div.photogalleryPromo2 div.miniThumb ul.inline li.cItem10,
div.wide div.photogalleryPromo2 div.miniThumb ul.inline li.cItem6,
div.wide div.photogalleryPromo2 div.miniThumb ul.inline li.cItem11,
div.wide div.photogalleryPromo2 div.miniThumb ul.inline li.cItem16,
div.wide div.photogalleryPromo2 div.fullThumb ul.inline li.cItem4,
div.wide div.photogalleryPromo2 div.fullThumb ul.inline li.cItem7,
div.wide div.photogalleryPromo2 div.fullThumb ul.inline li.cItem10,
div.full div.photogalleryPromo2 div.miniThumb ul.inline li.cItem10,
div.full div.photogalleryPromo2 div.miniThumb ul.inline li.cItem21,
div.full div.photogalleryPromo2 div.miniThumb ul.inline li.cItem32,
div.full div.photogalleryPromo2 div.fullThumb ul.inline li.cItem6,
div.full div.photogalleryPromo2 div.fullThumb ul.inline li.cItem11,
div.full div.photogalleryPromo2 div.fullThumb ul.inline li.cItem16 {clear: both;}
div.photogalleryPromo2 div.center ul.main li img {margin: 0 auto;}
div.photogalleryPromo div.photogalleriesMain,
div.photogalleryPromo div.photogalleriesSecondary,
div.photogalleryPromo div.promoBar {clear: both;padding: 5px;}
div.photogalleryPromo div.photogalleriesMain ul.main {overflow: hidden;}
div.photogalleryPromo li.photoGalleryItem {clear: both;margin-bottom: 5px;}
div.photogalleryPromo ul.main li.below {clear:right; margin-right:10px;}
div.photogalleryPromo li.photoGalleryItem img {float: left;margin-right: 5px;}
div.photogalleryPromo li.below img {float: none;}
div.photogalleryPromo li.photoGalleryItem h3,
div.photogalleryPromo li.photoGalleryItem h3 a {color: #011369;}
div.photogalleryPromo h2 {padding: 5px 0px 0px 5px;}
div.photogalleryPromo div.center {text-align: center;}
div.photogalleryPromo ul.secondary li {display: inline;}
div.photogalleryPromo ul.secondary li.bulleted {float: none;list-style-type: disc;margin-left: 20px;display: list-item;}
div.photogalleryPromo div.promoBar img {display: inline-block;}
div.photogalleryPromo div.promoBar a {margin: 0px auto;}
div.photogalleryPromo div.promoBar {padding: 5px;text-align: center;}
div.photogalleryPromo div.promoBar div.promoDropDown form{text-align: right;}
#module-secondary-content-spotlight div.relatedContent {margin-top: 10px;clear: both;}
#module-secondary-content-spotlight div.relatedContent ul.relatedItems li {margin-left: 10px;padding-bottom: 5px;list-style-image: none;list-style-position: outside;list-style-type: none;clear: both;}
#module-secondary-content-spotlight div.relatedContent ul.relatedItems li.relatedTitle{clear: both;font-size: 14px;font-weight: bold;margin-left: 0;}
div.photogalleriesSecondary span.description {color:#000;}
/* CLASSIFIED MODULE *************************************************/
div#classifiedModule {width:98%;margin-bottom:5px;padding:4px;}
div#classifiedModule .classifiedModuleTitle {padding-bottom:5px;}
div#classifiedModule .classColumn {width:46%;float:left;margin-right:4px;}
div#classifiedModule .promoLinks li {border-right: 1px solid #000;float: left;padding: 0 8px;margin-bottom: 3px;white-space: nowrap;}
div#classifiedModule .promoLinks li.last {border:none;float:left;padding:0 8px;}
div#classifiedModule .moduleDivider {clear:both;height:3px;}
div#classifiedModule .apartments-button-go {border:0 none;color:#000;cursor:pointer;display:inline;float:left;font-size:11px;font-weight:700;height:23px;line-height:23px;padding-bottom:2px;width:33px;}
/*listings module */
#tg-widget {width:100%;border:1px solid #CCC;margin:10px 0;}
#tg-widget .tg-form input {font:11px normal Arial, Helvetica, sans-serif;width:84%;}
#tg-widget .tg-form .btn {width:auto;margin-left:4px;}
#tg-widget .tg-form .radio {width:auto;margin-left:10px;}
#tg-widget .tg-label {background:#333 url(/hive/images/modules/listings_module_bg.gif) left repeat-x;color:#fff;margin-bottom:10px;height:40px;}
#tg-widget div.arrow {background:url(/hive/images/modules/listings_module_bg.gif) scroll 0 -113px no-repeat;width:40px;height:40px;float:left;}
#tg-widget .tg-label h4 {font-size:14px;line-height:40px;margin:0;color:#FFF;}
#tg-widget form {margin:0 0 10px;}
#tg-widget table {margin:10px 0 0;}
.tg-form {margin:0 0 0 20px;}
div#classifiedModule .popularLinks .links li {width:48%;float:left;margin-bottom:4px;}
div#classifiedModule input.text, div#classifiedModule select.text {width:95%;}
/*  Apartments  */
#chitribSearchWidFrm {width:490px;}
.chitrib-tableStyle {font-size:12px;font-family:"Trebuchet MS";}
.chitrib-tableStyle td {padding:2px}
.widgetsubmitBut input {margin-left:90px;border:0 solid #999;float:right;}
.orTagstyl {color:#F90;font-size:12px;}
.apartments-title {font-size:21px;padding:5px 0 0 10px;}
.chitrib-tableStyle input,.chitrib-tableStyle select {border:1px solid #999;padding:2px;}
/*  CareerBuilder  */
#cbnpCareerCenter .formColumn {margin:0 4px;}
#cbnpCareerCenter .inputLabel {margin-bottom:15px;font-style:italic;}
#cbnpCareerCenter .collectionLinks,#cbnpCareerCenter .collectionLink {margin-left:8px;}
#cbnpCareerCenter #s_rawwords,#cbnpCareerCenter #s_freeloc {width:98%;height:18px;padding-bottom:1px;padding-top:2px;}
/* top jobs - all module */
.topjobs table.listing {border:1px solid #999;width:100%;margin-top:20px;}
.topjobs td.data {color:#333;vertical-align:top;border-right:1px solid #d8d8d8;border-bottom:1px solid #B6B6B6;text-transform:capitalize;padding:4px 6px;}
.topjobs td.header {vertical-align:bottom;background-color:#e8e8e8;font-weight:700;color:#131313;border-right:1px solid #B6B6B6;border-bottom:1px solid #B6B6B6;padding:5px 3px;}
/*  Real Estate  */
#hf-body {padding:5px 10px 10px;}
#hf-body .hf-mainsearch-field {width:98%;font-size:14px;}
#hf-body .block-label {color:#9A9A9A;display:block;margin-bottom:8px;padding:2px 0;}
#hf-body .hf-row {margin-bottom:8px;}
#hf-body .hf-radiobuttons {padding-left:10px;margin-top:8px;}
#hf-body .cl {clear:both;font-size:0;height:0;line-height:0;}
#hf-body .hf-checkplace {margin-right:12px;display:inline;float:left;line-height:13px;}
#hf-body .hf-radiobutton,.hf-checkbutton {display:inline;height:13px;margin-right:3px;width:13px;}
#hf-body .hf-button-place {display:inline;float:left;margin-bottom:5px;margin-right:12px;margin-top:4px;padding-bottom:10px;}
#hf-body .hf-button-place-right {display:inline;float:right;margin-bottom:15px;margin-right:2px;margin-top:4px;padding-bottom:10px;}
#hf-body .hf-button {border:0 none;cursor:pointer;display:block;font-family:"Geneva",Arial,Helvetica,sans-serif;font-size:18px;font-weight:400;height:39px;width:173px;}
#hf-body .hfSplitRight .hf-button {font-size: 16px;width: 100%;}
#hf-body .hf-links-place {font-weight:700;line-height:130%;}
#hf-body .hf-padder {padding:10px 0 12px;width:100%;}
#hf-body .hf-gosearches select.hf-field {display:inline;float:left;margin-right:5px;margin-top:2px;width:85%;color:#000;font-family:"Geneva",Arial,Helvetica,sans-serif;font-size:12px;line-height:120%;}
#hf-body select.hf-field {color:#838384;padding:0;}
#hf-body .hf-gosearches .hf-button-go {border:0 none;color:#000;cursor:pointer;display:inline;float:left;font-size:11px;font-weight:700;height:23px;line-height:18px;padding-bottom:2px;width:33px;}
#hf-body .hf-horline {background:transparent url(/hive/images/modules/homefinder-search-hf-horline.gif) repeat-x scroll 0 bottom;margin-bottom:5px;padding-bottom:5px;}
div.accordionContent #hf-body .hf-greybox {background:none;border-top:3px solid #cbcbcb;}
div.accordionContent #hf-body {width:290px;}
div.accordionContent #hf-body .hf-gosearches select.hf-field {width:93px;}
/*New Stlyes */
div.accordionContent #hf-body h3 {color:#002d4f;}
#hf-body .hfDivider {border-bottom:2px #cbcbcb solid;margin-bottom:5px;width:99%;}
#hfModule .hf-greybox {background:none;border-top:3px solid #002d4f;}
#hf-body .hfSplitLeft {float:left;width:60%;}
#hf-body .hfSplitRight {float:left;width:40%;}
#hf-body select {width:98%}
#hf-body .hf-links-place a,div.accordionContent #hf-body .hf-links-place a {color:#002d4f;text-decoration:underline}
#hf-home-search {width: 100%;}
/*  Cars  */
h4.carsTitle {padding-top:10px;padding-left:10px;font-size:16px;float: left;}
.carsTbl {margin:10px;}
span.widget2 {font-family:Arial,verdana,sans-serif;font-size:13pt;font-weight:700;color:#EB5900;margin:0;}
span.widget3 {font-family:Arial,verdana,sans-serif;font-size:8pt;font-weight:700;color:#000;margin:0;}
span.widget4 {font-family:Arial,verdana,sans-serif;font-size:9.25pt;color:#000;margin:0;}
select.widget {font-size:13px;width:43%;margin:0;}
select.widgetmm {font-size:13px;width:100%;margin:0;}
input.text.widget {font-size:13px;margin:0;}
a.widget {font-family:Arial,verdana,sans-serif;font-size:8pt;font-weight:700;}
ul.widget {list-style-position:inside;margin-left:1em;margin-top:0;margin-bottom:10px;}
li.widget {margin-top:0;margin-bottom:0;list-style:square;color:#EB5900;}
.BttnPill {display:inline;white-space:nowrap;}
.BttnPill a {text-decoration:none;width:auto;}
.BttnPill a:link,.BttnPill a:active,.BttnPill a:visited {color:#fff;text-decoration:none;}
.BttnPill a:hover {color:#fc0;cursor:pointer;text-decoration:none;}
.BttnPill .bttntxt a {padding-left:20px;}
.bttntxt {float:left;font-family:Verdana, Arial, sans-serif;font-size:10px;font-weight:700;height:17px;line-height:16px;background:transparent url(http://www.cars.com/images/long_back_orng.gif) no-repeat left top;padding:0 2px 1px 0;}
.bttncap {float:left;width:8px;height:17px;background:transparent url(http://www.cars.com/images/bttncapOrngR.gif) no-repeat top left;padding:0;}
a.widget:active {color:#3F25AE;text-decoration:underline;}
a.widget:visited, a.widget:hover {color:#3F25AE;text-decoration:none;}
/*  Weather  */
.weather-grid .weather65 #icon {font-size:14px;text-align:center;width:30%;}
.weather65 #currentconditions-level,.weather65 #temp-label {font-size:20px;padding-bottom:5px;}
.weather-grid .weather65 #data {margin-left:160px;}
.weatherinclude {clear:left;position:relative;background:#104F98 url(/common/images/weather-forecast-day-bg.jpg) repeat-x;border:1px #999 solid;overflow:hidden;}
.weatherinclude .title,.weathersnipet .title,.forecast-module .title {font-size:16px;max-height:50px;overflow:hidden;padding:3px;}
.weatherinclude .title a,.weathersnipet .title a,.forecast-module .title a {font-weight:400;}
.weatherinclude .image {margin:auto;}
.weather58 #snippet-conditions-now-container {float:left;font-size:16px;padding-top:5px;width:50%;text-align:center;}
.weather58 #conditions-now-header {font-size:22px;}
.weather58 #snippet-conditions-later-container {font-size:14px;padding-top:5px;text-align:center;margin-left:50%;}
.weatherLocations {position: relative;float: right;width: 125px;height: 16px;text-align: right;z-index: 10;}
.weatherLocations .currentLocation {padding-right: 13px;margin-right: 7px;cursor: pointer;background: transparent url(/hive/images/taxonomy/expandDown.gif) no-repeat scroll right 2px;}
.weatherLocations ul {position: absolute;top: 16px;right: 0;background: #000000;color: #FFFFFF;opacity: 0.85;}
.weatherLocations ul li {display: block;cursor: pointer;padding: 3px 10px;}
div.hourlyForecast div.slider-container div.error {height: 84px;line-height: 84px;text-align: center;margin: 0;padding: 0;}
div.nwsAlert p {margin-bottom: 10px;}
div.nwsAlert span.nwsEvent {color: #FF0000;font-weight: bold;font-size: 16px;}
div.nwsAlert span.label {font-weight: bold;}
div.nwsAlert span.nwsHeadline,
div.nwsAlert span.nwsDescription {text-transform: uppercase;display: block;font-family: monospace;line-height: 18px;font-size: 14px;}
div.nwsAlert span.nwsHeadline {margin-bottom: 14px;}
/* Forecast module styles */
.forecast-module {border:1px solid #999;clear:both;position:relative;width:620px;}
.tabDisplay .forecast-module {width:604px;}
.tabDisplay .forecast-module .day {width:85px;}
.forecast-module .forecast {border:1px solid #FFF;}
.forecast-module .daily-summary {height:275px;}
.forecast-module div.shortImages div.daily-summary {height:175px;}
.forecast-module .day {background:#104F98 url(/common/images/weather-forecast-day-bg.jpg) repeat-x;border-right:1px solid #FFF;cursor:pointer;float:left;height:275px;position:relative;width:87px;}
.forecast-module div.shortImages .day {height:200px;}
.forecast-module .selected-day {background:#104F98 url(/common/images/weather-forecast-day-selected-bg.jpg) repeat-x;}
.forecast-module .day-label {font-size:14px;text-align:center;padding:5px 0;}
.forecast-module .day-temps {color:#FFF;height:150px;left:0;position:absolute;top:120px;width:100%;}
.forecast-module div.shortImages .day-temps {height:70px;}
.forecast-module .selected-day .day-temps {color:#000;}
.forecast-module .day-temps .day-hightemp {display:block;left:0;font-size:24px;position:absolute;text-align:center;top:0;width:100%;}
.forecast-module .day-temps .day-lowtemp {bottom:0;display:block;font-size:14px;left:0;position:absolute;text-align:center;width:100%;}
.forecast-module .day-shortdescription {text-align:center;width:63px;padding:5px;}
.forecast-module .daily-details {background:#A0B9D7;padding:10px;}
.forecast-module div.shortImages .daily-details {background:#bacce2;}
.forecast-module .selected-details {display:block;}
.forecast-module .daily-details dd {margin-bottom:1em;}
#weather-toolbox {border:1px solid #999;}
.weather-toolbox-item {border-top:1px solid #aaa;padding-right:3px;}
.weather-toolbox-item.firstItem {border-top-width:0;}
.weather-toolbox-item a.weather-toolbox-link {background-attachment:scroll;background-repeat:no-repeat;background-position:0 1px;color:#000;font-weight:400;font-size:13px;display:block;padding:7px 0 7px 35px;}
.weather-toolbox-item ul.level2 {padding-bottom:8px;padding-left:40px;text-indent:-15px;}
.weather-toolbox-item .level2 li a {font-weight:400;font-size:11px;}
.weather-toolbox-item .level2 li a.selected {font-weight:700;font-size:11px;color:#000;}
div.weather1custom div.radar {float:left;padding-right:10px;}
div.weather63 div.wu_505 {float:left;width:100%;margin-bottom:20px;}
div.weather63 div.wu_icon {float:left;width:50%;}
.weather-grid .weathersnipet {background:#104F98 url(/common/images/weather-forecast-day-bg.jpg) repeat-x scroll 0 -40px;border:1px solid #999;height:181px;padding:0 0px 10px;}
div.weather63 div.wu_temps {float:right;margin-bottom:5px;text-align:center;width:50%;}
div.weather63 div.wu_temps span.hightemp {font-size:16px;font-weight:700;color:red;}
div.weather63 div.wu_temps span.lowtemp {font-size:16px;font-weight:700;color:blue;margin-left:10px;padding-left:10px;border-left:1px solid #DDD;}
div.weather63 div.wu_text {float:right;text-align:center;width:50%;}
span.wu_w13pointredverdana {font-weight:700;font-size:14px;}
/* Current Conditions w/ icon Styles */
div.weather65 div#icon {text-align:center;width:40%;}
div.weather65 p#currentconditions-label {padding-top:5px;}
div.weather51 .headline18 {font-size:18px;}
div.weather51 .headline30 {font-size:16px;}
div.weather69 table.wu_regionbox td.wu_regionbox_tdleft {width:250px;}
div.weather69 div.wu_cc_leftCol {float:left;margin-right:10px;text-align:center;width:150px;}
div.weather69 div.wu_corner_bottom_left {clear:both;margin-top:10px;}
div.weather69 table.wu_regionbox td.wu_shortFct div {font-size:12px;margin-top:5px;}
/* Severe Weather Styles */
div.weather25 table#weatheralerttable tr td#weatheralert-bottom img {margin-right:10px;}
/* Tom Skillings Styles */
div.weather44 #wu_505 {margin-bottom:10px;width:600px;display:inline-block;}
div.weather44 #wu_daylabel {color:#494949;font-size:12px;font-weight:700;padding:3px;}
div.weather44 #wu_icon {float:left;position:relative;width:80px;padding:3px 0;}
div.weather44 #wu_temps {float:left;font-size:14px;font-weight:700;line-height:15px;position:relative;width:20px;margin:0;padding:0 3px;}
div.weather44 #wu_temps .hightemp {color:#900;float:left;font-size:14px;position:relative;border-color:#000;border-style:solid;border-width:0 0 1px;margin:7px 0 3px;padding:0 0 3px;}
div.weather44 #wu_temps .lowtemp {color:#006;float:left;font-size:14px;position:relative;margin:0;padding:0;}
div.weather44 #wu_text {float:left;position:relative;width:480px;padding:7px 5px 5px;}
/* Multiple Days Forecast Styles */
div.weather68 {display:inline-block;text-align:center;width:100%;padding:0;}
div.weather68 div.wu_505 {float:left;clear:none;padding:10px 0;}
div.weather68 div {clear:both}
div.multiple-3 div.wu_505 {margin-left:2%;width:30%;padding:0;}
div.multiple-4 div.wu_505 {margin-left:8px;width:22%;}
div.multiple-5 div.wu_505 {margin-left:8px;width:17%;}
div.multiple-6 div.wu_505 {margin-left:6px;width:15%;}
div.weather68 div.wu_icon img {margin:0 auto;padding:5px;}
div.weather68 span.hightemp {color:#900;font-size:14px;font-weight:700;padding-right:5px;}
div.weather68 span.lowtemp {border-left:1px solid #000;color:#006;font-size:14px;font-weight:700;padding-left:5px;}
div.weather68 div.wu_text {padding-top:5px;font-size:14px;}
div#weatherbug {bottom:0;left:480px;position:absolute;width: 96px;height: 65px;}
div.centered-logo div#weatherbug {left:10px;}
div#topContentRight div.weather51 img {margin:0;}
div#topContentRight div.weather51 table tr td table tr td {float:left;padding-right:20px;}
.weather-grid .weather65 #icon,
.weather-grid .weather65 #label,
div.weather65 div#icon,
div.weather65 div#label,
div.weather69 div.leftColumn {float:left;margin-right:10px;}
.weatherinclude .title.image-header,div.weather1custom div.title {padding:0;}
div.weather58 img,
.forecast-module div.day-icon img,
div.weather65 div#icon img,
div.weather51 img,
div.weather69 div.wu_cc_leftCol img,
div.weather69 table.wu_regionbox td.wu_shortFct div.wu_link img {margin:0 auto;}
.kansascity-forecast-module .day-icon,
div.weather1custom div.wu,
div.weather69 table.wu_regionbox td.wu_shortFct div.wu_link,
div#weatherbug p.wu-weather {text-align:center;}
div.weather69 span.wu_blackcaps,
div.weather69 #wu_daylabel {font-size:14px;font-weight:700;}
div#classifiedModule .classifiedTitle,
#cbnpCareerCenter .collectionTitle,
#cbnpCareerCenter .fieldTitle,
.forecast-module .daily-details dt,
div.weather63 div.wu_daylabel,
div.weather51 div.deckhead10 {font-weight:700;}
div#classifiedModule .inputSpan,table.widget {white-space:nowrap;}
#tg-widget select,
#hf-body select.proptype {width:85%;}
.apartments-container,
div.weather1custom,
div.weather1 {padding:10px;}
#cbnpCareerCenter .careerTitile h2,
div.weather1custom div.wu div.conditions,
div.weather1custom div.wu div.location {font-size:20px;}
#cbnpCareerCenter,
table.wu_almanacinner tr.wu_w2ptpadding td,
table.wu_almanac tr.wu_w2ptpadding td {padding:5px;}
#cbnpCareerCenter .formColumn select,
div.weather63,
div.weather63 div.wu_content,
div.weather51 table {width:100%;}
div#rightRailTopContent div#cbnpCareerCenter #s_jobtypes{width:140px;}
div#rightRailTopContent div#cbnpCareerCenter .btn {width:80px;}
div#rightRailTopContent div#cbnpCareerCenter #uJobsFoundCount2_jlrd {width:80px;}
div#topLeftNarrow td.jobLinks,
div#topRightNarrow td.jobLinks,
div#middleLeftNarrow td.jobLinks,
div#middleRightNarrow td.jobLinks,
div#bottomLeftNarrow td.jobLinks,
div#bottomRightNarrow td.jobLinks,
#hf-body .hf-infobox .hf-tooltip,
.weather58 #conditions-now-timestamp,
.forecast-module .day-details {display:none;}
div#topLeftNarrow #cbnpCareerCenter,
div#topRightNarrow #cbnpCareerCenter,
div#middleLeftNarrow #cbnpCareerCenter,
div#middleRightNarrow #cbnpCareerCenter,
div#bottomLeftNarrow #cbnpCareerCenter,
div#bottomRightNarrow #cbnpCareerCenter,
div.weather58 #conditions-later-top-container,
div.weather58 #conditions-now-image {padding-bottom:10px;}
.topjobs div.header p,table.wu_regionbox {margin-top:10px;}
#hf-body .hf-searchonlyopen,
.BttnPill .bttntxtalt a {padding-left:10px;}
.ac_results {width: 200px;background: #fff;cursor: pointer;position: absolute;z-index: 101;text-align: left;border: 1px solid #60513A;}
.ac_results ul {width: 200px;list-style: none;padding: 0;margin: 0;}
.ac_results li {width: 195px;padding: 3px 0 3px 5px;float: none;text-align: left;}
.over {background-color: #ffe28a;}
/* PRINTEDITION MODULE *************************************************/
div.printedition ul.twoColumn {float:left;padding-top:5px;}
div.printedition h2.title {font-size:24px;padding-top:7px;}
div.printedition ul.col2 li {padding-bottom:5px;}
div.printedition ul.col2 li.bullets {color: #000;list-style-type: disc;}
/* Stock Quotes Styles */
.wide #stockquotes {margin-bottom: 10px;}
#stockquotes #markets {font: 11px Arial, Helvetica, sans-serif;display: inline;line-height: 15px;}
#stockquotes #indu,
#stockquotes #comp,
#stockquotes #spx,
#stockquotes #quote {float: left;width: 111px;border: 1px solid #E0E0E0;background-color: #F6F6F6;padding: 2px 2px 8px 15px;margin-left: -1px;}
#stockquotes #quote {width: 220px;height: 26px;padding: 8px 6px 6px;font-size: 12px;border-right-width: 0;}
#stockquotes #quote-label {margin-left: 10px;vertical-align: middle;}
#stockquotes #quote-input {width: 100px;padding: 0;color: #999;font-size: 12px;margin-left: 5px;vertical-align: middle;}
#stockquotes #quote-submit {padding: 2px 1px;font-size: 10px;}
#stockquotes #indu {border-left-width: 0;}
#stockquotes .company {font-weight: bold;}
#stockquotes .last {float: left;margin-right: 10px;}
#stockquotes .posChange {color: #3A0;}
#stockquotes .negChange {color: #D10;}
#stockquotes .datetime {display:none;}
#rail #stockquotes #markets {font-size: 14px;}
#rail #stockquotes #indu,
#rail #stockquotes #comp,
#rail #stockquotes #spx,
#rail #stockquotes #quote,
.narrow #stockquotes #indu,
.narrow #stockquotes #comp,
.narrow #stockquotes #spx,
.narrow #stockquotes #quote {width: 290px;padding: 5px 5px 5px 10px;float: none;margin-bottom: 2px;border-width: 1px;}
#rail #stockquotes #quote,
.narrow #stockquotes #quote {padding: 8px 6px 6px 10px;}
#rail #stockquotes #quote-label,
.narrow #stockquotes #quote-label {font-size: 14px;margin-left: 0;}
#rail #stockquotes #quote-input,
.narrow #stockquotes #quote-input {width: 180px;font-size: 12px;}
#rail #stockquotes .company,
.narrow #stockquotes .company {font-size: 16px;float: left;}
#rail #stockquotes .last,
.narrow #stockquotes .last {font-size: 16px;float: none;margin-right: 0;text-align: right;}
#rail #stockquotes .change,
.narrow #stockquotes .change {font-size: 16px;text-align: right;}
/* STATIC SECTION TITLE MODULE *************************************************
(prevent white-on-white rendering)                                         */
h2.fgblack,
h2.fgblack a:link, h2.fgblack a:visited, h2.fgblack a:link, h2.fgblack a:hover {color:#000
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 18081
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 20 Mar 2012 02:23:03 GMT
ETag: "46a1-4f67ea07"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=187
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 18081
---Content---
/* Tell the browser to render HTML 5 elements as block */  
header, footer, nav, section {  
    display: block;  
}

/* registration modal namespsaced with .flexible-registration-modal */

.dialog-wrapper.flexible-registration-modal a:link, .dialog-wrapper.flexible-registration-modal a:visited, .dialog-wrapper.flexible-registration-modal a:active, .dialog-wrapper.flexible-registration-modal a:hover {
	color:#FFF;
	text-decoration:underline;
}

#registrationConsole{
	display:none;
}

/****
	Dialog 
****/

.dialog-wrapper.flexible-registration-modal {
	font-family: helvetica,arial sans-serif;
    font-size: 13px;
		color: #FFFFFF;
    position: absolute;
    text-transform: none;
    z-index: 2147483646; 
		overflow:hidden;
}

.dialog-wrapper.flexible-registration-modal .dialogHead{
	color: #FFFFFF;
	font-family: arial,helvetica,sans-serif;
	padding: 8px 0 0 0;
	font-size:15px;
	text-align:left;
	display:block;
	font-weight:bold;
	margin: 0 0 10px 15px;
}

.dialog-wrapper.flexible-registration-modal .dialogMessage{
	font-family: arial,helvetica;
  font-size: 14px;
  text-align: left;
	padding:2px 5px;
	color:#fff;
	margin: 0 0 5px 10px;
}

.dialog-wrapper.flexible-registration-modal label{
	color:#fff;
	display:block;
	font-weight:bold;
}

.dialog-wrapper.flexible-registration-modal.horizontal,
.dialog-wrapper.flexible-registration-modal.default{
	border: 5px solid #000000;
  border-radius: 15px 15px 15px 15px;
	width: 520px;
}

.dialog-wrapper.flexible-registration-modal .dialogClose{
	text-align:right;
	font-family: helvetica,arial sans-serif;
  font-size: 10px;
	overflow:hidden;	
}

.dialog-wrapper.flexible-registration-modal .dialogClose .closeButton{
	background-color:#000;
	padding:6px;
	cursor: pointer;
}

.dialog-wrapper.flexible-registration-modal.horizontal .dialogContent,
.dialog-wrapper.flexible-registration-modal.default .dialogContent{
	background-color: #000000;
  position: relative;
	overflow: hidden;
}

.dialog-wrapper.flexible-registration-modal.intercept,
.dialog-wrapper.flexible-registration-modal.intercept .dialogContent {
	overflow: visible;
} 

.dialog-wrapper.flexible-registration-modal.horizontal.no-close,
.dialog-wrapper.flexible-registration-modal.default.no-close{
	position:absolute;
}


.flexible-registration-modal.no-close .dialogContent{
	margin-top:11px;
}

.flexible-registration-modal.no-close .dialogContent .buttons .spacer,
.flexible-registration-modal.no-close .dialogContent .buttons #signon-cancel{
	display:none;
}

.dialog-wrapper.flexible-registration-modal.horizontal iframe,
.dialog-wrapper.flexible-registration-modal.default iframe{
	width:525px;
	height:275px;
}

.dialog-wrapper.flexible-registration-modal .dialogTitle{
	text-align:left;
	font-size:24px;
	margin-left:10px;
}

.dialog-overlay{
	background: none repeat scroll 0 0 #000;
  height: 100%;
  position: fixed;
  width: 100%;
  z-index: 2147483645; 
	opacity:0.5;
	filter: alpha(opacity = 50);
	top:0;
	left:0;
}

/* reset pw form align titles with form fields left */
.dialog-wrapper.flexible-registration-modal #resetPasswordForm .dialogHead{
	margin-left: 5px;
}

.dialog-wrapper.flexible-registration-modal #resetPasswordForm .dialogMessage{
	margin-left: 5px;
	padding-left: 0;
}

/* zindex in reset pw */
.dialog-wrapper.flexible-registration-modal.reset-password{
	z-index: 2147483647;
}


.flexible-registration-modal #forgetPasswordForm,
.flexible-registration-modal #resetPasswordForm,
.flexible-registration-modal #interceptForm{
	margin-left:10px;
}

.flexible-registration-modal #forgetPasswordForm fieldset,
.flexible-registration-modal #resetPasswordForm fieldset,
.flexible-registration-modal #interceptForm fieldset{
	text-align:left;
	margin:5px 0 10px 5px;
}

.flexible-registration-modal #forgetPasswordForm .submit,
.flexible-registration-modal #resetPasswordForm .submit,
.flexible-registration-modal #interceptForm .submit{
	background: url("../../images/signon/button/button_signin.png") no-repeat scroll 0 0 transparent;
	color:#000;
	border: medium none;
	display: block;
	float: none;
	font-weight: bold;
	height: 25px;
	padding-bottom: 5px;
	width: 80px;
}
.flexible-registration-modal #forgetPasswordForm #emailAddress,
.flexible-registration-modal #resetPasswordForm #password,
.flexible-registration-modal #resetPasswordForm #passwordConfirm,
.flexible-registration-modal #interceptForm #emailAddress{
   width: 250px;
}


.flexible-registration-modal #forgetPasswordForm .formErrors,
.flexible-registration-modal #resetPasswordForm .formErrors,
.flexible-registration-modal #interceptForm .formErrors{
	color:#F00;
}

.flexible-registration-modal #registrationForm,
.flexible-registration-modal #interceptForm{
	margin-top:10px;
}

.flexible-registration-modal #registrationForm a,
.flexible-registration-modal #interceptForm a{
	text-decoration:underline;
}

.flexible-registration-modal #registrationForm fieldset,
.flexible-registration-modal #interceptForm fieldset{
	margin:0 0 5px 10px;
}

.flexible-registration-modal #registrationForm fieldset label,
.flexible-registration-modal #interceptForm fieldset label{
	display:block;
	font-size: 14px;
	font-weight:bold;
	width:100%;
	text-align:left;
	float:left;
	margin-bottom:5px;
}

.flexible-registration-modal #registrationForm fieldset.optoutFieldset label,
.flexible-registration-modal #registrationForm fieldset.tosFieldset label,
.flexible-registration-modal #interceptForm fieldset.optoutFieldset label,
.flexible-registration-modal #interceptForm fieldset.tosFieldset label{
	width:auto;
	font-weight:normal;
}

.flexible-registration-modal #registrationForm fieldset input,
.flexible-registration-modal #interceptForm fieldset input{
	float:left;
}

.flexible-registration-modal #registrationForm fieldset input.inputField,
.flexible-registration-modal #registrationForm fieldset input.password,
.flexible-registration-modal #interceptForm fieldset input.inputField{
	width:340px;
	text-align:left;
	margin-right:100%;
	margin-bottom:5px;
}

.flexible-registration-modal #registrationForm fieldset input.checkbox,
.flexible-registration-modal #interceptForm fieldset input.checkbox{
	margin-right:5px;
}

.flexible-registration-modal #registrationForm fieldset .fieldNote,
.flexible-registration-modal #interceptForm fieldset .fieldNote{
	float:left;
	text-align:left;
	font-size: 11px;
}

.flexible-registration-modal #registrationForm fieldset .error,
.flexible-registration-modal #interceptForm fieldset .error,
.flexible-registration-modal #resetPasswordForm fieldset .error{
	float:left;
	text-align:left;
	width:100%;
	padding:2px 2px 2px 0;
	color:#F00;
}

.flexible-registration-modal #registrationForm fieldset .showPassword{
	float:left;	
}

.flexible-registration-modal #registrationForm fieldset .showPassword span{
	font-size: 11px;
}

.flexible-registration-modal #registrationForm fieldset.passwordFieldset label{
	margin-bottom:0px;
}

.flexible-registration-modal #registrationForm fieldset.passwordFieldset .fieldNote{
	color:#FFF;
	margin-bottom:2px;
}

.flexible-registration-modal #registrationForm fieldset.tosFieldset label,
.flexible-registration-modal #registrationForm fieldset.optoutFieldset label,
.flexible-registration-modal #interceptForm fieldset.tosFieldset label,
.flexible-registration-modal #interceptForm fieldset.optoutFieldset label{
	font-size: 11px;
  margin-bottom: 5px;
}

.flexible-registration-modal #registrationForm .buttons,
.flexible-registration-modal #interceptForm .buttons,
.flexible-registration-modal #newsletterForm .buttons
{
	text-align:left;
	margin: 5px 0 10px 10px;
}

.flexible-registration-modal #registrationForm .buttons #signon-submit,
.flexible-registration-modal #interceptForm .buttons #signon-submit,
.flexible-registration-modal #newsletterForm .buttons #signon-submit,
.flexible-registration-modal #resetPasswordForm .buttons #signon-submit{
	background: url("../../images/signon/button/button_signin.png") no-repeat scroll 0 0 transparent;
	color:#000;
	border: medium none;
  display: inline;
  float: none;
  font-weight: bold;
  height: 25px;
  padding-bottom: 5px;
  width: 80px;
	margin-right:10px;
}

.flexible-registration-modal #registrationForm .buttons .spacer,
.flexible-registration-modal #interceptForm .buttons .spacer,
.flexible-registration-modal #newsletterForm .buttons .spacer,
.flexible-registration-modal #resetPasswordForm .buttons .spacer{
	 margin: 10px 5px 0 0;
}

.flexible-registration-modal #registrationForm .buttons #signon-cancel,
.flexible-registration-modal #interceptForm .buttons #signon-cancel,
.flexible-registration-modal #newsletterForm .buttons #signon-cancel,
.flexible-registration-modal #resetPasswordForm .buttons #signon-cancel{
	font-size: 12px;
	margin-top: 10px;
	border: medium none;
	text-decoration:underline;
	cursor:pointer;
}

.flexible-registration-modal div.categoryDiv{
	height: auto;
	float: left;
	clear: both;
	width: 100% ;
	min-height: 1px;	
}

/******* Tool Tip *******/

.flexible-registration-modal .toolTipWrapper {
  height: 15px;
  left: 460px;
  position: absolute;
  width: 50px;
}



.flexible-registration-modal .toolTipWrapper .toolTip{
	background: url("../../images/signon/icons/modal/icon_help.png") 0 0 no-repeat;
	height: 15px;
	width: 15px;
	display: inline-block;
	
}

.flexible-registration-modal .toolTipWrapper .help{
	position:relative;
	display: block;
  
}

.flexible-registration-modal .toolTipWrapper .toolTipDialog{
	background: none repeat scroll 0 0 rgba(255, 255, 255, 0.8);
  border: 1px solid #000000;
  border-radius: 5px 5px 5px 5px;
  right: 0px;
  padding: 5px;
  position: absolute;
  top: -131px;
  width: 170px;
}

.flexible-registration-modal .toolTipWrapper .toolTipDialog,
.flexible-registration-modal .toolTipWrapper .toolTipDialog a{
	color:#000;
}

.flexible-registration-modal .toolTipWrapper .toolTipDialog a{
	text-decoration:underline;
	font-size: 11px;
}

/** newsletter form **/


.flexible-registration-modal.dialog-wrapper .newsletter.horizontal,
.dialog-wrapper.flexible-registration-modal.newsletter.default{
	width: 660px;
}

.flexible-registration-modal form#newsletterForm div.categoryDiv{
	height: auto;
	float: left;
	clear: both;
	width: 100% ;
	min-height: 1px;	
}

.flexible-registration-modal form#newsletterForm div.categoryDiv h1.dialogHead{
	font-size: 18px;
}

.flexible-registration-modal form#newsletterForm h1{
	color: #fff;
	font-size: 20px;
	margin-bottom: 2px;
}

.flexible-registration-modal form#newsletterForm p.dialogMessage{
	font-style: italic;
	font-size: 13px;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions {
	margin-top: 15px;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions p{
	color: #fff;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li{
	float: left;
	margin-left: 10px;
	width: 45%;
	/* min-height: 100px; */
	display:block;
}

.flexible-registration-modal form#newsletterForm .greyText{
	color: #353535;
}

.flexible-registration-modal form#newsletterForm div.displayText.dialogMessage{
	margin-left: -10px;
}

.flexible-registration-modal form#newsletterForm div .displayText.categoryDiv.dialogMessage{
	margin: 0 0 5px 10px;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li input{
	float: left;
	margin-right: 2px;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li div{
	width: 94%;
	float: left;
	position: relative;
}


.flexible-registration-modal form#newsletterForm .newsletterInfoIconOff{
	background: url("../../images/signon/subscriptions/minus_white.png");
	background-repeat: no-repeat;
	background-position: 40px 1px;
}

.flexible-registration-modal form#newsletterForm .newsletterInfoIconOn{
	background: url("../../images/signon/subscriptions/plus_white.png");
	background-repeat: no-repeat;
	background-position: 40px 1px;
}

.flexible-registration-modal form#newsletterForm .moreInfo{
	position: absolute;
	top: 0px;
	height: 20px;
	width: 20px;
	cursor: pointer;
}

.flexible-registration-modal form#newsletterForm .moreInfo.newsletterInfoIconOff{
	background: url("../../images/signon/subscriptions/minus_white.png");
	background-repeat: no-repeat;
	background-position: 10px 1px;
}

.flexible-registration-modal form#newsletterForm .moreInfo.newsletterInfoIconOn{
	background: url("../../images/signon/subscriptions/plus_white.png");
	background-repeat: no-repeat;
	background-position: 10px 1px;
}

.flexible-registration-modal form#newsletterForm .categoryDiv{
	position: relative;
}

.flexible-registration-modal form#newsletterForm .displayAllInfos{
	position: absolute;
	top: 16px;
	font-size: 10px;
	left: 83%;
	width: 56px;
	height: 20px;
	cursor: pointer;
}




/** IE7 fixes **/



.flexible-registration-modal #registrationForm fieldset input.password{
	margin-right:90%;
}


*+html .flexible-registration-modal #registrationForm fieldset{
	margin:0 0 5px 0px;
}

*+html .flexible-registration-modal #registrationForm{
	padding-left: 10px;
}

*+html .flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li input.checkbox{
	position: absolute;
	margin-left: -280px;
}

*+html .flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li div{
	padding-left: 10px;
	padding-top: 2px;
}


*+html .flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li div p{
	width: 90%;
	padding-left: 20px;
}


*+html .flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li div div{
	padding-left: 5px;
	padding-top: 2px;
}

*+html .dialog-wrapper.flexible-registration-modal.horizontal iframe, 
*+html .dialog-wrapper.flexible-registration-modal.default iframe{
	height:282px;	
}


/** tooltip **/

*+html .flexible-registration-modal .toolTipWrapper .toolTipDialog{
	background-color: white;
}

*+html .flexible-registration-modal .toolTipWrapper .help {
	padding-left: 5px;
}

*+html .flexible-registration-modal .toolTipWrapper .toolTip{
		background: url(../../images/signon/icons/modal/icon_help.png) no-repeat 10px 2px;
}

/** end tooltip **/

/** intercept form **/

*+html .flexible-registration-modal form#interceptForm #signon-submit, 
*+html .flexible-registration-modal form#newsletterForm #signon-submit,
*+html .flexible-registration-modal form#registrationForm #signon-submit{
	margin-right: 5px;
}

*+html .flexible-registration-modal form#interceptForm #signon-cancel,
*+html .flexible-registration-modal form#newsletterForm #signon-cancel,
*+html .flexible-registration-modal form#registrationForm #signon-cancel{
	margin-left: 5px;
}

*+html .flexible-registration-modal form#interceptForm fieldset input.inputField{
	margin-left: -20px;
}

*+html .flexible-registration-modal form#interceptForm fieldset.tosFieldset label, 
*+html .flexible-registration-modal form#interceptForm fieldset.optoutFieldset label,
*+html .flexible-registration-modal form#registrationForm fieldset.tosFieldset label, 
*+html .flexible-registration-modal form#registrationForm fieldset.optoutFieldset label,
*+html .flexible-registration-modal form#registrationForm div.showPassword{
	line-height: 22px;
}

/** end intercept form **/


/** end IE7 fixes**/


/** IE8 fixes **/


.flexible-registration-modal #registrationForm \0fieldset{
	margin:0 0 5px 0px;
}

.flexible-registration-modal \0#registrationForm{
	padding-left: 10px;
}


.flexible-registration-modal form#interceptForm \0#signon-submit,
.flexible-registration-modal form#newsletterForm \0#signon-submit,
.flexible-registration-modal form#registrationForm \0#signon-submit{
	margin-right: 5px;
}

.flexible-registration-modal form#interceptForm \0#signon-cancel,
.flexible-registration-modal form#newsletterForm \0#signon-cancel,
.flexible-registration-modal form#registrationForm \0#signon-cancel{
	margin-left: 5px;
	cursor: pointer;
}


 .flexible-registration-modal form#interceptForm fieldset.tosFieldset \0label, 
 .flexible-registration-modal form#interceptForm fieldset.optoutFieldset \0label,
 .flexible-registration-modal form#registrationForm fieldset.tosFieldset \0label, 
 .flexible-registration-modal form#registrationForm fieldset.optoutFieldset \0label,
 .flexible-registration-modal form#registrationForm \0div.showPassword{
		line-height: 22px;
}

.flexible-registration-modal .toolTipWrapper .toolTip .help{
	padding-left: 5px;
}

.flexible-registration-modal form#registrationForm \0.toolTipWrapper {
	left: 400px;
}

.flexible-registration-modal .toolTipWrapper \0.toolTip{
	background: url(../../images/signon/icons/modal/icon_help.png) no-repeat 10px 2px;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li \0input.checkbox{
	position: absolute;
	margin-left: -280px;
}

.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li \0div{
	padding-left: 10px;
	padding-top: 2px;
}


.flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li div \0p{
	width: 90%;
	padding-left: 20px;
}


 .flexible-registration-modal form#newsletterForm ul.newsletterSubscriptions li div \0div{
	padding-left: 5px;
	padding-top: 2px;
}


/** end IE8 fixes **/



/** navigation TODO: NAMESPACE **/

#registrationNavigation #flexibleSignUpLink, #registrationNavigation #flexibleSignInLink, #registrationNavigation #flexibleSignOutLink{
	cursor: pointer;
}


/* hardcoded ssor.css selector that needs to be overridden div#classBarNav #ssorNavSignIn a */

#registrationNavigation{

}

#ssorNavHeader{

}

#ssorMiniModal{
	position:absolute;
}

#registrationNavigationHeader{
	margin-bottom:7px;
}

#registrationNavigation #registrationNavigationBody{
	width: 146px; 
}

div.loggedIn nav#registrationNavigation #registrationNavigationBody{

}

div.loggedIn nav#registrationNavigation #registrationNavigationBody a {

}

div.loggedIn nav#registrationNavigation{

}
/** end newsletter form **/

.clear {
	clear: both;
}

* html .clearfix {
	height: 1%;
	overflow: visible;
}

*+html .clearfix {
	min-height: 1%;
}

.clearfix:after {
	clear: both;
	content: ".";
	display: block;
	height: 0;
	visibility: hidden;
}

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 42444
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Fri, 04 Nov 2011 02:56:47 GMT
ETag: "a5cc-4eb3546f"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=74
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 42444
---Content---
/* global */
.carnival-font{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:12px;}
.bold{font-weight: bold;}
.full{width:100%;}
.float{float:left;}
.block{display:block;}
.white {color: #111;border: solid 1px #b7b7b7;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ededed));background: -moz-linear-gradient(top,  #fff,  #ededed);filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#ededed');}
.white:hover {background: #ededed;background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#dcdcdc));background: -moz-linear-gradient(top,  #fff,  #dcdcdc);filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#dcdcdc');}
.white:active {color: #000;background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#fff));background: -moz-linear-gradient(top,  #ededed,  #fff);filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#ffffff');}
.button {display: inline-block;zoom: 1; /* zoom and *display = ie7 hack for display:inline-block */*display: inline;vertical-align: baseline;margin: 10px 2px;outline: none;cursor: pointer;text-align: center;text-decoration: none;line-height:25px;padding:0 10px;text-shadow: 0 1px 1px rgba(0,0,0,.3);-webkit-border-radius: .5em; -moz-border-radius: .5em;border-radius: .5em;-webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);}
.button:hover {text-decoration: none;}
.button:active {position: relative;top: 1px;}
.centered{margin:20px auto;width:800px;}
.rounded{border:1px solid;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;}
.shadow{-moz-box-shadow:2px 2px 5px #111;-webkit-box-shadow:2px 2px 5px #111;box-shadow:2px 2px 5px #111;}
.yellow{background-color:#fffdbf;}
.disc-bullets{list-style-position:inside;list-style-type:disc;}
.shiftLeft{margin:10px 0 10px 20px;}
.input-short{width:150px;}
#carnivalModal .required_label span.grey-text, .grey-text{color:#AAA;}
.column-right{float:left;padding:25px 25px 25px 0;width: 43%;}
.column-left{float:left;padding:25px;width:43%;}
.top-bottom-padding{padding:10px 0;}
.form_radio{margin-right:5px;}
.padding20{padding:20px;}
/* end global */

#recaptcha_response_field,
#recaptcha_instructions_image{
	z-index:2147455555;
}

#signon-faq{padding:10px;}
#signon-faq dd{padding:3px 0 10px;}
#signon-faq dt{font-weight:700;padding:10px 0 0;}
#signon-faq dd ol,#signon-faq dd ol li{list-style-type:decimal;margin-left:20px;padding:5px 100px 5px 5px;}

/* reg form */
#userNameUnavailable,#userNameAvailable{
	width:350px;
	font-size:12px;
	margin-bottom:5px;
}
/* end reg form */

/* linked accounts */
#signon-linked-accounts div.providerOption div.signon-logo{cursor:default;}
#signon-linked-accounts div.unlinkLink {background: url(/hive/images/signon/link_break.png) no-repeat left ;float:right;margin:5px;padding-left:20px; 10px;line-height:60px;clear:right;vertical-align:middle;}
div.providerOption {float:left;width:150px; margin:5px;clear:left}
div.providerOption div.signon-logo, div.providerOption a.providerlink{background: url(https://www.signon.trb.com/registration/images/login_logos.png) no-repeat 0px -400px;height:50px;margin:5px 0;padding:0;width:150px;border:0;cursor:pointer;display:block;text-decoration:none;}
div.providerOption a.providerlink{float:none;cursor:pointer;}
div.providerOption a.providerlink span{visibility:hidden;}
div.providerOption div.signon-logo span, .hide{display:none;}
div.providerOption #verisign {background-position:0px -500px;}
div.providerOption #yahoo {background-position: 0px -550px;}
div.providerOption #live_id {background-position:0px -250px;}
div.providerOption #google {background-position:0px -150px;}
div.providerOption #myspace {background-position:0px -350px;}
div.providerOption #myspace:hover {background-position:-150px -350px;}
div.providerOption #myspace:active {background-position:-300px -350px;}
div.providerOption #myopenid {background-position:0px -300px;}
div.providerOption #linkedin {background-position:0px -200px;}
div.providerOption #facebook {background-position:0px -100px;}
div.providerOption #aol {background-position:0px 0px;}
div.providerOption #openid {background-position:0px -400px;}
div.providerOption #blogger {background-position:0px -50px;}
div.providerOption #twitter {background-position:0px -450px;}
div.providerOption #flickr {background-position:0px -600px;}
div.providerOption #wordpress {background-position:0px -650px;}
/* end linked accounts */

/* newsletter */
form.modal-nl-form div ul li.nl-item { padding:10px; }
.modal-nl-form{border:1px solid #000;-moz-border-radius:10px;-webkit-border-radius:10px;background-color:#FFF;margin:20px;}
.nl-item{float:left;padding:5px;width:320px; *width:308px;}
.form-list-title{font-size:14px;font-style:italic; padding:5px; padding-top:20px;}
.form-list-title p.nl-click-text { font-size:12px; font-weight:normal; }
.form-buttons{clear:both;background-color:#e6e6e6;-moz-border-radius-bottomleft:10px;-moz-border-radius-bottomright:10px;-webkit-border-bottom-left-radius:10px;-webkit-border-bottom-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px;width:100%;border-top:1px solid #000;}
	/* targeting the signon frame specifically in the modal so we can use the same markup */
	#carnivalModalWrapper .signon-frame{border:0;margin:0;}
	/* targeting list item to overwrite bad code from market.css*/
	#subscription-form #subscription-form-field ul li{height:auto;}
/* end newsletter */

/* tooltip */
.ssor-help{background:url(../images/signon/help.png) no-repeat;height:25px;width:25px;margin-left:10px;padding:5px 15px;cursor:pointer;zoom:1;_padding-bottom:0;*padding-bottom:0;}
.ssor-toolTip{position:absolute;width:300px;text-align:left;background:#fff;border:2px solid #506faa;font-size:.75em;padding:10px;-moz-border-radius:10px;-webkit-border-radius:10px;-o-border-radius:10px;}
/* end tooltip */

/* thank you page 
#ssor-thanks .form-list{padding:5px 0 20px 0;}
 end thank you page */

/* accordion */
.accordion_container{border:1px solid;}
.accordion_heading{background-color:#e6e6e6;border-bottom:1px solid;font-size:1.5em;padding:10px;}
/* end accordion */

/* end reset password form */

/* profile styles */
/* div.nl-dd { width:13px; height:12px; text-align:center; vertical-align:middle; }
   *div.nl-dd { display:inline; } */
/* profile pages */
span.nl-dd-img { width:13px; height:12px; border:0; margin:0; cursor:pointer; display:inline-block; vertical-align:middle; }
span.nl-dd-img { *display:inline-block; }
span.plus { background:url("../images/signon/subscriptions/plus_black.png"); }
span.minus { background:url("../images/signon/subscriptions/minus_black.png"); }
/* registration modal */
#carnivalModalWrapper .nl-container span.plus { background:url("../images/signon/subscriptions/plus_white.png"); }
#carnivalModalWrapper .nl-container span.minus { background:url("../images/signon/subscriptions/minus_white.png"); }

div.newsletter_description { font-size:10px; margin-left:23px; }
#profile-content #subscription-form-field div.newsletter_description { font-size:10px; margin-left:23px; }

form#signon-profile div#signon-heading { width:100%; border-bottom: 2px solid #000; color: #000;padding:12px 0; }

.profile-headling{font-family:arial,helvetica,sans-serif;float:left;margin-left:26px; }
div#signon-heading h1 { color:#FFFFFF; font-family:arial,helvetica,sans-serif; padding:8px 0; }
p.modal-text { color:#FFFFFF; font-family:arial,helvetica,sans-serif; padding:8px; }
div#signon-heading h1.profile-headling { color:#000000; }
div#avpane_e ul li label.prof-label { color:#000000; }
.profile-tab-nav{float:left; min-height:100%;left:1px;margin-left:20px;margin-top:15px;overflow-x:hidden;overflow-y:hidden;position:relative;padding-bottom:10px;width:23%;}
.profile-tab-nav ul li { font-family:arial,helvetica,sans-serif; color:#000; }
#profile-content{min-height:100px;font-family:arial,helvetica,sans-serif;background-color: #FFF;border: 1px solid #000;-moz-border-radius: 5px;-webkit-border-radius: 5px;-o-border-radius: 5px;-moz-box-shadow: 3px 3px 3px #aaa;-webkit-box-shadow: 3px 3px 3px #aaa;-o-box-shadow: 3px 3px 3px #aaa;float:left;padding:10px;width:72%;margin-bottom:20px;}
.hide{display:none;}
.signon-frame{border:2px solid #000;-moz-border-radius: 15px;-webkit-border-radius: 15px;-o-border-radius: 15px;margin-bottom: 30px;}
.login-faq-link{font-family:arial,helvetica,sans-serif;color:blue;margin-left:48px;position:relative;top:18px;}
.signon-content {background-color: #B9B9B9;background:-moz-linear-gradient(100% 75% 90deg,#B9B9B9, #EAEAEA, #EAEAEA 100%) repeat scroll 0 0 transparent;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#EAEAEA), to(#B9B9B9), color-stop(.6,#B9B9B9)) repeat scroll 0 0 transparent;-moz-border-radius-bottomleft:15px;-moz-border-radius-bottomright:15px;-webkit-border-bottom-left-radius:15px;-webkit-border-bottom-right-radius:15px;-o-border-radius-bottomright:15px;-o-border-radius-bottomright:15px;padding:10px 0;width:100%;}
.current_tab{border-width: 1px 0 1px 1px;border-color: #000;border-style:solid;-moz-box-shadow: 0px 3px 2px #AAA;-webkit-box-shadow: 0px 3px 2px #AAA;-o-box-shadow: 0px 3px 2px #AAA;background-color: #FFF;padding: 5px;font-weight:bold;}
.signon-frame .tab{padding: 5px 5px 5px 6px;position: relative;left: -1px;}
.signon-frame li.tab:hover{background-color: #B9B9B9;cursor:Pointer;}
.signon-frame-profile .tab{padding: 5px 5px 5px 6px;position: relative;left: -1px;}
.signon-frame-profile li.tab:hover{background-color: #B9B9B9;cursor:Pointer;}
span.signon-edit-link{background-color: #eee;border: 1px solid #aaa;-moz-border-radius: 4px;-webkit-border-radius: 4px;-o-border-radius: 4px;float:right;padding:6px 8px;position:relative;left:-10px;top:3px;}
span.signon-edit-link a{font-family:arial,helvetica,sans-serif;font-weight:bold;}
span.signon-edit-link a:hover{text-decoration: none;}

/* to deal with 935px in carnival.css .form-group and with 800px in carnival.css .form-list */
div.form-group-profile, ul.form-group-profile { background-color:#FFFFFF; border:0; }
div.form-group-profile, ul.form-group-profile { clear:both; margin-bottom:10px; padding:10px 10px; width:660px; }
ul.form-list { list-style-type:none; }
ul.form-list-profile { clear:both; float:left; list-style-type:none; width:460px; }
ul.form-list-personal { clear:both; float:left; list-style-type:none; width:520px; }

#signon-profile #submitbox #signon-cancel{
	float:left;
	display:block;
	height:25px;
}


#acct-info { width:300px; float:left; margin-left:10px; margin-top:10px; }
#acct-info-form { width:300px; float:left; margin-left:10px; margin-top:10px; }
#pers-info-form { width:520px; float:left; margin-left:10px; margin-top:10px; }
#acpane { margin:0px 0px; } 
#plpane { margin:0px 0px; }
#nlpane { margin:0px 0px; min-height:75px; }
#avpane { margin:0px 0px; min-height:110px; padding:10px; }
#acpane_e { margin:0px 0px; } 
#plpane_e { margin:0px 0px; }
#nlpane_e { margin:0px 0px; min-height:75px; }
#avpane_e { margin:0px 0px; min-height:110px; padding:10px; }
#acct-links,#acct-links-form { float:left; margin-left:42px; }
div#acct-links-form h4.profhead { font-family:arial,helvetica,sans-serif; font-size:12px; font-weight:bold; margin:10px; color:#000000; }
div#newsletter-signup h4.profhead { font-family:arial,helvetica,sans-serif; font-size:12px; font-weight:bold; margin:10px; color:#000000; }
div#acct-links h4.profhead { font-family:arial,helvetica,sans-serif; font-size:12px; font-weight:bold; margin:10px; color:#000000; }
div#newsletter-list p { color:#000000; margin-top:8px; margin-left:10px; }
.add_acct_link { margin-left:14px; }
#profiframe { margin-left:10px; }	
fieldset#subscription-form-field ul li label.form_choice { color:#000000; font-weight:normal; }
fieldset#subscription-form-field ul li div.newsletter_description { color:#000000; }
#ssor-thanks #signon-heading h1{
	color:#000;
}
#signon-linked-accounts-form { margin:0px 10px 10px; width:250px;}
#signon-linked-accounts { margin:0px 10px 10px; width:250px;}
	
.prof-info-set { margin:0px 0px 38px; }
div.prof-info-set label.prof-label { color:#000000; }
div#avpane ul li label.prof-label { color:#000000; }
.prof-form-set { margin:0px 0px 32px; clear:left; }
li.prof-form-set input { width:250px; }
ul.form-list-profile li label.prof-label,ul.form-list-personal li label.prof-label { font-family:arial,helvetica,sans-serif; color:#000; font-size:12px; font-weight:bold; }
.prof-value { font-family:arial,helvetica,sans-serif; color:#000; font-size:12px; display:block; margin-top:10px; }
.proffloat50 { float:left; width:50%; clear:none; }
.proffloat200px { float:left; width:200px; clear:none; }
.proffloat120px { float:left; width:120px; clear:none; }
.proffloat130px { float:left; margin-right:20px; width:130px; clear:none; }
li.proffloat130px input { width:100px; }
li.proffloat200px input { width:180px; }
li.proffloat200px select { width:180px; }
li.proffloat200px select.birthdate-select { width:48px; }
li.proffloat200px select.birthyear-select { width:62px; }
li.just200px { width:200px; clear:both; }
li.just200px select { width:180px; }
li.proffloat120px input { width:90px; }
.pwch-label { font-size:12px; font-family:arial,helvetica,sans-serif; margin-left:8px; }
#pwtoggle { width:14px; }

#termsbox { display:none; margin-left:244px; background-color: #FFF;border: 1px solid #000;-moz-border-radius: 5px;-webkit-border-radius: 5px;-o-border-radius: 5px;-moz-box-shadow: 3px 3px 3px #aaa;-webkit-box-shadow: 3px 3px 3px #aaa;-o-box-shadow: 3px 3px 3px #aaa;float:left;padding:10px;width:72%;margin-bottom:20px; }
#autermsbox { display:block; margin-left:244px; background-color: #FFF;border: 1px solid #000;-moz-border-radius: 5px;-webkit-border-radius: 5px;-o-border-radius: 5px;-moz-box-shadow: 3px 3px 3px #aaa;-webkit-box-shadow: 3px 3px 3px #aaa;-o-box-shadow: 3px 3px 3px #aaa;float:left;padding:10px;width:72%;margin-bottom:20px; }
#submitbox { display:none; margin-left:244px; background-color: #FFF;border: 1px solid #000;-moz-border-radius: 5px;-webkit-border-radius: 5px;-o-border-radius: 5px;-moz-box-shadow: 3px 3px 3px #aaa;-webkit-box-shadow: 3px 3px 3px #aaa;-o-box-shadow: 3px 3px 3px #aaa;float:left;padding:0px 10px;width:72%;margin-bottom:20px; }
#ausubmitbox { display:block; margin-left:244px; background-color: #FFF;border: 1px solid #000;-moz-border-radius: 5px;-webkit-border-radius: 5px;-o-border-radius: 5px;-moz-box-shadow: 3px 3px 3px #aaa;-webkit-box-shadow: 3px 3px 3px #aaa;-o-box-shadow: 3px 3px 3px #aaa;float:left;padding:0px 10px;width:72%;margin-bottom:20px; }
.optout-box { float:left; width:20px; }
div.optout-label { float:left; width:632px; margin-left:8px; }
div.optout-label label { font-family:arial,helvetica,sans-serif; font-size:12px; color:#000000; font-weight:normal; }
select,option, .formnote { font-size:12px; font-family:arial,helvetica,sans-serif; }
span.birthformat { color:#666; }
div#submitbox ul li button#signon-submit { background: url("/hive/images/ssor-submit.png") repeat scroll 0 0 transparent; border: 0 none; cursor: pointer; display: block; float: right; height: 25px; margin: 10px; width: 95px; }
form#subscription-form div button#signon-submit { background: url("/hive/images/ssor-submit.png") repeat scroll 0 0 transparent; float:none; border: 0 none; cursor: pointer; display: block; height: 25px; margin: 10px 24px 20px; width: 95px; }
#subscription-form-field { *width:auto; }

/* Following crazy selectors are to assure market overwrite due to css specificity rules */
#acct-links #signon-linked-accounts div.unlinkLink a { display:none; }
#signon-linked-accounts-form div.unlinkLink { clear:right; float:left; line-height:60px; margin:5px 5px 5px 20px; vertical-align:middle; background:0; }
#acct-links-form #signon-linked-accounts-form div.unlinkLink a { color:#666; font-family:arial,helvetica,sans-serif; font-size:12px; text-decoration:underline; }

#profile-content #subscription-form { border:0; margin:0px 0px 0px 10px; }
#profile-content #subscription-form-field .form-list-title {font-weight:bold;color:#000;font-size:12px;font-style:italic;padding:5px;width:600px;}
#profile-content #subscription-form-field {border:0;padding:0px;}
#profile-content #subscription-form-field .form-list { padding-bottom:10px; }
#profile-content #subscription-form-field div { margin-left:0px; font-size:10px; display:inline-block; }
/* IE Profile Page NL individual dropdowns hack */
#profile-content #subscription-form-field span.nl-dd-img { *display:inline-block; *zoom:1; *position:relative; *top:-5px; }
/* end hack.  weep. */
#profile-content #subscription-form-field .form-list li { display:block; float:left; clear:none; width:308px; padding:10px 30px 12px 0px; }
#profile-content #subscription-form-field .form-list li label.form_choice { display:inline;font-size:12px;padding:5px 4px; }
li.nl-item label.form_choice { display:inline-block;font-size:12px;padding:5px 0px 0px 0px; }
#profile-content #subscription-form-field .form-list li input {float:left; display:inline;}
#profile-content #subscription-form-field legend {padding:0px; float:right;}
div.show_nl_desc { display:block; float:right; cursor:pointer; padding:5px; padding-top:20px; *padding-top:0px; }

#profile-content #subscription-form-field div.show_nl_desc { display:block; float:right; cursor:pointer; padding:5px; padding-top:5px; color:#000000; }
#profile-content #subscription-form-field div.show_nl_desc span.nl-dd-img { *position:relative; *top:0px; }
div.nl-header { float:left; clear:left; *width:100%; }
#profile-content li#avatar-box a { font-size:12px; margin-top:8px; }

.form-incl { border:0; background-color:#FFF; width:680px; }

#profile-content span.change_subscription { margin-left:10px; font-size:12px; }
#profile-content span.change_subscription img { display:inline; }
.prof-subs { margin:10px 0px 10px 10px; list-style-type:none; font-size:12px; color:#000000; }

div#section div#signon-heading {margin:0;}
div#section div.signon-content {margin:0;padding:10px 0 0 0;width:100%;}
div#section div.profile-content {min-height:300px;margin-bottom:30px;}
/* end profile styles */


#ajax_login_header{
	display:block;
	padding:5px 0 0 5px;
}

#ajax_login_header #ssorNavSignIn{
	margin:-5px 0 0 -5px;
}

/****  Header  *****/

#classified-bar{
	z-index:2137483601;	
}

div#classBarNav{
	z-index:2137483603;	
}

#classified-bar div#classBarNav ul.classBarNavMember{
	position:absolute;
	z-index:2137483602;
	top:0;
	left:0;
	padding:0;
	margin:0;
}

#ssorNavHeader{
	padding-left:6px;
	min-height:16px;
}

#ssorNavHeader span{
	color:#fff;
}

#ssorNavHeader a:hover{
	text-decoration:underline;	
}

#ssorNavSignIn{
	width:220px;
	font-size:12px;
	z-index:2147483605;
	font-family: helvetica,arial sans-serif;
	text-transform:none;
}

#ssorNavHeader,
#ssorMiniModal{
background-color:#353535	
}

#ssorMiniModal{
	float:left;
	padding: 0 5px;
}

#ssorNavSignIn #ssorMiniModal ul li a{
	background-color:none;
}

div#classBarNav #ssorNavSignIn span.link,
div#classBarNav #ssorNavSignIn a {
    color: #FFFFFF;
    font-weight: bold;
    line-height: 16px;
	background-color:transparent !important;
	cursor:pointer;
}

div#classBarNav, div#classBarNavMember, div#memberLoginInfo { clear:both; }

#signInLink{
	margin-right:3px;	
}

#signUpLink{
	margin-left:3px;	
}

div#classBarNav #ssorNavSignIn span.link:hover{
	text-decoration:underline;
}

#classBarNav #ssorNavSignIn #carnivalModal a#carnivalModalClose{
	background-color:#000 !important;
}

#carnivalModalHead{
	line-height:12px !important;
}

#carnivalModalClose{
	background-color:#000 !important;
	color:#fff !important;
	font-size:10px;
	font-family:helvetica,arial sans-serif;
	line-height:14px !important;
	float:right;
	width:50px;
	padding:1px 0;
	text-align:center;
}

#carnivalModalClose .carnivalCloseButton{
	cursor:pointer;
}

#iframeWrapper{
	overflow:hidden;
}

#carnivalModal.vertical #iframeWrapper{
	width:220px;
	height:318px;
	position:relative;
}

#carnivalModal #iframeWrapper{
	position:relative;
	background-color:#000;
}

/******************************************
	Default for non-socket transport iframes
*******************************************/

#carnivalModal iframe{
	width:525px;
	height:280px;
	position:relative;
	left:-2px;
	top:-2px;
}

*+html #carnivalModal iframe{
	height:285px
}

* html #carnivalModal iframe{
	height:285px
}


#carnival_cap #adcopy-outer iframe{
	width:auto;
	height:auto;
}

*+html #carnivalModal iframe{
	top:-4px;
}

* html #carnivalModal iframe{
	top:-4px;
}

*+html #carnivalModal #carnivalFooter{
	background-color:#000;
	height:5px;
	margin-top:-5px;
}

* html #carnivalModal #carnivalFooter{
	background-color:#000;
	height:3px;
}

*+html .Main #carnivalModal.horizontal #carnivalContent{
	height:283px !important;
}

*+html .Main #carnivalModal.horizontal #carnivalContent iframe{
	height:288px !important;
}

*+html #carnivalModal.horizontal.registration #carnivalContent{
	background-color:transparent;
}

* html #carnivalModal.horizontal.registration #carnivalContent{
	background-color:transparent;
}

* html .Main #carnivalModal.horizontal #carnivalContent{
	height:255px !important;
}

*+html #carnivalModal.horizontal.registration #carnivalContent,
*+html #carnivalModal.horizontal.subscription #carnivalContent{
	height:auto !important;
}

* html .Main #carnivalModal.horizontal #carnivalContent{
	height:255px !important;
}

* html #carnivalModal.horizontal.registration #carnivalContent,
* html #carnivalModal.horizontal.subscription #carnivalContent{
	height:auto !important;
}

*+html #carnivalModal.horizontal iframe{
	top:-5px;
}

*+html .Main #carnivalModal.horizontal iframe{
	height:260px !important;
}

* html #carnivalModal.horizontal iframe{
	top:-5px;
}

#carnivalModal.vertical iframe{
	width:220px;
	height:318px;
}

#carnivalModal{
	width:520px;
}

#carnivalModal.sticky,
#carnivalModal.nonSticky{
	background-color: #353535;
    font-family: serif;
    font-size: 13px;
    text-transform: none;
    z-index: 2147483605;
	position:absolute;
}

#carnivalModal.sticky{
	left: 0;
    top: 26px;
}

#carnivalModal.nonSticky{
	top:100px;
	left:400px;
}

#carnivalModal.vertical,
#carnivalModal.vertical #miniModalFrame{
	width:220px;
}

#carnivalModal.horizontal.nonSticky{
	border-radius:15px;
	-webkit-border-radius:15px;
	-moz-border-radius:15px;
	border:5px solid #000;
}

#carnivalModal.horizontal,
#carnivalModal.horizontal #miniModalFrame{
    width: 520px;
}

#carnivalModal.vertical #iframeWrapper iframe,
#carnivalModal.vertical,
#carnivalModal.vertical #ssorModalIframe{
	width:220px;
	height:322px;
}
#carnivalModal.vertical #iframeWrapper iframe{
	width:222px;
}

#carnivalModal.vertical{
	height:332px;
}

#carnivalModal.horizontal #iframeWrapper{
	height:218px;
}

#carnivalModal.horizontal #iframeWrapper iframe,
#carnivalModal.horizontal #ssorModalIframe{
	width:522px;
	height:220px;
}

#carnivalModal.horizontal.avatarWrapper iframe{
	overflow:hidden;
	width:455px;
	height:200px;
	margin:10px;	
}

* html #carnivalModal.vertical iframe,
* html #carnivalModal.vertical #iframeWrapper{
	height:328px;
}

*+html #carnivalModal.vertical iframe,
*+html #carnivalModal.vertical #iframeWrapper{
	height:328px;
}

/* DANGER!  OVERLAY! */

#carnivalModalOverlay {position:fixed;top:0px;left:0px;height:100%;width:100%;background:#333;z-index:2137483603;display:none;}

/*****************************************
		Menu Navigation - Logged In
******************************************/

#ssorNavSignIn.loggedIn{
	overflow:hidden;
}

#ssorNavSignIn.loggedIn #ssorMiniModal{
	background-color:#353535;
}

#ssorNavSignIn.loggedIn .userName{
	padding-left:15px;
	background: url("../images/signon/modal/nav_down_arrow.png") no-repeat 0 2px;
	margin-right:8px;	
}

#ssorNavSignIn.loggedIn #ssorNavHeader{
	text-align:left;
}

#ssorNavSignIn.loggedIn,
#ssorNavSignIn.loggedIn #ssorMiniModal,
#ssorNavSignIn.loggedIn #ssorMiniModal #ssorNavBody{
	border-bottom-right-radius:5px;
	-moz-border-radius-bottomright:5px;
	border-bottom-left-radius:5px;
	-moz-border-radius-bottomleft:5px;
	-webkit-border-bottom-right-radius:5px;
	-webkit-border-bottom-right-radius:5px;
}

#ssorNavSignIn.loggedIn #ssorMiniModal ul li a{
	background-color:none;
}

#ssorNavSignIn.loggedIn #ssorMiniModal #ssorNavBody a:hover{
	text-decoration:underline;	
}

#ssorNavSignIn.loggedIn #ssorMiniModal #ssorNavBody{
	padding-right:10px;
	width:60px;
	float:left;
}

/*****************************************
	Forgot Password Modal
******************************************/

#ssorPasswordModal{
	font-family: helvetica, arial sans-serif;
	font-size:14px;
	color:#fff;
	margin-top:20px;
	width:450px;
	height:150px;
	background: #000 url("../images/signon/modal/modal_background.jpg") repeat-x center;	
	border:2px solid #000;
	border-radius:20px;
	-moz-border-radius:20px;
	-webkit-border-radius:20px;
	position:absolute;
	left:400px;
	top:200px;
	z-index:30000;
	padding:20px;
}

#ssorPasswordModal p{
	margin-bottom:10px;
}

#ssorPasswordModal .lostPasswordTitle{
	display:block;
	font-size:18px;
	margin-bottom:10px;
}

#ssorPasswordModal label,
#ssorPasswordModal .inputField{
	display:block;
}

#ssorPasswordModal .inputField{
	width:250px;
}


/*****************************************
	Old Modal overrides
******************************************/

#carnivalModal .carnival-flash{
	margin-bottom:10px;
}

#signonSubmits .cancelForm{
	display:inline;
	margin-left:10px;
}
#signonSubmits .cancelForm span{
	display:inline;
}

#signonSubmits .cancelForm span.cancel{
	cursor:pointer;
}

.signon-frame{
	font-family: helvetica, arial sans-serif;
	color:#fff;
	text-align:left;
	padding:10px;
}

.signon-frame-profile{
	font-family: helvetica, arial sans-serif;
	color:#fff;
	text-align:left;
	padding:0px;
	-moz-border-radius: 15px 15px 15px 15px;
	-o-border-radius: 15px 15px 15px 15px;
	-webkit-border-radius: 15px 15px 15px 15px;
	border: 2px solid #000000;
	margin-bottom: 30px;
	font-size:12px;
}

.signon-frame p, 
.signon-frame h1, 
.signon-frame h2, 
.signon-frame h3, 
.signon-frame h4, 
.signon-frame h5,
.signon-frame label{
	color:#fff;
	font-weight:bold;
	font-size:13px;	
	margin-bottom:5px;
}

.signon-frame p{
	font-size:12px;
}

.signon-frame h1, 
.signon-frame h2, 
.signon-frame h3, 
.signon-frame h4, 
.signon-frame h5{
	font-size:15px;
}

.signon-frame #signon-heading{
	font-size:12px;
	border:none;
}

.signon-frame .carnivalFormBlock p{
	margin-top:0;
}

.signon-frame .carnivalFormBlock p#thanksCopy{
	width:auto;
}

.signon-frame .carnivalFormBlock .form-list input,
.signon-frame .carnivalFormBlock .form-list label{
	display:block;
	margin:10px 0;
}

.signon-frame .carnivalFormBlock .form-list input{
	width:250px;
}

.signon-frame .carnival-error,
#carnivalContent .signon-frame .signon-error label.error
{
	color:#f00;
	margin:5px 0;
	font-weight:bold;
}

div#signonSubmits button#signon-submit{
	background: url("../images/signon/button/button_signin.png") no-repeat 0 0;
	border:none;
	width:80px;
	height:25px;
	padding-bottom:5px;
	margin:-right:5px 0;
	display: inline;
	font-weight:bold;
	float:none;
}

#signonSubmits span{
	display:block;
}


#carnivalInnercontent #email_address_taken,
#carnivalInnercontent h1{
	color:#fff;
}

#email_address_taken{
	margin-bottom:10px;
}
/*****************************************
	SSOR Progressive Registration 
******************************************/

#proRegNewsletters,
#proRegNewsletters legend{
	color:#fff;
}

#proRegNewsletters fieldset{
border:1px solid #fff;
padding-left:10px;
margin: 0 5px;
}

#proRegNewsletters legend{
	font-weight:bold;
	font-size:16px;
	margin:0 0 3px 10px;
}

#proRegNewsletters ul{
	
}

#proRegNewsletters ul li{
	float:left;
	width:45%;
	margin-bottom:10px;
}

#proRegNewsletters ul li .subscriptions{
	float:left;
}


#proRegNewsletters ul li .newsletterName{
	float:left;
	margin-left:5px;
}


#proRegNewsletters ul li .newsletterDescription{
	clear:both;
	margin:5px 0 0 19px;
	text-align:left;
	
}

#carnivalModal #proRegNewsletters p{
	padding:0 0 5px 0;
	color:#fff;
}

/*****************************************
	SSOR Signup Modal
******************************************/

div#showPassword { display:none; }

#carnivalModal.registration #carnivalModalHead{
	display:none;
}

#carnivalModal.registration.horizontal.nonSticky{
	font-family: helvetica, arial sans-serif;
	font-size:14px;
	color:#fff;
	margin-top:20px;
	width:650px;
	border:10px solid #000;
	border-radius:20px;
	-moz-border-radius:20px;
	-webkit-border-radius:20px;
	position:absolute;
	left:300px;
	z-index:2147483400;
	top:50px;
	text-align:left;
}

#carnivalModal.registration{
	min-height:620px;
}	

#carnivalModal.registration #carnivalModalWrapper #carnivalContent{
	padding:0;
}

#carnivalModal.registration .error,
#carnivalModal.registration .agreement .error,
#signon-profile .error{
	color:#F00;
	font-weight:bold;
	font-size:12px;
	display:block;
	margin-bottom:5px;
}

#carnivalModal.registration .carnival-error{
	color:#F00;
	margin-bottom:5px;
}

#carnivalModal.registration .agreement .signon-error label,
#carnivalModal.registration .agreement label.error
{
	margin-bottom:3px;
	color:#F00;
	font-size:12px;
	font-weight:bold;
}

#carnivalModal.registration .signon-error{
	margin-bottom:5px;
}

#carnivalModal.registration .gender  .signon-error{
	margin-top:5px;
}	

#carnivalModal.registration a:link,
#carnivalModal.registration a:visited{
	color:#fff;
	text-decoration:underline;
}

#carnivalModal.registration #ssorModalHeader{
		padding:5px 5px 5px 38px;
}

#carnivalModal.registration #ssorModalHeader .signonTitle{
	float:left;
}


#carnivalModal.registration #ssorModalHeader #closeModal{
	float:right;
	cursor:pointer;
}

#carnivalModal.registration #ssorModalBody .leftContainer{
	float:left;
	padding-left:38px;
	width:390px;
}

#carnivalModal.registration #ssorModalBody .showPassword{
	margin-bottom:10px;
}

#carnivalModal.registration .zipCode{
	float:left;	
	margin-right:50px;
}

*+html #carnivalModal.registration .zipCode{
	margin-right:30px;
} 

* html #carnivalModal.registration .zipCode{
	margin-right:30px;
}

#carnivalModal.registration .zipCode label{
	margin-bottom:10px;
}

#carnivalModal.registration .gender{
	float:left;	
}

#carnivalModal.registration .birthday{
	margin-bottom:10px;
}

#carnivalModal.registration .gender .female{
	margin-right:15px;
}

#carnivalModal.registration #ssorModalBody .rightContainer{
	float:right;
	width:200px;
	padding-left:20px;
	border-left:1px solid #fff;
}

#carnivalModal.registration .birthday .selectList{
	color:#000;
	float:left;
	margin-right:10px;
	position:relative;	
}

#carnivalModal.registration .birthday .selectContent{
	background: url("../images/signon/modal/option_background.jpg") repeat-x scroll 0 0;
	display:block;
	cursor:pointer;
	border-right:1px solid #939393;;
	border-bottom:1px solid #939393;
	float:left;
	width:75px;
	padding:4px 2px 2px 2px;
	text-align:center;
	height:15px;
}

#carnivalModal.registration .birthday .selectArrow{
	display:block;
	border-bottom:1px solid #939393;
	background: url("../images/signon/modal/option_dropdown.jpg") no-repeat scroll 0 0;
	width:25px;
	height:21px;
	float:left;
}

#carnivalModal.registration .birthday .selectOptions{
	background-color:#FFF;
	overflow: auto;
	height:170px;
	width:105px;
	top:22px;
	position:absolute;
	display:none;
	z-index:2147483645;
}

#carnivalModal.registration .selectOptions span{
	display:block;
	padding-left:3px;	
	cursor:pointer;
	position:relative;
	z-index:2147483647;
}

#carnivalModal.registration .selectOptions span:hover{
	background-color:#666;
}

#carnivalModal.registration label,
#carnivalModal.registration .inputField{
		display:block;
}

#carnivalModal.registration label{
		color:#FFF;	
}

#carnivalModal.registration .inputField,
#carnivalModal.registration .email label,
#carnivalModal.registration .zipcode label,
#carnivalModal.registration .gender label{
	margin:0 0 10px;	
}

#carnivalModal.registration .gender label{
	margin-bottom:20px;
}

#carnivalModal.registration .gender .signon-error{
	margin-top:10px;
}
	
#carnivalModal.registration .inputField{
	height:20px;
	font-size:13px;
}

#carnivalModal.registration .inputField.large{
	width:323px;
}

#carnivalModal.registration .inputField.small{
	width:116px;
}

#carnivalModal.registration .checkbox,
#carnivalModal.registration .radioButton{
	margin-right:5px;
}

#carnivalModal.registration .gender .form_radio_container{
	display:block;
}

#carnivalModal.registration .gender .form_radio_container input,
#carnivalModal.registration .gender .form_radio_container label{
	float:left;
	margin: 0 10px 0 0;
}

#carnivalModal.registration .gender .form_radio_container input{
	margin-right:3px;
}

#carnivalModal.registration li{
	margin-top:13px;
}

#benefitsContainer{
	margin-bottom:40px;
}

#benefitsContainer .benefit{
	margin-bottom:20px;	
}

#benefitsContainer .benefit.last{
	padding-bottom:40px;
}

#benefitsContainer .benefit img,
#benefitsContainer .benefit span{

}

#benefitsContainer .benefit span{
	display:block;
	margin-bottom:10px;
}

#benefitsContainer .benefit .sameline{
	display:inline;
}

#benefitsContainer .benefit .afterSameLine{
	margin-top:10px;
}

#benefitsContainer .benefit img{
	margin: 14px 145px 10px 0;
}

#carnivalModal.registration label,
#carnivalModal.registration .label,
#carnivalModal.registration .signonTitle{
	font-weight:bold;
}

#carnivalModal.registration .signUpTitle{
	font-size:24px;
	float:left;
	margin:15px 0;
}

#carnivalModal.registration .benefitsTitle{
	display:block;
	font-size:18px;
	margin-bottom:10px;
}

#carnivalModal.registration .fieldNotes,
#carnivalModal.registration .agreement label,
#carnivalModal.registration .agreement span,
#carnivalModal.registration .showPassword,
#carnivalModal.registration #userNameAvailable{
	font-size:11px;	
	color:#fff;
	margin-bottom:5px;
}

#carnivalModal.registration #userNameAvailable{
	margin-top:5px;
}


#carnivalModal.registration li.email{
	margin-top:0;
}

#carnivalModal.registration .agreement label,
#carnivalModal.registration .fieldNotes{
	font-weight:normal;
}

#carnivalModal.registration .fieldNotes.small,
#carnivalModal.registration .agreement .small{
	width:340px;
}

#carnivalModal.registration .agreement{
	width:360px;
}

#carnivalModal.registration .agreement .small{
	padding-left:17px;
}

*+html #carnivalModal.registration .agreement .small{
	padding-left:0;
}


* html #carnivalModal.registration .agreement .small{
	padding-left:0;
}


#carnivalModal.registration .agreement .small input{
	margin-left:-17px;
}

#carnivalModal.registration .agreement li input{
	float:left;
}

#carnivalModal.registration #signonSubmits{
	margin:20px 0 10px 0;
}

#carnivalModal.registration #signonSubmits button{
	background: url("../images/signon/button/button_submit.png") no-repeat 0 0;
	border:none;
	width:100px;
	height:35px;
	margin-right:10px;
	display: block;
	float:left;
}

#carnivalModal.registration #signonSubmits span{
	display:block;
	float:left;
	margin-top:10px;
}

#carnivalModal.registration .opt-out label.form_choice.label{
	width:300px;
}

#carnivalModal.registration .toolTip,
#carnivalModal.registration .agreement span.help{
	position:relative;
	display:block;
}

#carnivalModal.registration .toolTipWrapper{
	position:relative;
	width:310px;
	height:15px;
}

#carnivalModal.registration .agreement span.help{
	top:-30px;
	right:-330px;
}

#carnivalModal.registration .toolTipDialog{
	border-radius:5px;
	-moz-border-radius:5px;
	-webkit-border-radius:5px;
	position:absolute;
	z-index:2147483420;
	border:1px solid #000;
	background-color:#555;
	padding:5px;
	width:170px;
	top:0;
	left:12px;
	background: rgb(255, 255, 255);
	/* RGBa with 0.6 opacity */
	background: rgba(255, 255, 255, 0.80);
	/* For IE 5.5 - 7*/
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
	/* For IE 8*/
	-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";	
}

#carnivalModal.registration .toolTipDialog p{
	margin-top:0;
	width:auto;
	padding-left:0;
}

#carnivalModal.registration #carnivalModalWrapper .agreement span.help .toolTipDialog a,
#carnivalModal.registration #carnivalModalWrapper .agreement span.help .toolTipDialog p,
#carnivalModal.registration .agreement span.help .toolTipDialog p{
	color:#000;
}

#carnivalModal.registration #emailConfirm{
	font-size:11px;
	margin-bottom:10px;
}

#carnivalModal.registration #signon-cancel{
	font-size:12px;
}

#carnivalModal.registration .hide{
	display:none;
}

#carnivalModal.registration .show{
	display:block;
}

#carnivalModal.registration #carnival_cap{
	margin-bottom:10px;
	margin-top:0;
}

#carnivalModal.registration #recommendedUserName{
	float:left;
}

#carnivalModal.registration .recaptcha_input_area_text #recaptcha_instructions_image{
	color:#000;
}

/*****************************************
	Subscription Modal
******************************************/

#carnivalModal.subscription #carnivalModalHead{
	display:none;
}

#carnivalModal.subscription #signonSubmits{
	margin-bottom:10px;
}

#carnivalModal.subscription #signonSubmits button{
	background: url("../images/signon/button/button_submit.png") no-repeat 0 0;
	border:none;
	width:100px;
	height:35px;
	margin-right:10px;
	display: block;
	float:left;
}

#carnivalModal.subscription #signonSubmits span{
	display:block;
	float:left;
	margin-top:15px;
}

#carnivalModal.subscription #signonSubmits span a {
	color:#FFFFFF;
}

#carnivalModal.subscription{
	font-family: helvetica, arial sans-serif;
	font-size:14px;
	color:#fff;
	margin-top:20px;
	width:800px;
	*width:820px;
	border:10px solid #000;
	border-radius:20px;
	-moz-border-radius:20px;
	-webkit-border-radius:20px;
	position:absolute;
	left:300px;
	z-index:2147483400;
	top:50px;
	text-align:left;
}

#carnivalModal.subscription #carnivalContent .modal-nl-form,
#carnivalModal.subscription #carnivalContent .form-buttons
{
	background-color:transparent;
	border:none;
}

#carnivalModal.subscription #signon-heading h2.signon-title {
	float:left;
}

#carnivalModal.subscription .signon-frame h3.modalNLHeader {
	clear:both;
	line-height:28px;
}

#carnivalModal.subscription #signon-heading #closeModal{
	float:right;
	cursor:pointer;
}

#cap_message{
	margin-top:10px;
	color:#F00;
}

#carnivalModal.horizontal #carnivalContent{
	overflow:hidden;
	position:relative;
	top:2px;
}

#carnivalModal.horizontal.registration #carnivalContent{
	overflow:visible;
	position:static;
	top:2px;
}


/****************************************
	Progressive Registration
*****************************************/

#carnivalModal #amList, #carnivalModal #prForm_submits { font-family:arial,helvetica; font-size:14px; text-align:left; padding:4px 8px 4px 20px; }
#prForm_dontask { font-family:arial,helvetica; font-size:14px; text-align:left; padding:4px 8px 4px 22px; }

#carnivalModal p { text-align:left; font-family:arial,helvetica; font-size:14px; padding-left:20px; }
/* #carnivalModal #amList li input, #carnivalModal #amList li textarea { width:300px; } */

span.am_text, span.am_textarea, span.am_select { display:block; }
span.radiolabel, span.am_checkbox { padding:0px 8px; }
span.optionSpan { font-size:11px; }

#carnivalModal span.error { display:block; font-size:11px; color:#FF0000; }


#carnivalModal input.amText { width:300px; }
#carnivalModal select.amSelect { width:200px; }
#carnivalModal input.amCheckbox {  }
#carnivalModal input.amRadio {  }
#carnivalModal textarea.amTextarea { width:300px; }

#carnivalModal input#dontAskCheck { padding-left:2px; }

#carnivalModal #prForm { padding:20px 0px; color:#FFFFFF; }
#carnivalModal #prForm_cancel { color:#FFFFFF; }

#carnivalModal #amList ul { margin-left:20px; }

#carnivalModal #amList li { padding:8px 2px 2px; }
#carnivalModal #amList li span.PRoptional { font-size:11px; }

#carnivalModal #prForm_submits #prForm_submit { display:block; background: url("/hive/images/ssor-submit.png") repeat scroll 0 0 transparent; border: 0 none; cursor: pointer; height: 25px; margin: 10px 0px; width: 95px; }
#carnivalModal #prForm_submits #prForm_or { display:inline-block; margin:0px 8px; }

#carnivalModal #amList input, #carnivalModal #amList select { font-family:arial,helvetica; font-size:14px; padding:2px; }

/*****************************************
	Float Clearing
******************************************/

* html #carnivalModal #signonSubmits,
* html .form_radio_container,
* html #carnivalModal.registration .birthday .selectWrapper,
* html .benefit,
* html #classBarNav,
* html #classBarNavMember,
* html #memberLoginInfo,
* html #carnivalModal.registration .agreement li,
* html .form_radio_container,
* html .birthday,
* html #ssorMiniModal,
* html #carnivalModal.registration .leftContainer,
* html #carnivalModal.registration .centerContainer,
* html #ssorModalBody,
* html #ssorModalHeader,
* html #carnivalModalHead,
* html .agreement li,
* html .clearfix {
	height: 1%;
	overflow: visible;
}

*+html #carnivalModal #signonSubmits,
*+html .form_radio_container,
*+html #carnivalModal.registration .birthday .selectWrapper,
*+html .benefit,
*+html #classBarNav,
*+html #classBarNavMember,
*+html #memberLoginInfo,
*+html #carnivalModal.registration .agreement li,
*+html .form_radio_container,
*+html .birthday,
*+html #ssorMiniModal,
*+html #carnivalModal.registration .leftContainer,
*+html #carnivalModal.registration .centerContainer,
*+html #ssorModalBody,
*+html #ssorModalHeader,
*+html #carnivalModalHead,
*+html .agreement li,
*+html .clearfix {
	min-height: 1%;
}

#carnivalModal #signonSubmits:after,
.form_radio_container:after,
#carnivalModal.registration .birthday .selectWrapper:after,
.benefit:after,
#classBarNav:after,
#classBarNavMember:after, 
#memberLoginInfo:after,
#carnivalModal.registration .agreement li:after,
.form_radio_container:after,
.birthday:after,
#ssorMiniModal:after,
#carnivalModal.registration .leftContainer:after,
#carnivalModal.registration .centerContainer:after,
#ssorModalBody:after,
#ssorModalHeader:after,
#carnivalModalHead:after,
.clearfix:after {
	clear: both;
	content: ".";
	display: block;
	height: 0;
	visibility: hidden;
}

a#reply_text_link,
a#reply_text_unlink {
 display: none;
}

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 19983
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Fri, 23 Sep 2011 01:29:15 GMT
ETag: "4e0f-4e7be0eb"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=215
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 19983
---Content---
/* ------ Advanced Search framework------ */ 

/*LAYOUT
---------*/
html body .tribForm, html body #search_overlay a {
    text-align: left;
}

:focus{
    outline: none;
}

.adv_search {
	background-color: #fff;
	padding-top: 20px;
}

.adv_search h3, .adv_search h4 {
	color: #000;
}
	
.adv_search .searchmasthead {
	width: 100%;
	height: 32px;
	line-height: 32px;
}

.adv_search .searchpanels {
	clear: left;
	float: left;
	width: 164px;
	margin-left: 3px;
	margin-top: -49px;
}

div.searchpanels h3 {
	margin:10px 0;
}

.adv_search .searchpanels .panel {
	margin-bottom: 20px;
}

.adv_search #content {
	width: 645px;
	margin-left: 0;
	clear: both;
}

.adv_search #search-results, .adv_search #search-google-ads, .adv_search #sponsored-links{
	width: 460px;
	float: right;
	clear: none;
}
.adv_search #search-google-ads, .adv_search #sponsored-links{
	padding:5px 0;
	margin:0;
}
div.sponsored-link{
	margin-bottom:8px;
}
.adv_search #search-results p.search-terms{
	float: none;
}

.adv_search #search-results .search-terms img{
	display: inline;
	vertical-align: top;
}
	
.adv_search .searchadrail {
	width: 335px;
	float: right;
}

.adv_search .searchadrail div {
	margin: 0 auto;
}

/*temporary overwrite*/
.adv_search #search-results ul.results-list dl {
	width: 100%;
}

/*date menu positioning*/
#panel_date_range_pre_div{
	margin:0 0 0 14px;
}
select#date_range_predefined{
	margin:0 0 0 14px;
}
* html #panel_date_range_pre_div{
	margin:2px 0 0 30px;
}
* html select#date_range_predefined{
	margin:2px 0 0 30px;
}
*+html #panel_date_range_pre_div{
	margin:2px 0 0 30px;
}
*+html select#date_range_predefined{
	margin:2px 0 0 30px;
}
input#panel_date_range_custom_from, input#panel_date_range_custom_to{
	width:85px;
}


/* DEFAULT FORMS
-----------------*/
.tribForm a, .tribForm a:focus{
    outline: none;
}
.tribForm ul{
    margin: 0;
    padding: 0;
    list-style: none;
}
.tribForm li{
    margin-bottom: 5px;
}
.tribForm li.indent{
    margin-left: 20px;
}
.tribForm li, .tribForm label, .tribForm input{
    display: block;
}
.tribForm input{
    font-size: 12px;
    height: 20px;
    text-indent: 5px;
    vertical-align: middle;
}
.tribForm input[type=hidden]{
    display: none;
    visibility: none;
}
.tribForm input.prepop{
    color: #666;
}
.tribForm .horiz input.adv_search_input{
    border: none;
    border-left: 2px solid #999;
    border-top: 2px solid #999;
    border-bottom: 1px solid #ddd;
    position: absolute;
    top: 0px;
    right: 19px;
    padding: 0;
}
.tribForm .horiz input.adv_submit,
.horiz input.adv_submit{
    background: transparent url(/hive/images/adv_search/adv_search_btn.png) repeat top left;
    height: 23px;
    width: 21px;
    padding: 0;
    border: none;
    border-top: 2px solid #999;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    text-indent: -9999px;
    font-size: 0;
    cursor: pointer;
    position: absolute;
    right: 0;
    top: 0;
}
#keyword_search_input{
	float: right;
	padding:	2px;
}
.tribForm .submit{
    text-indent: 0;
    width: auto;
    margin-top: 4px;
}
.tribForm input.submit{
    padding:0 0 16px 0;
}
.tribForm li label.inline, .tribForm li input.inline{
    display: inline;
    margin: 0;
}
.tribForm .horiz label, .tribForm .horiz input,
.horiz label, .tribForm .horiz input{
    display: inline;
    margin-right: 5px;
    vertical-align: top;
}
.tribform .disabled{
    background: #ddd;
    color: #ccc;
}
.tribForm .colWrap{
    overflow: hidden;
}
.tribForm .colWrap ul{
    float: left;
}
.tribForm .2col ul{
    width: 50%;
}
.tribForm .3col ul{
    width: 33%;
}
.tribForm .4col ul{
    width: 25%;
}
.tribForm .5col ul{
    width: 20%;
}

/* IE TUNING */
* html .tribForm input{
    text-indent: 0;
	padding: 4px 0 0 4px;
}
*+html .tribForm input{
    text-indent: 0;
	padding: 4px 0 0 4px;
}
* html .tribForm input.submit{
    text-indent: 0;
	padding: 0;
}
*+html .tribForm input.submit{
    text-indent: 0;
	padding: 0;
}


/* ------BEGIN ADV Search Results------ */ 

/*MASTHEAD
-------------*/
.adv_search .searchmasthead p {
	display: inline;
	float: left;
	width: 160px;
	text-align: right;
}
.adv_search .searchmasthead .searchform {
	display: inline;
	float: left;
	margin-left: 175px;
}
.adv_search .searchmasthead .searchform .text {
	width: 390px;
}
.adv_search .searchmasthead #launchModal {
	margin-left: 20px;
}

/*PANELS
-------------*/

div.panel {
	display:none;
}

div.panelTab {
	background:url('/hive/images/adv_search/panel_bg.png') no-repeat;
	background-position:0 0;
	width:156px;
	height:26px;
	padding:6px 0 0 8px;
	cursor: pointer;
}
div.panelTabActive {
	background:url('/hive/images/adv_search/panel_bg.png') no-repeat;
}
div.panelTab div {
	background:url("/hive/images/adv_search/adv_carat_bg.png") no-repeat scroll 0 0 transparent;
	float:left;
	width:17px;
	height:15px;
	padding:0;
	position:relative;
	top:-2px;
}
div.panelTabActive div {
	background:url(/hive/images/adv_search/adv_carat_bg.png) no-repeat scroll 0 -15px transparent;
	float:left;
	width:17px;
	height:15px;
	padding:0;
	position:relative;
	top:-1px;
}
div.panelLabel {
	width:40px;
	text-align:right;
	padding:4px 6px 0 0;
	float:left;
}
div.panelInput {
	float:left;
}

/* RELATED KEYWORDS */
#adv_keywords_head{
	position: relative;
	overflow: hidden;
	background-color: #5F9FD0;
	width: 100%;
	height:22px;
	padding-top: 3px;
	padding-bottom: 3px;
	-moz-top-right-border-radius: 5px;
	-moz-top-left-border-radius: 5px;
	-webkit-top-right-border-radius: 5px;
	-webkit-top-left-border-radius: 5px;
	-khtml-top-right-border-radius: 5px;
	-khtml-top-left-border-radius: 5px;
	border-top-right-radius: 5px;
	border-top-left-radius: 5px;
}
#adv_keywords_close{
    display: block;
	float: right;
	background: transparent url(/hive/images/adv_search/adv_search_close.png) no-repeat top left;
	_background: transparent url(/hive/images/adv_search/adv_search_close.gif) no-repeat top left;
	text-indent: -9999px;
	width: 20px;
	height: 19px;
	margin: 2px 5px 2px 0;
}
#adv_keywords_question{
    display: block;
	float: right;
	background: transparent url(/hive/images/adv_search/search_results_question_opaque.png) no-repeat top left;
	_background: transparent url(/hive/images/adv_search/search_results_question_opaque.gif) no-repeat top left;
	text-indent: -9999px;
	width: 20px;
	height: 19px;
	margin: 2px 5px 2px 0;
}

/* BY DATE */
div#bydate div.calendarLinks{
	float:right;
	margin:6px 6px;
}
div#bydate{
	margin-left:10px;
}
div#bydate a{
	font-size:85%;
	font-weight:normal;
}
#panel_date_range_error{
	color:#f00;
	font-style:italic;
	padding:6px 0;
	display:none;
}
div.calendarLinks{
	margin-bottom:12px;
}
.custDateRow{
	width:156px;
	padding:2px 0;
}

/* BY CATEGORY */

/* TOP SEARCH */
.adv_search .topsearch {
	margin-top: 20px;
}

.adv_search .topsearch h4 {
	margin: 0 0 5px 2px;
}

.adv_search .topsearch ul li {
	margin: 0 0 2px 20px;
}

.adv_search #cat_tree {
    margin: 0 0 10px 10px;
}
.adv_search #cat_tree li{
    cursor: pointer;
    list-style: none;
    margin: 5px 0;
    padding-left: 14px;
}
.adv_search #cat_tree li span{
    cursor: default;
}
.adv_search #cat_tree li.parent{
    background: url(/hive/images/adv_search/adv_plus.png) no-repeat left top;
}
.adv_search #cat_tree li.open{
    background: url(/hive/images/adv_search/adv_minus.png) no-repeat left top;
}
.adv_search #cat_tree li ul{
    display: none;
    margin: 0 0 5px 0;
}
	
/*RESULTS
-------------*/

/* RESULTS HEADER */
p.adv-sort{
	margin:0 0 6px 0;
}
p.adv-sort select{
	height:20px;
}

/* ARTICLES */
div.search-terms{
	clear:both;
	margin:10px 0 8px 0;
}
ul.adv-results-list li img{
	float:left;
	margin:0 12px 6px 0;
}
ul.adv-results-list li div{
	clear:none;
	margin:0 0 12px 0;
}
ul.adv-results-list li div span.date{
	font-style:normal;
	color:#000;
}
ul.adv-results-list li div span.byline{
	font-size:80%;
	font-weight:bold;
}
ul.adv-results-list li div span.byline span.bylineName{
	text-transform: uppercase;
}

/* IMAGES */
#advSearchImages{
	clear:none;
	display:block;
	float:left;
}
#advSearchImages ul{
	list-style:none;
	clear:both;
}
#advSearchImages ul li{
	display:inline-block;
	width:140px;
	height:145px;
	padding:5px 13px 5px 0;
	float:left;
}
#advSearchImages ul li div.advImage{
	width:140px;
	height:105px;
	overflow:hidden;
	background:#eee;
}

/* VIDEOS */

/* BLOGS */

/* RESULTS FOOTER */
div.advPagination {
	text-align:center;
	clear:both;
	float:none;
}
#search-results div.advPagination ul.pagination {
	float:none;
}


/*ADRAIL
-------------*/
.adv_search .cubead {
	width: 300px;
}

.adv_search .googlead {
	width: 300px;
}

/* ------END ADV Search Results------ */ 





/* ------BEGIN ADV Search Widget------ */

#container #hotTopic #basicsearch{
    padding: 0;
    margin: 0;
    position: absolute;
    right: 5px;
    top: 1px;
    background-image: none;
    width: auto;
    _width: 0;
}

#container #hotTopic #basicsearch #searchText{
    padding: 0;
    margin: 0;
    color: #000;
}

#container #hotTopic #basicsearch input.adv_search_input{
     width: 100px;   
}
#search_overlay{
    box-shadow: 0 0 15px #666;
    -webkit-box-shadow: 0 0 15px #666;
    -moz-box-shadow: 0 0 15px #666;
    display: none;
    position: absolute;
    width: 300px;
    z-index: 2147483647;
    background-color: #eee;
    right: 0;
}
#search_overlay ul{
    display: block;
    height: 20px;
    margin: 10px 5px 10px 0;
    position: relative;
}
#adv_search ul{
    margin: 15px 0 15px 15px;
    display: block;
}
#search_overlay a{
    margin-left: 15px;
}
#search_overlay input.adv_search_input{
    width: 255px;
}
#adv_search_open{
    display: block;
    margin: 10px 0;
}
#adv_search{
    box-shadow: 0 0 15px #666;
    -webkit-box-shadow: 0 0 15px #666;
    -moz-box-shadow: 0 0 15px #666;
    display: none;
    position: absolute;
    width: 300px;
    z-index: 2147483646;
    background-color: #eee;
    border: 1px solid #dfdfdf;
}
#adv_search .adv_search_head{
	position: relative;
	overflow: hidden;
	background: #ccc;
	width: 100%;
}
#adv_search h3{
	color: #fff;
	float: left;
	font-size: 16px;
	margin: 5px 0 5px 15px;
	padding: 0;
	padding-top: 4px;
}
#adv_search_close{
    display: block;
	float: right;
	background: transparent url(/hive/images/adv_search/adv_search_close.png) no-repeat top left;
	_background: transparent url(/hive/images/adv_search/adv_search_close.gif) no-repeat top left;
	text-indent: -9999px;
	width: 20px;
	height: 19px;
	margin: 5px 5px 5px 0;
}

#adv_search li{
    _height: 40px;
}

#adv_search li.fixed_date{
	margin: 20px 0 10px;
	_height: auto;
}

#adv_search li.custom_date{
	margin: 10px 0;
	_height: auto;
}

#adv_search li.custom_date input{
	width: auto;
	display: inline;
}

#adv_search li.custom_date label{
	margin: 0 0 5px;
}

#adv_search li.custom_date label.inline{
	margin: 0;
}

#adv_search li.custom_date label.custom_from{
	margin: 0 0 0 18px;
}

#adv_search .date, #bydate .date{
    color: #000;
    font-style: normal;
}

#adv_search .tribForm .disabled{
    color: #ccc;
}

#adv_search input{
    width: 265px;
}

#adv_search .submit{
    width: auto;
	margin:0 12px 12px 0;
	float:right;
}

#adv_search .inline input{
	display: inline;
	width: auto;
}

#adv_search #date_range_custom_from, #adv_search #date_range_custom_to{
    width: 90px;
}

#adv_search #date_range_custom_from{
	margin-right: 5px;
}

#adv_search li.submit{
    margin: 20px 0;
    _height: auto;
}

#adv_search li.submit input{
    width: auto;
    text-indent: 0;
}

#top_date_range_pre_div{
	clear:both;
}

#top_date_range_cust_div{
	display:none;
}

/* ------END ADV Search Widget------ */ 







/* ------BEGIN Calendar Styles------ */ 
 
 /* calendar root element */
 #calroot {
 	/* place on top of other elements. set a higher value if nessessary */
 	z-index:2147483647;
 	
 	margin-top:-1px;
 	width:198px;
 	padding:2px;
 	background-color:#fff;
 	font-size:11px;
 	border:1px solid #ccc;
 	
 	-moz-border-radius:5px;
 	-webkit-border-radius:5px;
 	
 	-moz-box-shadow: 0 0 15px #666;
 	-webkit-box-shadow: 0 0 15px #666;	
 }
 
 /* head. contains title, prev/next month controls and possible month/year selectors */
 #calhead {	
 	padding:2px 0;
 	height:22px;
 } 
 
 #caltitle {
 	font-size:14px;
 	color:#0150D1;	
 	float:left;
 	text-align:center;
 	width:155px;
 	line-height:20px;
 	text-shadow:0 1px 0 #ddd;
 }
 
 #calnext, #calprev {
	display:block;
	width:20px;
	height:16px;
	cursor:pointer;
}
#calprev {
	background:url("/hive/images/adv_search/adv_l_r_arrows.png") no-repeat scroll 6px 0 transparent;
	float:left;
}
#calnext {
	background:url("/hive/images/adv_search/adv_l_r_arrows.png") no-repeat scroll -12px 0 transparent;
	float:right;
}
 
 #calprev.caldisabled, #calnext.caldisabled {
 	visibility:hidden;	
 }
 
 /* year/month selector */
 #caltitle select {
 	font-size:10px;	
 }
 
 /* names of the days */
 #caldays {
 	height:14px;
 	border-bottom:1px solid #ddd;
 }
 
 #caldays span {
 	display:block;
 	float:left;
 	width:28px;
 	text-align:center;
 }
 
 /* container for weeks */
 #calweeks {
 	background-color:#fff;
 	margin-top:4px;
 }
 
 /* single week */
 .calweek {
 	clear:left;
 	height:22px;
 }
 
 /* single day */
 .calweek a {
 	display:block;
 	float:left;
 	width:27px;
 	height:20px;
 	text-decoration:none;
 	font-size:11px;
 	margin-left:1px;
 	text-align:center;
 	line-height:20px;
 	color:#666;
 	-moz-border-radius:3px;
 	-webkit-border-radius:3px; 		
 } 
 
 /* different states */
 .calweek a:hover, .calfocus {
 	background-color:#ddd;
 }
 
 /* sunday */
 a.calsun {
 	color:red;		
 }
 
 /* offmonth day */
 a.caloff {
 	color:#ccc;		
 }
 
 a.caloff:hover {
 	background-color:rgb(245, 245, 250);
 }
 
 
 /* unselecteble day */
 a.caldisabled {
 	background-color:#efefef !important;
 	color:#ccc	!important;
 	cursor:default;
 }
 
 /* current day */
 #calcurrent {
 	background-color:#498CE2;
 	color:#fff;
 }
 
 /* today */
 #caltoday {
 	background-color:#333;
 	color:#fff;
 }
 
 /* ------END Calendar Styles------ */ 
 

 /* ------DEFAULTS FOR TABS ------ */ 
ul.advTabs{
	display:block;
	height:26px;
	padding:3px 3px 0 3px;
	margin:2px 0;
	background:#000;
	clear:both;
}
ul.advTabs li{
	display:inline-block;
	float:left;
}
ul.advTabs li a{
	display:block;
	width:100px;
	height:20px;
	padding:6px 2px 0 2px;
	color:#fff;
	background:#000;
	text-decoration:none;
	text-align:center;
	cursor:hand;
}
ul.advTabs li.advCurrTab a{
	background:#fff;
	color:#000;
}
.advSearchLink{
	float: left;
	line-height: 28px;
	margin-left: 10px;
}

.adv_dropShadow{
	-moz-box-shadow: 	0 0 15px #666666;
	-webkit-box-shadow: 0 0 15px #666666;
	-khtml-box-shadow: 	0 0 15px #666666;
	box-shadow: 		0 0 15px #666666;
}
.adv_IEBorder{
	border:				1px solid #666;
}

 /* ------    HELP    ------ */ 
 
#adv_help{
	position:				absolute;
	overflow:				hidden;
	text-align:				left;
	-moz-top-right-border-radius: 		5px;
	-moz-top-left-border-radius: 		5px;
	-webkit-top-right-border-radius: 	5px;
	-webkit-top-left-border-radius: 	5px;
	-khtml-top-right-border-radius: 	5px;
	-khtml-top-left-border-radius: 		5px;
	border-top-right-radius: 			5px;
	border-top-left-radius: 			5px;
	z-index: 2147483647;
}

#adv_helpHeader{
	width: 			100%;
	height:			22px;
	padding-top: 	3px;
	padding-bottom: 3px;
	color:			#FFF;
}

.adv_warningHeader{
	background-color: #555;
	width: 			100%;
	height:			22px;
	padding-top: 	3px;
	padding-bottom: 3px;
	color:			#FFF;
}
#adv_helpHeader h3,
.adv_warningHeader h3{
	color:								#FFF;
	margin-left: 						10px;
    margin-top: 						5px;
}
#adv_helpContent{
	margin: 							22px;
}

#adv_helpContent h4{
	line-height:						2em;
}
 
#adv_helpContent ul{
	list-style:							disc outside none;
	padding:							0 18px;
}
 
#adv_helpContent ul li{
	list-style:							disc outside none;
	margin-bottom:						5px;
}
 
 /* ------  END HELP  ------ */
 
 
 /* ------ adv_related_keyword ------ */
 #smallContainer {
	width: 160px;
	height: 160px;
	border: 1px solid #aaa;
}
#searchpanels .loading{
	background: url(/hive/images/adv_search/adv_loading.gif) no-repeat 56px 56px;
}
#big_container_1 .loading{
	background: url(/hive/images/adv_search/adv_loading.gif) no-repeat 396px 314px; 
}
#contentTable {
	 display : none;
}
#big_container_1 {
	position : absolute;
	width: 820px;
	left: 50%;
	top: 40px;
	z-index: 2147483647;
	margin-left: -410px;
	/*height: 670px;*/
	display : none;
	background:none repeat scroll 0 0 #FFFFFF;
	box-shadow: 0 0 15px #666;
	-webkit-box-shadow: 0 0 15px #666;
	-moz-box-shadow: 0 0 15px #666;
	-moz-top-right-border-radius: 5px;
	-moz-top-left-border-radius: 5px;
	-webkit-top-right-border-radius: 5px;
	-webkit-top-left-border-radius: 5px;
	-khtml-top-right-border-radius: 5px;
	-khtml-top-left-border-radius: 5px;
	border-top-right-radius: 5px;
	border-top-left-radius: 5px;
}			
#big_container_2 {
	padding:10px;
	width: 800px;
	/*height: 627px;*/
	position: relative;
}			
#searchBar {
	padding-bottom:	.15em;
}
#searchBar .adv_submit{
	right:		9px;
	top:		10px;
}
#imgContainer {
	 width: 800px;
	 /*height: 570px;
	position:absolute;
	top: 60px;
	left: 10px;*/
}
#searchBar ul.searchCrumbs {
	list-style-type: none;
	height: 30px;
	width: 663px;
	margin: auto;
}
#searchBar ul li{
	float: left;
	padding-right: 3px;
	font-size: 13;
	margin-bottom: 3px;
	font-weight: bold;
	line-height: 12px;
	white-space:	nowrap;
}

#searchBar ul li img{ 
	float : left;
	margin-right: 3px;
}
#searchBar ul a {
	display: inline;
	padding-left: 10px; 
	padding-right: 8px; 
	text-decoration: none;
}
#searchCrumbs {
}
#spider_tooltip{
	text-align:		left;
	display: none;
	position: absolute;
	background-color: #ffa;
	border: 1px solid #cc9;
	padding: 3px;
	font-size: 12px;
	-moz-box-shadow: 2px 2px 11px #666;
	-webkit-box-shadow: 2px 2px 11px #666;
}
#imgContainer image, #searchCrumbs img, #adv_keywords_close{
	cursor:pointer;
}

#overlayMask{
	background: #000;
	display: none;
	left: 0;
	opacity: 0.6;
	filter: alpha(opacity=60);
	position: absolute;
	top: 0;
	z-index: 2147483647;
}
 /* ------ adv_related_keyword ------ */
 
 #resultsCount{
 	text-align:	left; 
 }
 
 
#adv_oneResultModal{
	background:			#FFF;
	/*padding:			1em;*/
	color:				#222;
	/*border:				1px solid #DDD;*/
	position:			absolute;
	z-index:			1100;
	text-align:			left;
	top:				170px;
	overflow:			hidden;
	-moz-box-shadow: 2px 2px 11px #666;
	-webkit-box-shadow: 2px 2px 11px #666;
	-khtml-box-shadow: 2px 2px 11px #666;
	box-shadow: 2px 2px 11px #666;
}

#adv_oneResultModalOverlay{
	background:			#000;
	position:			absolute;
	z-index:			1000;
	height:				100%;
	left:				0;
	right:				0;
	top:				0;
	bottom:				0;
}

.red{
	background-color:	red;
}


/*
#adv_returnToSearch{
 	position:	absolute;
 	right:		10px;
 	bottom:		20px;
}
 
#adv_doSearch{
 	padding:	.8em;
 	border:		2px solid #AAA;
 	color:		#EEE;
 	background-color:	#333;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	-khtml-border-radius: 5px;
	border-radius: 5px;
	float: left;
}
#adv_doSearch a{
	color:	#FFF;
}
#adv_cancelSearch{
 	padding:	.8em;
 	margin:		2px;
}
 */
/* hacks to override market level rules 
div#hotTopic div#search .tribForm .horiz input#searchText {
    border-top: 2px solid #999;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    border-left: 2px solid #999;
}
div#hotTopic div#search .tribForm .horiz input.adv_submit {
    border-top: 2px solid #999;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
}*/

/* Third party search styles */
#container #thirdpartysearch{
    padding: 0;
    margin: 0;
    right: 5px;
    top: 0px;
    background-image: none;
    width: auto;
    _width: 0;
}

#container #thirdpartysearch #searchText{
    padding: 0;
    margin: 0;
    color: #000;
}

#container #thirdpartysearch input.adv_search_input{
     width: 100px;   
}

/* New Google Ads */
#secondary-google-ads { clear: none;float: right;width: 460px; }
.adv_search .ads-label { color: #999999;text-transform: uppercase;font-size:10px; }
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/stylesheets/ie7-styles.css HTTP/1.1
Accept: text/css
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@4403e3a5
---Content---
000 !important;}
h2.sectiontitle hr {margin:0;padding:0;}
/* UTILITY SLIDER MODULE *******************************************************
modules/misc/slider.jsp + hive/htdocs/javascript/slider.js                 */
/* div.headline-slider.misc-slider.ad {background-color: #EEEEEE;} */
div.wide div.misc-slider div.slider-container div.item {padding: 2px;color:#336699;float:left;margin-right:5px;padding:5px;}/* border-right:1px solid #EEEEEE;*/
div#topLeftWide div.misc-slider div.slider-container,
div#topRightWide div.misc-slider div.slider-container,
div#middleLeftWide div.misc-slider div.slider-container,
div#middleRightWide div.misc-slider div.slider-container,
div#bottomLeftWide div.misc-slider div.slider-container,
div#bottomRightWide div.misc-slider div.slider-container {width:516px !important;}
/* slider container within an accordian */
div#rail.narrow       div.accordionItem div.misc-slider div.slider-container,
div#topLeftNarrow     div.accordionItem div.misc-slider div.slider-container,
div#topRightNarrow    div.accordionItem div.misc-slider div.slider-container,
div#middleLeftNarrow  div.accordionItem div.misc-slider div.slider-container,
div#middleRightNarrow div.accordionItem div.misc-slider div.slider-container,
div#bottomLeftNarrow  div.accordionItem div.misc-slider div.slider-container,
div#bottomRightNarrow div.accordionItem div.misc-slider div.slider-container {width: 237px;}
/* biggie-sized container width if moving scroll arrows to below the content */
div#rail.narrow       div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow,
div#topLeftNarrow     div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow,
div#topRightNarrow    div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow,
div#middleLeftNarrow  div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow,
div#middleRightNarrow div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow,
div#bottomLeftNarrow  div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow,
div#bottomRightNarrow div.accordionItem div.misc-slider div.slider-container.miscArrowsBelow {width: 314px;}
div#rail.narrow       div.misc-slider div.slider-container.miscArrowsBelow,
div#topLeftNarrow     div.misc-slider div.slider-container.miscArrowsBelow,
div#topRightNarrow    div.misc-slider div.slider-container.miscArrowsBelow,
div#middleLeftNarrow  div.misc-slider div.slider-container.miscArrowsBelow,
div#middleRightNarrow div.misc-slider div.slider-container.miscArrowsBelow,
div#bottomLeftNarrow  div.misc-slider div.slider-container.miscArrowsBelow,
div#bottomRightNarrow div.misc-slider div.slider-container.miscArrowsBelow {width: 335px;}
/* 110w and 120w thumbs in a rail */
div#rail.narrow       div.slider-container.miscArrowSides,
div#topLeftNarrow     div.slider-container.miscArrowSides,
div#topRightNarrow    div.slider-container.miscArrowSides,
div#middleLeftNarrow  div.slider-container.miscArrowSides,
div#middleRightNarrow div.slider-container.miscArrowSides,
div#bottomLeftNarrow  div.slider-container.miscArrowSides,
div#bottomRightNarrow div.slider-container.miscArrowSides {width: 266px;font-size: 11px;}
div.misc-slider div.miscarrow.back, div.misc-slider div.miscarrow.forward {padding: 0 5px;}
div.accordionItem .misc-slider div.slider-container div.item {padding: 2px;}
/* Smaller arrows if placing below the thumbs.  And use PNG's.  And build the filename dynamically.
#sliderLeftArrowSmall {background: url(/hive/images/slider/left-slider-arrow-small.gif) no-repeat;width: 25px;height: 23px;}
#sliderRightArrowSmall {background: url(/hive/images/slider/right-slider-arrow-small.gif) no-repeat;width: 25px;height: 23px;}
*/
/* slider item within a sidenav or accordion.
TODO: 2px for 120w accordion items */
div.misc-slider div.slider-container div.item {padding: 4px;color:#336699;float:left;}/* padding: 2px;border-right:1px solid #EEEEEE;*/
/* If given, this appears below the thumbs  */
div.misc-slider div.moreInfoText{color:#AAAAAA;float:left;font-family:Helvetica,Arial,sans-serif;font-weight:bold;font-variant:small-caps;text-align:right;width:98%;}
div.misc-slider div.moreInfoText.moreInfoTextBelow {text-align:center;width:240px;margin-left:0px;}
/* TI promotions */
body.ti-promo,
body.ti-promo table.cubeAd,
body.ti-promo div.headline-slider {background-color: #000;font-family:Helvetica,Arial, sans-serif !important;}
body.ti-promo div#container,
body.ti-promo div#header,
body.ti-promo ul.tabModule li.curTab a {background: transparent;}
body.ti-promo h2,
body.ti-promo div.galleryModule h3 a,
body.ti-promo  div.headlines h2 a,
body.ti-promo  div.headlines h3 a,
body.ti-promo  div.headlines h4 a  {font-size: 13px;}
body.ti-promo div.headlines h2.title,
body.ti-promo h2.sectiontitle,
body.ti-promo ul.tabModule li a,
body.ti-promo div.poll h4  {font-size: 14px;font-weight: normal;font-family:Helvetica,Arial, sans-serif;letter-spacing: normal;line-height: inherit;}
body.ti-promo table.cubeAd,
body.ti-promo div.poll,
body.ti-promo #topLeftWide .headColumn1 .headlineItem,
body.ti-promo #topRightWide .headColumn1 .headlineItem,
body.ti-promo #middleLeftWide .headColumn1 .headlineItem,
body.ti-promo #middleRightWide .headColumn1 .headlineItem,
body.ti-promo #bottomLeftWide .headColumn1 .headlineItem,
body.ti-promo #bottomRightWide .headColumn1 .headlineItem,
body.ti-promo div.headlines h2.title,
body.ti-promo div.tabModuleContainer div.tabs,
body.ti-promo div#classified-bar,
body.ti-promo div#classBarNav,
body.ti-promo div#classBarNav ul.classBarNavLink a,
body.ti-promo div#classified-bar a {border:none;}
body.ti-promo {background-attachment:scroll;background-image:url(../images/header_colors.jpg);background-position:center top;background-repeat:no-repeat;}
body.ti-promo table.bullets td li.bullets,
body.ti-promo p,
body.ti-promo h1,
body.ti-promo h2,
body.ti-promo h3,
body.ti-promo h4,
body.ti-promo h5,
body.ti-promo a,
body.ti-promo div.module form ul li,
body.ti-promo div.module form p,
body.ti-promo div.module p,
body.ti-promo h3, body.ti-promo h4,
body.ti-promo #breadcrumb,
body.ti-promo div.galleryModule h3 a,
body.ti-promo div.headlines h2 a,
body.ti-promo div.headlines h3 a,
body.ti-promo div.headlines h4 a,
body.ti-promo div.headline-slider a.item,
body.ti-promo div.oneColBullet li,
body.ti-promo ul.tabModule li.curTab a {color:#FFFFFF !important;font-weight:normal;font-family:Arial,Helvetica,sans-serif;}
/******* NAV *******/
body.ti-promo div#navigation {border-color:#FFFFFF;margin-bottom:29px;margin-top:0;}
body.ti-promo ul#root {margin:0;padding:0;position:relative;width:100%;}
body.ti-promo ul#root li ul.level2 {background-color:#79797C;background-image: none;}
body.ti-promo div#navigation div#layerOne {background-color: #3b3c42;background-image: none;padding-top: 5px;display:inline-block;height:32px;margin-top:0;padding-top:5px;width:100%;}
body.ti-promo ul#root li a.mainNav {color:#fff  ;font-size:14px;font-weight:bold;margin-left:0;text-transform:none;font-family:helvetica,sans-serif,arial;}
body.ti-promo ul#root li.navLink a {padding:0 7px;}
body.ti-promo ul#root li.navLink {padding:0;}
body.ti-promo ul#root li a.mainNav span {display:block;padding:6px 10px 10px 0;line-height:normal;}
body.ti-promo div#branding,
body.ti-promo ul#root li.highlight,
body.ti-promo ul#root li:hover,
body.ti-promo #root li.first,
body.ti-promo div#navigation  {background-image: none;}
body.ti-promo ul#root li ul.level2 {margin: 0px;overflow:hidden;height:25px;padding-top:4px;top:31px;}
body.ti-promo ul#root li.highlight a.mainNav span {background-color:#79797C;background-image: none;color:#FFFFFF;}
body.ti-promo ul#root li.highlight a{background-color:#79797C;background-image: none;}
body.ti-promo ul#root li.highlight ul.level2 li a,
body.ti-promo ul#root li ul.level2 li a  {background-color:#79797C;background-image: none;color: #fff;font-size:12px;padding:0 4px;line-height:20px;}
body.ti-promo ul#root li.highlight a {background-color:#79797C;background-image:none;}
/******* End NAV *******/
/******* Footer *******/
body.ti-promo div#footer,
body.ti-promo div#footerContainer,
body.ti-promo div#footerlogo, div#footertext,
div#footer div#siteOverview {background-image: none;background-color: transparent;}
body.ti-promo div#footer div#footertext {float: right;}
body.ti-promo div#footer div#siteOverview .siteOverview-main {border: 0px;}
body.ti-promo div#footer div#siteOverview .siteOverview-links a.mainOverviewLink,
body.ti-promo div#footer div#siteOverview .siteOverview-main a.mainNav,
body.ti-promo div#footer div#siteOverview .siteOverview-links a,
body.ti-promo div#footerlogo,
body.ti-promo div#footertext,
body.ti-promo div#footer div#footertext ul.links li a {color: #fff;}
body.ti-promo div#footertext {font-size:11px;width:640px;}
body.ti-promo div#footer {width: 980px;display:inline-block;background: transparent url(../images/footer_colors.jpg) repeat-x scroll center bottom;}
body.ti-promo div#footer div#footerlogo {float: left;}
body.ti-promo div#footerlogo, body.ti-promo div#footertext {padding:10px;}
body.ti-promo div#footerContainer {min-height:110px;padding-right:0;width:100%;}
body.ti-promo div#footer div#siteOverview .siteOverview-links a.mainOverviewLink,
body.ti-promo div#footer div#siteOverview .siteOverview-main a.mainNav {font-size:20px;}
/******* End Footer *******/
/*   lead content module */
body.ti-promo #hlt-leadContent-nav-ul li,
body.ti-promo ul.tabModule li.tab{background-color: #A6A6A6 !important;background: transparent url("../images/nonselected_gradient.jpg") repeat-x !important;}
body.ti-promo #hlt-leadContent-nav-ul li{border-left: 1px solid #000;border-right: 1px solid #000;}
body.ti-promo #hlt-leadContent-nav-ul li.hlt-leadContent-nav-selected,
body.ti-promo ul.tabModule li.curTab{background-color: #A6A6A6 !important;background: transparent url("../images/selected_gradient.jpg") repeat-x !important;}
/* Adding CSS for lead content tabbed module used in health, specific for TI promotions */
body.ti-promo .hlt-leadContent-section {overflow:hidden;_height:341px;}
body.ti-promo #hlt-leadContent {padding: 5px;background-color: transparent;position: relative;margin-bottom:10px;}
body.ti-promo #hlt-leadContent-imgArea {height:341px;overflow-x:hidden;overflow-y:hidden;position:relative;}
body.ti-promo .hlt-leadContent-img {background-position:left top;display:none;height:100%;position:absolute;}
body.ti-promo .hlt-leadContent-section .hlt-leadContent-img {background-repeat:repeat;width:606px;}
body.ti-promo .hlt-leadContent-img-selected {display:block;z-index:100;}
body.ti-promo #hlt-leadContent-nav {bottom:0;height:55px;left:5px;margin-right:5px;position:absolute;width:100%;z-index:1000;}
body.ti-promo #hlt-leadContent-nav-ul {list-style-type:none;margin-bottom:0;margin-left:0;margin-right:10px;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;}
body.ti-promo #hlt-leadContent-nav li {float:left;width:150px;}
body.ti-promo #hlt-leadContent-nav-1 {background-color:#9FD8DE;}
body.ti-promo #hlt-leadContent-nav-2 {background-color:#43716B;}
body.ti-promo #hlt-leadContent-nav-3 {background-color:#8E9ABC;}
body.ti-promo #hlt-leadContent-nav-4 {background-color:#CB7328;}
body.ti-promo #hlt-leadContent-nav-4.hlt-leadContent-nav-selected {background-color:#A59982;border-bottom-color:#817866;}
body.ti-promo #hlt-leadContent-nav-3.hlt-leadContent-nav-selected {background-color:#A59982;border-bottom-color:#817866;}
body.ti-promo #hlt-leadContent-nav-2.hlt-leadContent-nav-selected {background-color:#A59982;border-bottom-color:#817866;}
body.ti-promo #hlt-leadContent-nav-1.hlt-leadContent-nav-selected {background-color:#A59982;border-bottom-color:#817866;}
body.ti-promo #hlt-leadContent-nav .hlt-leadContent-nav-selected {}
body.ti-promo #hlt-leadContent-nav a {color:#FFFFFF;display:block;font-size:11px;font-weight:bold;height:33px;line-height:15px;outline-color:-moz-use-text-color;outline-style:none;outline-width:0;overflow-x:hidden;overflow-y:hidden;padding-bottom:10px;padding-left:11px;padding-right:11px;padding-top:10px;text-transform:uppercase;}
body.ti-promo .hlt-leadContent-overlay-toprightvertical {right:10px;top:10px;width:200px;}
body.ti-promo .hlt-leadContent-overlay {color:#FFFFFF;padding-bottom:8px;padding-left:8px;padding-right:8px;padding-top:8px;position:absolute;}
body.ti-promo .hlt-leadContent-overlay {color:#FFFFFF;padding-bottom:8px;padding-left:8px;padding-right:8px;padding-top:8px;position:absolute;}
/* END  ----- Adding CSS for lead content tabbed module used in health, specific for TI promotions */
body.ti-promo .headlines ul {padding-top:10px;}
body.ti-promo .headlines ul,
body.ti-promo .headline-slider,
body.ti-promo .pollmodule form,
body.ti-promo div.tabModuleContainer div.headlines,
body.ti-promo div.defaultHeadlines,
body.ti-promo div.headline-slider {border: 1px dashed #fff !important;border-top: none !important;padding-bottom:0;padding-top:0;}
body.ti-promo .pollmodule form {padding-top:10px;padding-left:10px;}
body.ti-promo div.titleContainer,
body.ti-promo h2.sectiontitle,
body.ti-promo div.poll h4,
body.ti-promo .pollmodule form .question-submit input.submit,
body.ti-promo div.headlines div.titleContainer {background: transparent url(../images/selected_gradient.jpg) repeat-x scroll 0 0;height:20px;margin: 0px -1px;padding: 5px 0px 5px 10px;}
body.ti-promo div.titleContainer {margin: 0 -6px 10px -6px;padding-left:5px;}
body.ti-promo div.headline-slider a.item {border: none;}
body.ti-promo .pollmodule form .question-submit input.submit {background-color:#111111;color:#FFFFFF;font-size:12px;padding:1px 6px;margin-right: 10px;}
body.ti-promo .pollmodule form .question-submit {padding-bottom:5px;}
body.ti-promo #topContentBottom {clear: both;}
body.ti-promo #content-bottom div.tabContentDisplay,
body.ti-promo #content-bottom div.tabContentContainer,
body.ti-promo #content-bottom div.tabContentHolder div.newContent,
body.ti-promo #topLeftWide div.tabContentDisplay,
body.ti-promo #topLeftWide div.tabContentContainer,
body.ti-promo #middleLeftWide div.tabContentDisplay,
body.ti-promo #middleLeftWide div.tabContentContainer,
body.ti-promo #bottomLeftWide div.tabContentDisplay,
body.ti-promo #bottomLeftWide div.tabContentContainer,
body.ti-promo #topRightWide div.tabContentDisplay,
body.ti-promo #topRightWide div.tabContentContainer,
body.ti-promo #middleRightWide div.tabContentDisplay,
body.ti-promo #middleRightWide div.tabContentContainer,
body.ti-promo #bottomRightWide div.tabContentDisplay,
body.ti-promo #bottomRightWide div.tabContentContainer,
body.ti-promo #topLeftWide div.tabContentHolder div.newContent,
body.ti-promo #middleLeftWide div.tabContentHolder div.newContent,
body.ti-promo #bottomLeftWide div.tabContentHolder div.newContent,
body.ti-promo #topRightWide div.tabContentHolder div.newContent,
body.ti-promo #middleRightWide div.tabContentHolder div.newContent,
body.ti-promo #bottomRightWide div.tabContentHolder div.newContent,
body.ti-promo #rail div.tabContentDisplay,
body.ti-promo #rail div.tabContentContainer,
body.ti-promo #rail div.tabContentHolder div.newContent {width:300px;}
body.ti-promo div.tabModuleContainer,
body.ti-promo .twoColumnSplit td.left .tdPadder,
body.ti-promo div.module,
body.ti-promo div.tabModuleContainer,
body.ti-promo div.headline-slider a.item,
body.ti-promo div#footer div#siteOverview,
body.ti-promo body.ti-promo,
body.ti-promo div.headlines h2.title,
body.ti-promo div#footer div#footertext,
body.ti-promo div.tabModuleContainer div.tabs,
body.ti-promo ul.tabModule li.curTab span,
body.ti-promo div.curvedContent,
body.ti-promo table.twoColumnSplit,
body.ti-promo div.tabModuleContainer div.module,
body.ti-promo table.cubeAd .miscAd,
body.ti-promo .defaultHeadlines .headline a,
body.ti-promo .mainSlideHeadline a,
body.ti-promo .bigStoryHeadline a,
body.ti-promo #headlineContainer .headline a,
body.ti-promo .defaultHeadlines .rightHeadlinePos img.headlineThumb,
body.ti-promo div#classified-bar,
body.ti-promo div#classBarNav,
body.ti-promo div#classBarNav ul.classBarNavLink a,
body.ti-promo div#classified-bar a,
body.ti-promo ul.tabModule span,
body.ti-promo ul#root li.navLink {background-color: transparent;background-image: none;}
body.ti-promo div.tabModuleContainer ul.tabModule,
body.ti-promo ul.tabModule {margin:0px;padding: 0px;width: 100%;}
body.ti-promo div.tabModuleContainer li.tab {margin-right: 0px;text-align:center;width:50%;line-height:27px;}
body.ti-promo div.module,
body.ti-promo div.tdPadder div.headlines,
body.ti-promo div.tabModuleContainer {margin-top: 10px;}
body.ti-promo div.tabContentHolder div.module {margin-top: 0px;}
body.ti-promo  div#hlt-leadContent a{text-decoration: none;}
body.ti-promo  div#hlt-leadContent img,
body.ti-promo  ul.tabModule li,
body.ti-promo div.tabModuleContainer,
body.ti-promo div.tivid {border: 0px solid #000;}
body.ti-promo div.headline-slider h2.sectiontitle{}
body.ti-promo #sliderLeftArrow {background: transparent url(../images/ti_promo_arrow_left.png) no-repeat scroll 0 0;}
body.ti-promo #sliderRightArrow {background: transparent url(../images/ti_promo_arrow_right.png) no-repeat scroll 0 0;}
body.ti-promo h2.sectiontitle {line-height:24px;}
body.ti-promo #topContentLeft {float:left;padding-right:6px;width:300px;}
body.ti-promo ul.tabModule li {text-transform:none;}
body.ti-promo div.headColumn1,
body.ti-promo div.headColumn2,
body.ti-promo div.headColumn3,
body.ti-promo ul.tabModule li,
body.ti-promo div.headlines h2.title {padding-left:  0px;padding-right: 0px;}
body.ti-promo div.tabContentContainer {padding: 0px;}
body.ti-promo div.headlines div.titleContainer {width: inherit;}
/* end tompetty specific styles */
/* findlocal Styles */
/* Calendar */
div#find_local_calendar_title {color:#000000;border:none;margin-bottom:4px;font-size:14px;text-align:center;}
div#find_local_calendar.calendar {border-left: #CCCCCC 1px solid;font-weight:normal;color:#CCCCCC;margin-bottom:5px;padding:0;text-align:center;width:100%;}
div#find_local_calendar.calendar th {background-color:#000000;color:#FFFFFF;font-size:18px;padding:4px;text-align:center;}
div#find_local_calendar.calendar th {background:none repeat scroll 0 0 #F3F3F3;border-bottom:1px solid #CCCCCC;border-right:1px solid #CCCCCC;border-top:1px solid #CCCCCC;color:#616B76;}
div#find_local_calendar.calendar table {border-collapse:separate;border-spacing:0;width:100%;}
div#find_local_calendar.calendar td {border-bottom:1px solid #CCCCCC;border-right:1px solid #CCCCCC;height:30px;text-align:center;width:14.2%;}
div#find_local_calendar.calendar td a {font-weight:bold;color:#000000;}
div#find_local_calendar.calendar .day_names {color:#000;}
/* Search */
#container #findlocal_search_module form {margin:0;padding:15px;font-size:0.9em;}
#container #findlocal_search_module form fieldset {border:0;margin:0;padding:1px 0 0;}
#container #findlocal_search_module form fieldset.query {}
#container #findlocal_search_module form #search_input {-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;-webkit-border-bottom-left-radius:0;-moz-border-radius-bottomleft:0;border-bottom-left-radius:0;background-color:#fff;border:3px solid #9A9A9A;}
#container #findlocal_search_module form #search_input input {border:0;padding:0;margin:0;font-size:12px;}
#container #findlocal_search_module form fieldset.query input[type=text] {width:83%;height:15px;padding:6px 8px;background:transparent;}
#container #topRightNarrow #findlocal_search_module form fieldset.query input[type=text] {width:70%;height:15px;padding:6px 8px;background:transparent;}
#container #findlocal_search_module form fieldset.options {background-color:#9A9A9A;display:inline;padding:5px;-webkit-border-bottom-right-radius:7px;-webkit-border-bottom-left-radius:7px;-moz-border-radius-bottomright:7px;-moz-border-radius-bottomleft:7px;border-bottom-right-radius:7px;border-bottom-left-radius:7px;}
#container #findlocal_search_module form fieldset.options a {color:#fff;text-decoration:none;padding:2px 10px;margin:0;}
#container #findlocal_search_module form fieldset.options a.selected {background-color:#484848;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;}
#container #findlocal_search_module form fieldset.options ul li {display:inline;}
#container #findlocal_search_module form input[type=checkbox] {margin:0 2px 0 5px;vertical-align:top;}
#container #findlocal_search_module form p {margin:10px 10px 0 0;text-align:right;float:right;}
#container #findlocal_search_module form h5 {font-weight:normal;font-size:14px;margin: 0 0 10px 0;}
/*Neighborhoods */
#container #findlocal table#neighborhoods {width:100%;}
#container #findlocal ul {list-style-type:none;margin:0;padding:0;}
#container #findlocal .facets ul li > ul {margin:7px 0 0 9px;}
#container #findlocal .facets ul li a {padding-bottom:5px;}
#container #findlocal .facets li.col2 {float: left;width: 50%;display:block;}
#container #findlocal .facets li.col3 {float: left;width: 33%;display:block;}
#container #findlocal .facets .module_content #neighborhoods table {width: 100%;}
#container #findlocal .facets .module_content #neighborhoods td.col1 {width: 100%;padding:2px;vertical-align:top;}
#container #findlocal .facets .module_content #neighborhoods td.col2 {width: 50%;padding:2px;vertical-align:top;}
#container #findlocal .facets .module_content #neighborhoods td.col3 {width: 33%;padding:2px;vertical-align:top;}
/* Facets */
#container #findlocal ul {list-style-type:none;margin:0;padding:0;}
#container #findlocal .facets ul li > ul {margin:7px 0 0 9px;}
#container #findlocal .facets ul li {padding-bottom:5px;}
#container #findlocal img {border:medium none;display:inline-block;vertical-align:middle;}
/* Listings / Events */
div.findLocal div.findLocalContent {margin-bottom:5px;}
div.findLocal div.findLocalHeader, div.eventListing {font-size:16px;margin-bottom:5px;}
div.findLocal div.listingImge, div.findLocal div.eventImage {border:0 none;margin-right:8px;}
div.findLocal div.findLocalListing {margin-bottom:10px;}
div.findLocal .listingTitle, div.findLocal .eventTitle {font-size:12px;margin-top:5px;}
div.findLocal .eventVenue {font-size:11px;margin-top:3px;}
div.findLocal .eventVenue a {font-weight:normal;}
div.findLocal .listingTitle a, .eventTitle a {text-decoration:none;font-weight:bold;line-height:12px;margin-bottom:4px;}
div.findLocal .listingStreet, div.findLocal .eventStreet {font-size:12px;margin-bottom:2px;}
div.findLocal .listingCity, div.findLocal .eventCity, div.findLocal .eventPhone {font-size:12px;}
div.findLocal .listingDescription, div.findLocal .eventDescription {font-size:12px;}
div.findLocal .listingHours, div.findLocal .eventHours {font-size:12px;}
div.findLocal .listingDate, div.findLocal .eventDate {font-size:12px;}
div.findLocal .listingPrice, div.findLocal .eventPrice {font-size:12px;}
div.findLocal .listingPhone, div.findlocal .eventPhone {font-size:12px;}
div.findLocal .findLocalMoreLink {text-align:right; padding:5px; font-size:12px;}
/* end findlocal styles */
/* milo module styles */
.miloProductSlider {position: relative;overflow: hidden;width: 100%;}
.miloProductSlider .titleContainer{text-align: center;}
.miloProductSlider .miloPowered{text-align: right;float: right;margin-top: 5px;padding: 5px;font: 12px/14px Arial, Helvetica, sans-serif;}
.miloProductSlider .miloPowered a img {border: none;}
.miloProductSlider .carouselList{list-style: none;margin: 0px;padding: 0px;}
.miloProductSlider .carouselList li {display: block;float: left;list-style-type: none;text-align: center;font: 12px/14px Arial, Helvetica, sans-serif;}
.miloProductSlider .carouselList li a img {border: none;height: 110px;margin: 0px auto;}
.miloProductSlider .sliderContainer {float: left;z-index: 1;position: relative;overflow: hidden;position: relative;background: url(/common/images/ajaxLoader.gif) no-repeat center;height: 250px;}
.miloProductSlider .arrow {width: 50px;background-color: #FFF;position: absolute;z-index: 2;height: 200px;zoom: 1;}
.miloProductSlider .arrow a img {border: none;position: absolute;top: 65px;opacity: 0.5;filter: alpha(opacity = 50);}
.miloProductSlider .arrow:hover a img {opacity: 1;filter: alpha(opacity = 100);}
.miloProductSlider .back {left: 0px;}
.miloProductSlider .back a img {right: 10px;}
.miloProductSlider .forward {right: 0px;}
.miloProductSlider .forward a img {left: 10px}
.miloProductSlider .slider {position: relative;width: 3000%;}
.miloProductSlider .item {padding: 10px 10px 0px 0px;width: 225px;background-color: #FFF;}
.miloProductSlider .item,
.miloProductSlider .item a,
.miloProductSlider .item div {font: 12px/14px Arial, Helvetica, sans-serif;}
.miloProductSlider .item .miloItemTitle {height: 30px;}
.miloProductSlider .item .miloItemStatus .inStock {padding-left: 20px;color: #55B93A;font-weight: bold;background: url(/common/images/inStock.png) no-repeat 0px -1px;line-height: 18px;}
.miloProductSlider .item .miloItemStatus .itemLocation {display: block;margin-bottom: 5px;}
.miloProductSlider .item .miloItemStatus .buyNowButton {background-color: #EEE;border: solid 1px #CCC;color:#444;-moz-border-radius: 5px;-webkit-border-radius: 5px;padding: 2px 5px;}
.miloProductSlider .item .miloItemStatus .buyNowButton:hover {background-color: #DDD;color: #666;border-color: #BBB;}
.miloProductSlider .miloLocation {margin-bottom: 5px;padding: 5px;}
.miloProductSlider .miloLocation,
.miloProductSlider .miloLocation a,
.miloProductSlider .miloLocations label,
.miloProductSlider .miloLocation div,
.miloProductSlider .miloLocation input {font: 12px/14px Arial, Helvetica, sans-serif;}
.miloProductSlider .locationInput {border: solid 1px #CCC;height: 14px;width: 40px;}
/* end milo module styles */
/* next jump top deals module styles */
.nj-latest { width: 100%; }
.nj-latest .branded { width: 100%; border: 1px solid #999; font-size: 12px; position: relative; }
.nj-latest .branded img { margin: 10px auto; }
.nj-latest .branded h1 { background: #e8e8e8; color: #000; padding: 0 10px; font-size: 22px; }
.nj-latest .branded form { background: #e8e8e8; padding: 10px 10px 5px 10px; }
.nj-latest .branded select { width: 100%; color: #999; border: 2px solid #dbdbdb; font-style: italic; padding: 2px 0; }
.nj-latest .branded .nj-loading { width: 100%; height: 100%; background: url("/hive/images/opacity.png"); position: absolute; }
.nj-latest .branded .nj-loading img { margin-top: 13%; }
.nj-latest .branded .nj-rss-output { background: #e8e8e8; padding: 8px; }
.nj-latest .branded .nj-deal { border: 2px solid #ddd; }
.nj-latest .unbranded { width: 100%; font-size: 12px; }
.nj-latest .unbranded img { margin: 10px auto; }
.nj-latest .unbranded h1 { padding: 0; margin-bottom: 10px; font-size: 22px; }
.nj-latest .nj-deal { clear: both; background: #fff; margin-bottom: 6px; overflow: hidden; }
.nj-latest .nj-deal img { margin: 0; height: 80px; width: 80px; float: left; }
.nj-latest .nj-deal-detail { float: left; text-align: left; width: 70%; margin: 5px 5px 5px 10px; }
.nj-latest .nj-deal-title, .nj-deal-title a, .nj-deal-desc { font-weight: bold; }
.nj-latest .nj-deal-desc { color: #cf1e20; }
.nj-latest .nj-deal-merchant { color: #666; }
.nj-latest .nj-deal-date { font-size: 10px; color: #666; }
/* end next jump top deals module styles */
/*   modules/graffiti.css */
div.graffiti {border: 1px solid #ddd;padding: 10px;}
div.graffiti div.description h1{color: #063640;}
div#content.graffiti {border: none;padding: 0;}
div.graffiti div.description {margin-bottom: 10px;}
div.graffiti div.description img {margin-right: 10px;float: left;}
div.graffiti ul.comments {margin-bottom: 10px;}
div.graffiti ul.comments textarea, div.graffiti div.comments textarea {width: 100%;height: 100px;}
div.graffiti ul.comments li.preview {display: none;}
div.graffiti ul.comments li p.preview {font-style: italic;}
div.graffiti ul.comments li {margin-bottom: 5px;}
div.graffiti ul.comments li p.comment-text {font-size: 12px;}
div.graffiti ul.comments li p.username {font-size: 11px;color: #d55317;}
div.graffiti ul.comments li p.username span.date {font-style: italic;}
div.graffiti form {padding: 10px;}
div.graffiti form p.instructions {font-weight: bold;margin-bottom: 5px;color: #fff;}
div.graffiti form div.username {margin-bottom: 5px;}
div.graffiti form div.comments {margin-bottom: 5px;margin-right: 2px;}
div.graffiti form label {font-size: 11px;}
div.graffiti div.captcha-content {text-align: center;margin: 10px 0;}
div.graffiti input.captcha-input {margin-top: 10px;}
div.graffiti div.captcha-image img {border: 1px solid #ddd;margin-top: 10px;}
div.graffiti div.submit {text-align: right;}
div.graffiti div.submit input.submit {background: #3e667d;color: #fff;border: 0px;padding: 3px;font-size: 10px;}
/*   modules/whatson.css */
/* whats on module for broadcast sites */
.zcc-new-shows-wrap {padding: 5px 10px;}
.zcc-new-shows-wrap a,.zcc-new-shows-wrap a:visited,.zcc-new-shows-wrap a:active,.zcc-new-shows-wrap a:hover {text-decoration: none;color:#3C98C9;}
.zcc-new-shows-wrap a:hover {text-decoration: underline;}
.zcc-new-shows-wrap .zcc-lead-image {width: 100px;height: 75px;float: left;margin-right: 5px;border: 0;}
.zcc-new-shows-wrap .zcc-program-wrap {overflow: hidden;clear: both;margin-bottom: 10px;}
.zcc-new-shows-wrap .zcc-program-details {display: block;margin-left: 105px;}
.zcc-new-shows-wrap .zcc-program-title {font-weight: bold;font-size: 13px;}
.zcc-new-shows-wrap .eci-divider {clear: both;height: 10px;}
.zcc-new-shows-wrap .zcc-episode-title {}
.zcc-new-shows-wrap .zcc-checkin {display: none;}
.zcc-new-shows-wrap .zcc-divider {clear: both;height: 10px;}
.zcc-new-shows-wrap .zcc-sked-new {color: #eee;text-transform: uppercase;font-size: 10px;font-family: verdana;font-weight: bold;background-color: #450040;padding: 0 3px;display: inline;}
div.zcc-new-shows-wrap .zcc-sked-time-channel {font-weight: bold;}
div.zcc-new-shows-wrap .zcc-time {border-bottom: 1px solid #A1AB3B;padding: 0px;width: 100%;color: #A1AB3B;font-family: verdana;font-size: 16px;}
/* primetime grid for np.com sites */
.zcc-primetime {width:100%;}
.zap2it {padding: 5px;}
td.zcc-station {width: 10px;}
.zcc-sked-main {font-weight: bold;}
.zcc-sked {padding: 5px 0px;border-top: 1px solid #9db3b9;}
.zcc-sked-new,.zcc-sked-live {color: #EEE;font-size: 10px;font-weight: bold;padding: 0px 3px;text-transform: uppercase;}
.zcc-sked-live {background-color: #1B905B;}
.zcc-sked-new {background-color: #3C98C9;}
.zcc-prog {font-weight: bold;}
.zcc-prog-title {font-size: 13px;}
.zcc-sked-attributes {font-size: 10px;}
.zcc-callsign, .zcc-aff {display:none;}
#zap-whatsonnight, #tms_widget_footer_wrap { padding: 0 5px;}
#tms_widget_footer_wrap, #zcc-wrap {margin: 0;}
#tms_widget_footer {color: #999;font-size: 9px;line-height: 1.5;text-align: right;padding: 0px 6px;margin: 0;}
#tms_widget_footer a:link,
#tms_widget_footer a:visited,
#tms_widget_footer a:hover,
#tms_widget_footer a:active {color: #999;text-decoration: none;}
#tms_widget_footer a:hover {color: #666;text-decoration: underline;}
#tms_widget_footer_complete {font-size: 14px;line-height: 2.0;text-align: left;margin: 0;}
#tms_widget_footer_complete a:link,
#tms_widget_footer_complete a:visited,
#tms_widget_footer_complete a:hover,
#tms_widget_footer_complete a:active {text-decoration: none;}
#tms_widget_footer_complete a:hover {text-decoration: underline;}
#zcc-grid-label {font: bold 16px Helvetica, Arial, sans-serif;margin: 0 0 2px;text-indent: 10px;}
#tms_widget_nationalad,#tms_widget_footer_wrap,#zcc-wrap {width: 100%; margin: 0;padding: 0;}
.zcc-primetime {border-collapse: collapse;caption-side: top;font-size: 10px;color: #000;table-layout: fixed;border-top: 1px solid #999;border-left: 1px solid #999;margin: 0;}
.zcc-primetime td,.zcc-primetime th {border-right: 1px solid #859FC1;border-bottom: 1px solid #859FC1;padding: 3px 2px 5px;overflow: hidden;font-family: Verdana, sans-serif;}
.zcc-primetime th {padding: 3px 4px;font-weight: normal;text-align: left;}
.zcc-primetime a {color: #004276 !important;font-weight: bold;text-decoration: none;}
.zcc-primetime a:hover {text-decoration: none;}
.zcc-primetime .zcc-station, .zcc-primetime .zcc-station .zcc-callsign {text-align: center;}
.zcc-primetime .zcc-station img {text-align: center; display: inline;}
#tms_widget_footer {clear: both;color: #999;font-family: arial, sans-serif;font-size: 9px;line-height: 2;text-align: right;border-width: 0 1px 1px;border-color: #999;margin: 0;/*border-style: solid;*/width:291px !important;margin: 0 -4px;float: right;}
#tms_widget_footer a:link,
#tms_widget_footer a:visited,
#tms_widget_footer a:hover,
#tms_widget_footer a:active {color: #999;text-decoration: none;}
#tms_widget_footer a:hover {color: #666;text-decoration: underline;}
#tms_widget_nationalad {padding: 0;margin: 0;}
#tms_widget_nationalad2 {text-align: center;padding: 0;margin: 0;border-color: #999;border-width: 0 1px 1px;/*border-style: solid;*/}
/* Gecko hacks to maintain correct width */
#tms_widget_footer_wrap:not([id*=""]),
#tms_widget_nationalad:not([id*=""]) {margin: 0 0 0 -1px;}
#tms_widget_footer:not([id*=""]) {width: 293px;}/* -1 wrapper div width - horizontal padding */
#tms_widget_nationalad2:not([id*=""]) {width: 299px;}/* -1 wrapper div width */
.zcc-powered-by {display: none;}
/*   modules/accordion.css */
div.accordion {margin-bottom: 20px;border: 1px solid #B7BBBC;border-bottom: 0;position: relative;}
div.accordionItem-top,
div.accordionItem-bottom {font-size: 0;}
div.accordion ul.accordionToggle {background: #FFF url(/hive/images/modules/accordion_bg.jpg) repeat-x bottom;cursor: pointer;padding: 10px;position: relative;list-style-type: none;height: 25px;overflow: hidden;}
div.accordion ul.accordionToggle li {float: left;vertical-align: middle;}
div.accordion ul.accordionToggle li.arrow {background: url(/hive/images/modules/accordion_sprite.gif) no-repeat 0 0;width: 20px;height: 20px;}
div.accordion ul.accordionToggleActive {background-image: none;background-position: bottom;background-repeat: repeat-x;}
div.accordion ul.accordionToggleActive li.arrow {background: url(/hive/images/modules/accordion_sprite.gif) no-repeat 0 -21px;}
ul.accordionToggle li.tabTitle {font-size: 18px;padding: 0 10px;display: inline;}
ul.accordionToggle li.preview h2{padding-left: 10px;display: inline;}
ul.accordionToggle li.tabTitle,
ul.accordionToggle li.preview,
ul.accordionToggle li.preview h2 {color: #000;line-height: 22px;}
ul.accordionToggle li.preview h2 {font-size: 12px;font-weight: normal;padding-left: 0;float: left;}
div.accordionContent {background: #FFF url(/hive/images/modules/accordion_bg.jpg) repeat-x bottom;color: #C4BAB1;overflow: hidden;padding: 0 10px;width: 314px;}
div.accordionContent h1,
div.accordionContent h2,
div.accordionContent h3,
div.accordionContent h4,
div.accordionContent h5,
div.accordionContent h6,
div.accordionContent p {color: #C4BAB1;}
div.accordionContent a {color: #011369;}
div.accordion div.module {background: transparent;border: 0;margin: 0 0 5px;padding-top: 0;}
div.accordion li.preview div.weather1 {padding: 0;}
div.accordion li.preview div.weather65 div#icon img {width: 50px;}
div.accordion li.preview div.weather65 div#icon p#currentconditions-label,
div.accordion li.preview div.weather65 div#label,
div.accordion li.preview div.weather65 div#data p#wind-level,
div.accordion li.preview div.weather65 div#data p#dewpoint-level,
div.accordion li.preview div.weather65 div#data p#humidity-level,
div.accordion li.preview div.weather65 div#data p#visbility-level,
div.accordion li.preview div.weather65 div#data p#barometer-level {display: none;}
div.accordion li.preview div.weather65 div#data {margin-left: 70px;}
div.accordion div.weather65 div#icon img {margin-top: -5px;}
div.accordion div.weather65 div#conditions {height: 1px;}
div.accordion li.sponsorContainer {float: right;}
div.accordion li.sponsorContainer span.sponsortitle {float: left;position: relative;top: 15px;}
/*   contents/story.css */
div.articlebody,div#special-package {color:#292727;}
div#content.article h1,div#content.article h2,div#content.article h3,div#special-package div.special h1,div#special-package div.special h2,div#special-package div.special h3 {color:#063640;}
div#content.article h2 {padding-bottom:5px;}
div#content.article div.story,div#content.special-package div#story-body {background-image:url(/common/images/story_bg.jpg);background-repeat:repeat-x;background-color:#f8f8f8;border:1px solid #b8c9ce;margin-bottom:20px;padding:5px;}
div#content.article h1,div#content.special-package h1 {font-size:26px;position:relative;margin:10px 0 0;}
div#content.special-package p#description {margin:5px 0 10px;}
div#content.special-package div.story-item {margin:20px 0;}
div#content.special-package div.story-item div.contents img {float:left;margin-right:10px;}
div.article ul li {list-style-image:none;list-style-position:inside;list-style-type:disc;}
div.article div.promoRSS ul li {list-style-type:none;}
div.article div.promoRSS ul li.bullets {list-style-type:disc;}
div#content.article ol li {list-style-type:decimal;list-style-position:outside;margin-left:30px;}
div#content.article span.toolSet {margin-right: -50px;margin-bottom: 10px;display: inline-block;}
div#content.article div.tools {display: block;clear: both;position: relative;}
div.article#content div.tools ul {display: block;}
div.article#content div.tools ul li {list-style: none outside;vertical-align: middle;display: inline-block;float: left;margin: 0 8px 0 0;line-height: 0;}
#content #articletools-fontsize {margin-right: -10px;}
#content #articletools-fontsize .text {vertical-align: middle;margin-left: 3px;font-weight: bold;}
#content #articletools-fontsize .arrow {vertical-align: middle;font-size: 0;}
#content #articletools-fontsize .arrow-img {margin-right: 2px;}
div#content.article div.byline {color: #292727;font-size: 11px;float: left;}
div#content.htmlstory div.byline {float: none;}
div.article div.byline span {display:block;}
div.article div.byline p span.byline.bordered {margin-right:5px;padding-right:5px;border-right:1px solid #666;}
div.article div.byline p.date {margin-top:2px;}
div.article div.byline p.date span {display:inline;}
div.article p.last-updated {font-style:italic;color:#666;margin-bottom:5px;clear:both;}
div.article div.thumbnail {padding-right:10px;}
div.article div#story-body div.thumbnail {text-align:center;}
div.article div#story-body div.thumbnail div.holder {display:inline-block;text-align:left;margin:0 auto 5px;}
* html div.article div#story-body div.thumbnail div.holder {display:inline;}
*:first-child+html div.article div#story-body div.thumbnail div.holder {display:inline;}
div.article div#story-body div.thumbnail img,div.article div.story div.thumbnail img {margin:0 auto;}
div.thumbnail p.small {margin:10px 0 0;}
div.articlebody p {margin:10px 0;}
p.fontsize {float:right;}
em.leadin {font-weight: bold;}
div.article p.fontsize span.text,div.storygallery p.fontsize span.text,div.special-package p.fontsize span.text {float:left;margin-right:3px;}
div.article p.fontsize a.arrow,div.storygallery p.fontsize a.arrow,div.special-package p.fontsize a.arrow {float:left;margin-left:2px;}
/* Article Tools */
div#moduleArticleToolsContainer {margin-bottom:15px;text-align:center;width:600px;padding:15px 0;}
div#moduleArticleTools {position:relative;text-align:center;padding:10px 0;}
div#moduleArticleTools ul {border-color: #999;border-style: solid;border-width: 1px 0;height: 48px; white-space: nowrap;}
div#moduleArticleTools ul li {background-image: none;line-height: 47px;list-style: none;white-space: nowrap;vertical-align: middle;display: inline;float: left;padding: 0 5px;}
* html div#moduleArticleTools ul li {font-size: 42px;}
* html #moduleArticleTools #sb_sharethis {font-size: 0;}
#gallery-content-popup #moduleArticleTools #sb_sharethis {line-height: 48px;}
#moduleArticleTools #sharethis_1 {display: inline-block;}
*:first-child+html #moduleArticleTools #sharethis_1 {padding-top: 3px;}
* html #moduleArticleTools #sb_sharethis iframe {margin-top: 16px;}
*:first-child+html #moduleArticleTools #sb_sharethis iframe {margin-top: 9px;}
div#moduleArticleTools #share-tool {height:18px;margin-bottom:-5px;}
div#moduleArticleTools ul li a {font-size: 10px;font-weight: 400;vertical-align: middle;}
div#moduleArticleTools ul li a.stbutton {background-position: 0 1px !important;padding-top: 1px;padding-bottom: 3px;padding-right: 0;}
* html #moduleArticleTools #rating span,
* html div#moduleArticleTools ul li a span,
div#moduleArticleTools ul li img {display: inline;vertical-align: middle;margin-right: 4px;line-height: 16px;float:none;/* minor change */}
@media screen and (-webkit-min-device-pixel-ratio:0){#zc-wrapper .zc-textBox {padding: 3px 2px 2px 4px;}}
#moduleArticleTools #rating span {line-height: 18px;}
* html #moduleArticleTools.sb_digg img,
* html #moduleArticleTools.sb_stum img {padding: 1px 0;}
#moduleArticleTools #rating span {margin-rigth: 4px;}
div#moduleArticleTools div#shareImgContainer {line-height:0;margin:0;}
div#moduleArticleTools div li#share-bookmarks {padding-left:0;}
div#moduleArticleToolsContainer div#moduleArticleTools ul#social-bookmarks {background-color:#FFF;border:1px solid #999;position:absolute;z-index:30;padding-left:10px;text-align:left;width:265px;top:40px;left:20px;}
ul#social-bookmarks {margin:0 !important;padding:10px 0;}
ul#social-bookmarks li {float:left;padding-bottom:5px;padding-right:5px;padding-left:20px;list-style-type:none;margin:0 !important;}
ul#social-bookmarks li a {font-size:10px;font-weight:400;}
ul#social-bookmarks li.digg {background:transparent url(/hive/images/icons/icon-digg.gif) no-repeat scroll left center;}
ul#social-bookmarks li.delicious {background:transparent url(/hive/images/icons/icon-delicious.gif) no-repeat scroll left center;}
ul#social-bookmarks li.facebook {background:transparent url(/hive/images/icons/icon-facebook.gif) no-repeat scroll left center;}
ul#social-bookmarks li.fark {background:transparent url(/hive/images/icons/icon-fark.gif) no-repeat scroll left center;}
ul#social-bookmarks li.google {background:transparent url(/hive/images/icons/icon-google.gif) no-repeat scroll left center;}
ul#social-bookmarks li.newsvine {background:transparent url(/hive/images/icons/icon-newsvine.gif) no-repeat scroll left center;}
ul#social-bookmarks li.reddit {background:transparent url(/hive/images/icons/icon-reddit.gif) no-repeat scroll left center;}
ul#social-bookmarks li.yahoo {background:transparent url(/hive/images/icons/icon-yahoo.gif) no-repeat scroll left center;}
div.toppaginate ul.paginate li,ul.article-nav li {display:inline;margin-right:5px;}
div.toppaginate ul.paginate li a,ul.article-nav li a {font-weight:400;text-decoration:underline;}
div.toppaginate ul.paginate li.next,div.toppaginate ul.paginate li.previous,ul.article-nav li.next,ul.article-nav li.previous {font-style:italic;}
p.copyright {position:relative;font-size:11px;color:#666;margin-top:10px;clear:left;}
div.mapmashup-650 {width:100%;height:350px;}
div#story-body.articlebody div.toppaginate ul,ul.article-nav {text-align:right;width:610px;}
div.toppaginate ul {position:relative;text-align:right;}
div#story-body.articlebody div.storyextras {clear:left;float:left;}
div#story-body.articlebody div.storyextras div.articlerail {margin-top:0;}
div#story-body div.storyDateline {display: inline ;margin-right: 5px;}
/** Related items **/
div.article div.articlerail,div.storygallery div.storyGalleryRail {float:left;width:234px;clear:both;position:relative;z-index: 4;margin:15px 10px 10px 0;}
.galleryModule {margin-bottom:20px;position:relative;overflow: hidden;}
div.article div.articlerail ul,div.related ul,div.storygallery div.storyGalleryRail ul,div.storygallery div.storyGalleryRail ul {margin:0;padding:0;}
div.article div.articlerail ul li,div.related ul li,div.storygallery div.storyGalleryRail ul li,div.storygallery div.storyGalleryRail ul li {list-style-image:none;list-style-position:outside;list-style-type:none;}
div.article div.articlerail ul li,div.storygallery div.storyGalleryRail ul li,.relatedExtraItem {padding-bottom:5px;margin-left:10px;}
.relatedExtraItem {text-align:left;}
div.article div.articlerail ul li.relatedTitle,div.storygallery div.storyGalleryRail ul li.relatedTitle {font-size:14px;font-weight:700;clear:both;margin-left:0;position:relative;}
div.article div.articlerail ul li img.thumbnail,
div.storygallery div.storyGalleryRail ul li img.thumbnail {float:left;margin:0 5px 5px 0;}
div.article div.articlerail ul li div#mapdiv,
div.storygallery div.storyGalleryRail ul li div#mapdiv {height:250px;width:300px;overflow:hidden;margin-top:2px;}
div.article div.articlerail h3,
div.storygallery div.storyGalleryRail h3 {margin-bottom:5px;font-size:15px;}
div.article div.articlerail li.relatedTitle a,
div.storygallery div.storyGalleryRail li.relatedTitle a {font-weight:700;}
div.article div.articlerail li.columnistBio,
div.storygallery div.storyGalleryRail li.columnistBio {margin:0;}
div.article div.articlerail li.columnistBio img,div.storygallery div.storyGalleryRail li.columnistBio img {padding-bottom:5px;padding-left:10px;}
div.articleRelates li.relatedTitle span {float:left;margin-top:4px;}
ul#columnist li {margin:0;padding:0;}
div#story-leftrail-ad {clear:both;display:inline-block;text-align:center;width:100%;margin-bottom:10px;}
div#story-leftrail-ad img {display:inline;float:none;}
div.articleRelates,
div.storyGalleryRelates {padding:5px;}
div.articlerelates div.articleRelates {margin: 0;}
#extraPhotos,
#extraVideos,
#extraAudio,
#extraMultimedia,
#extraStories,
#extraLinks,
#extraTopics {background-color:#EEF1F1;border:1px solid #B8C9CE;left:1px;position:absolute;width:190px;z-index:3;padding:10px;}
li.viewMore {display:block;text-align:right;position: relative;}
span#extraPhotos li {margin-left:0;}
#module-ratings-and-comments {padding:10px;}
div#content.article #module-ratings-and-comments h2 {padding-left:0;color:#fff;}
div#content.article #gallery-subcontent {position:relative;padding:10px;}
div#content.article #gallery-subcontent div h3 {color:#fff;font-size:15px;}
.closeBox {position:absolute;right:5px;top:5px;border:1px solid #B8C9CE;cursor:pointer;display:inline;width:8px;height:8px;text-align:center;line-height:8px;font-size:8px;margin:0;padding:0;}
div#form-content {float:left;clear:left;width:100%;}
div.storygallery ul#story-body li {margin-bottom:20px;}
div.storygallery ul#story-body li div.story {width:100%;}
div.storygallery ul#story-body li div.story img.thumbnail {margin-right:10px;margin-bottom:10px;float:left;}
.galleryModule img,
div.article div.articlerail img,
div.storygallery div.storyGalleryRail img,
.rating-icons img {float:left;margin-right:5px;}
div#content.article span.toolSet img {float: none;display: inline;vertical-align: middle;margin-right: 3px;}
#content #articletools-email .icon,
#content #articletools-print .icon {line-height: 16px;height: 16px;width: 17px;}
#articletools-share a.stbutton {padding: 1px 0 1px 22px;background-position: 0 1px !important;}
* html #articletools-share a.stbutton {line-height: 16px;}
*:first-child+html #articletools-share a.stbutton {line-height: 16px;}
#articletools-share .stbuttontext {line-height: 14px;}
div.article div.thumbnail,.rating-icons img,div#results {float:left;}
div.article span.altthumbnailimg, div.article div.altthumbnail {float: left; display: block; margin-right: 8px;}
div.article div.altthumbnail p.small {width: 300px;}
div.toppaginate,ul.article-nav,div.storygallery h1,div.storygallery p.description,div.storygallery p.credit {margin-bottom:10px;}
div.article div.articlerail ul li.viewMore a,
div.storygallery div.storyGalleryRail ul li.viewMore a,
div.article div.articlerail a,
div.storygallery div.storyGalleryRail a {font-weight:400;}
div.articleRelates li,
div#columnist {clear:both;}
div.module ul.tividCol {margin-right: 7px;}
div.tivideoAsLead {overflow-y: hidden;}
div.premiumVideoLead,div.premiumVideo {overflow: hidden;}
div.article div.articlerail div.articleRelates ul li a{display:block;clear:both;}
/* TIR-400 */
.registerPop div#content.article h3{color:#333;}
div#content.article #loginbox h3{color:#333;}
div#story-body-text {position:relative;}
div.article div.thumbnail table {margin:0 auto;}
div.shirttail-promo{margin-top: 20px;width: 100%;font-size: 14px;}
div.shirttail-promo.right{text-align: right;}
div.shirttail-promo.left{text-align: left;}
div.shirttail-promo.center{text-align: center;}
div#article-promo.left{text-align: left;}
div#article-promo.right{text-align: right;}
div#article-promo.center{text-align: center;}
body.ti-promo div#container div#content div.story div#story-body div#story-body-text {border: none !important;background-image: none !important;color: #fff !important;}
body.ti-promo div#container div#content,
body.ti-promo div#container div#content div.story,
body.ti-promo div#container div#content div.story span.byline {background-color: #000 !important;border: none !important;background-image: none !important;color: #fff !important;}
body.ti-promo div#container div#content div.articlerail div.articleRelates {background-color: #000 !important;border: 1px dashed #fff !important;color: #fff !important;}
body.ti-promo div#container div#content div.articlerail div.articleRelates ul li {list-style: disc inside none !important;}
body.ti-promo div#container div#content div.articlerail div.articleRelates ul li.relatedTitle {list-style: none outside none !important;}
body.ti-promo div#container div#content div.tools span.text,
body.ti-promo div#content #articletools-fontsize .text {color: #fff !important;font-weight: normal !important;}
body.ti-promo #tugs_story_display #tugs_head {background: none !important;}
/*   contents/columnist.css */
/* Columnist */
#columnist .rail {padding: 3px;}
#columnist div.columnist-bio h3 {font-size:18px;}
#columnist h3.title {text-transform:uppercase;font-size:18px;}
#columnist div#columnist-info h2 {font-size:22px;margin-bottom:5px;}
#columnist div#columnist-lead  {margin-bottom:15px;}
#columnist .rail img.photo {float:left;margin-bottom:10px;margin-right:5px;}
#columnist .rail h4 {padding: 10px 0;}
#columnist .rail  ul.recent-columns li {list-style-type: none;margin-bottom:15px;list-style-position: outside;padding-top: 15px;}
#columnist .rail h3.columnist-recent-lead {font-size: 24px;}
#columnist .rail img.columnist-image {float:right;}
#columnist .rail #columnist-info {margin-bottom: 20px;}
#columnist .rail div#columnist-info {overflow:hidden;}
#columnist #module-secondary-content div.columnist-bio {padding-bottom:10px;}
#columnist #module-secondary-content .columnist-bio p {font-size:12px;}
#module-secondary-content {background-color:#FFFFFF;float: right;padding:0 0 25px 90px;width: 198px;}
#module-secondary-content li {line-height: 14px;margin-bottom: 11px;list-style-type: none;}
#module-related-links h4 {margin: 0;}
#module-related-links ul li{list-style-position:outside !important;display:inline;float:left;padding:3px;vertical-align:middle;width:190px;}
#module-related-links ul li img{display:inline;float:left;vertical-align:middle;padding-right:5px;}
#module-related-links li {margin:0px;display:inline;}
#module-related-links a{float:left;display:inline;}
/* Columnist Bio */
#columnist-bio-body {background: #FFF;padding: 0;margin: 0;}
#columnist-bio-body #header {width: auto;}
#columnist-bio-body #masthead {margin: 0;position: static;}
#columnist-bio-logo {border: 0;}
#columnist-bio-body #content {float: none;margin: 0;padding: 0;width: auto;}
#columnist-bio {padding: 10px;margin: 0;width: auto;}
#columnist-bio-name {font-size: 22px;margin: 15px 0;}
#columnist-bio-hbio {margin: 15px 0 0;}
#columnist-bio-p {margin: 10px 0 0;}
#columnist-bio br {line-height: 10px;}
/*   contents/promos.css */
/* Feature Promo Styles */
div.featurePromo {background-color: #AAA;border-top: 1px solid #fff;border-left: 1px solid #fff;border-right: 1px solid #fff;color: #fff;margin-bottom: 20px;position: relative;}
div.featurePromo div.content {padding:5px;position:relative;}
div.featurePromo a{color: #fff}
div.featurePromo h2.title{color: #fff;padding: 5px;font-size: 14px;}
div.featurePromo .content img {border: 1px solid white;}
div.featurePromo div.columnists img {float: none;}
div.featurePromo div.columnistThumb,
div.featurePromo div.featureThumb {float: left;}
div.featurePromo div.columnistThumb.below {float: none;}
div.featurePromo div.bottomBorder {border-bottom: 1px solid #fff;padding-bottom: 5px;position: relative;}
div.featureHeadlineAbove {padding-left: 5px;}
div.featurePromo div.featurePromoTitle {padding-bottom: 5px;}
div.featurePromo div.featurePromoTitle h2.title {padding: 4px 5px 3px 8px;}
div.featurePromo div.featurePromoTitle span.description {padding-left: 0;}
/* RSS Promo Styles */
div.promoRSS div.rssHeader img {margin: auto;}
div.promoRSS div.rssHeader h2 {font-size: 24px;}
div.promoRSS div.rssContent {padding: 5px;}
div.promoRSS .rssContent-info {padding-top: 5px;}
div.promoRSS .rssContent-icon {background: url(/hive/images/icons/icon-rss-16px.gif) no-repeat;width: 16px;height: 16px;float: right;margin-bottom: -5px;}
div.promoRSS .rssContent-desc {display: block;font-size: 12px;padding: 0 0 5px;overflow: hidden;}
div.promoRSS div.rssContent ul li {list-style-position: outside;padding: 5px 0;}
div.promoRSS div.rssContent ul li.bullets {list-style-position: inside;list-style-type: disc;margin-left: 20px;}
div.promoRSS div.rssContent li.bullets {list-style-position:outside;list-style-type:disc;margin-left:20px;}
div.promoRSS div.rssContent td {padding-right:5px;padding-bottom:8px;}
div.promoRSS div.rssContent td li {list-style-position:outside;}
div.promoRSS div.rssContent div.bottomBorder {border-bottom: 1px solid #000;margin: 10px;}
div.promoRSS span.rssMoreLink,
div.feedMashup span.rssMoreLink {display:block;padding-bottom:5px;padding-right:5px;text-align:right;}
/* Parasite Module */
div.parasitePromo {background-position:center bottom;border-top:0;margin-top:-26px;padding-bottom:10px;text-align:center;}
div.tabContentContainer div.parasitePromo {margin-top: 0;}
div.parasitePromo hr {width: 90%;}
div.parasitePromoDisplay {margin-top: 10px;}
/* Multimedia Module Styles */
div.multimedia div.clear {padding-bottom: 5px;}
div#rail div.clearfix div.featurePromo,
div#rightRailTop div.clearfix div.featurePromo,
div#middleLeftNarrow div.clearfix div.featurePromo,
div#bottomRightNarrow div.clearfix div.featurePromo {width: 336px;}
.simplePromo-horizList {clear: both;}
.simplePromo-horizList li {display: inline;line-height: 19px !important;padding: 0 8px 0 4px;border-right: 1px solid;}
.simplePromo-horizList li.simplePromo-horizList-last {border-right: 0;padding-right: 0;}
.simplePromo-horizList a {white-space: nowrap;}
.simplePromo-horizList-header {float: left;display: inline;margin-right: 6px;}
.fp-verticalScroll {overflow-y: auto;position: relative;}
.columnistPromo table {table-layout: fixed;width: 100%;}
div.columnistPromo td {vertical-align:top;}
div.columnistPromo td.bottomBorder {border-bottom: 1px solid #fff;padding-bottom: 5px;position: relative;}
/*BAQ-607 - MV 2.0 Redesign*/
div.mostpopular div.more  {text-align:right;}
div.mostpopular div.tabContent{padding:5px 10px 0px 10px;width:300px;}
/* FindLocal Promo Module */
div.eventContent, div.eventHeader, div.venueContent, div.venueHeader {padding-bottom: 1px;}
div.eventContent, div.venueContent {border-left:1px solid #FFFFFF;border-right:1px solid #FFFFFF;border-top:1px solid #FFFFFF;margin-bottom: 20px;}
div.eventHeader, div.venueHeader {padding-bottom: 1px;}
div.eventHeader h2.title, div.venueHeader h2.title {padding:4px 5px 3px 8px;}
div.eventContentItem, div.venueContentItem {clear: both;float: left;background-color: #FFFFFF;padding: 5px 5px 5px 10px;margin-bottom: 1px;width: 316px;}
div.eventContentImage, div.venueContentImage {float: left;}
div.eventContentDescription, div.venueContentDescription {float: right;width: 245px;}
div.eventContent-info, div.venueContent-info {padding-top: 5px;}
div.eventMoreLink, div.venueMoreLink {clear: both;text-align: right;}
div.eventContentDescription h2 a, div.eventContentItem h2 a{font-size:13px;}
img.mv_thumb{ height:40px; margin-right:5px; width:auto; padding:3px; float:left;}
div.mv_block{ width:auto;}
div.mv_container,div.mv_all{clear:both; width:100%;}
ol li.mv_headline {list-style-type: decimal;margin-left:26px;padding:4px;}
ul li.mv_headline {list-style-type: none;padding:4px 10px 4px 10px; clear:left;}
/*   contents/poll.css */
div.poll {border: 1px solid #ddd;padding: 10px;}
div#content.poll {border: 0;padding: 0;}
div#content.poll h1 {margin-bottom: 5px;}
div.poll h4 {font-size: 14px;margin-bottom: 5px;}
div.poll p.description {margin-bottom: 5px;}
div.poll p.question {font-weight: bold;margin-bottom: 5px;}
div.poll ul {margin-bottom: 5px;}
div.poll ul li {margin-bottom: 5px;}
div.poll ul li span.radio {margin: 0 10px;}
div.poll div.bar {width: 100%;}
div.poll div.bar p.colored {padding: 1px 15px 1px 5px;font-size: 11px;color: #fff;background-color: #AF0116;}
div.poll div.question-submit {width: 100%;text-align: right;}
div.poll div.question-submit input.submit {background: #3e667d;color: #fff;border: 0px;padding: 3px;font-size: 10px;}
div.poll div.captcha-content {text-align: center;margin: 10px 0;padding: 10px;background-color: #f7f7f7;}
div.poll input.captcha-input {margin-top: 10px;}
div.poll div.captcha-image img {border: 1px solid #ddd;margin: 10px auto;}
div.poll div#related-links {border: 1px solid #ddd;margin-top: 20px;padding: 10px;width: 300px;}
div.poll div#related-links ul {margin-bottom: 0;}
div#story-body div.articlerail div.poll {width:185px;}
div#story-body div.poll div.captcha-image img {width:160px;}
div.articlerail div.articleRelates div.poll {width:185px;}
div.articlerail div.articleRelates div.poll div.captcha-image img {width:160px;}
/*   contents/photo.css */
div#content.photo {overflow: hidden;text-align: center;}
div.photo div.holder {display:inline-block;margin:0 auto;text-align:center;}
div.photo img {display: inline;}
div.photo h1{margin-top: 10px;text-align: left;color: #063640;padding-left: 10px;}
div.photo p.information,
div.photo p.caption {font-size: 11px;text-align: left;}
div.photo ul#tools {margin: 10px 0;display: block;}
div.photo ul#tools li#email-tool {float: left;padding-right: 5px;border-right: 1px solid #ddd;margin-right: 5px;padding-left: 20px;background-image: url('/hive/images/icons/atools-email.gif');background-position: 0px 0px;background-repeat: no-repeat;}
div.photo div.returnlink{text-align: right;}
div.photo div#gallery-subcontent {text-align: left;}
div#photo-information h1{font-size:13px;}
/*   contents/quiz.css */
div.quiz {padding: 10px;}
div#content.quiz {border: 0;padding: 0;}
div#content.quiz h1 {margin-bottom: 5px;}
div.quiz h4 {font-size: 14px;margin-bottom: 5px;}
div.quiz p.description {margin-bottom: 5px;}
div.quiz p.explanation {margin-top: 5px;}
div.quiz p.question {font-weight: bold;margin-bottom: 5px;}
div.quiz span.incorrect {color: red;}
div.quiz span.correct {color: green;}
div.quiz ul {margin-bottom: 5px;}
div.quiz ul li {margin-bottom: 10px;}
div.quiz ul li span.radio {margin: 0 10px;float: left;}
div.quiz ul li p{display: inline;}
div.quiz div.submit {text-align: right;}
div.quiz p.congrats {font-size: 14px;font-weight: bold;}
div.quiz div.submit input.submit {background: #3e667d;color: #fff;border: 0px;padding: 3px;font-size: 10px;}
div.quiz-tools {border-bottom: 1px solid #ccc;border-top: 1px solid #ccc;float: right;margin: 0px 0px 10px 10px;position: relative;width: 115px;}
div.quiz-tools #list-box {margin: 5px 5px 6px 8px;border: 0;}
div.quiz-tools div.email {padding-bottom: 5px;}
div.quiz-tools div.email img {display: inline;}
div.quiz-tools div.email a {padding-left: 3px;}
div.quiz-tools div#shareImgContainer {float: left;}
div.quiz-tools a {font-size: 10px;font-weight: normal;}
div.quiz-tools #list-box li, #module-quiz-tools #list-box li a {padding-top: 3px;}
div.quiz-tools a.share {padding-left: 5px;}
/*   contents/email.css */
div.email-form {padding: 10px;}
div.email-form form p {padding: 5px 0px;}
div.email-form p span.tip {font-size: 10px;}
div.email-form div.captcha-content {margin: 10px 0;}
div.email-form input.captcha-input {margin-top: 10px;}
div.captcha-image img {border: 1px solid #EEF1F1;margin-top: 10px;}
div.email-form label {font-size: 11px;display: inline-block;width: 60px;padding-right: 10px;font-weight: normal;white-space: nowrap;}
div.email-form textarea {width: 100%;height: 100px;}
div.email-form p span.tip input {width: auto;}
div.email-form div.submit {text-align: right;}
div.email-form div.submit input.submit {background: #3E667D;color: #FFF;border: 0;padding: 3px;font-size: 10px;}
.email-form h3 {color: #063640}
.custom-form {padding: 5px;}
#email-form,
.custom-form#article {clear: left;}
#email-form-thumbnail {float: left;margin-right: 5px;font-size: 0;line-height: 0;}
div#topRightNarrow div#content {width:334px;}
/* style for the expanded email form ("Flex Form") */
div.email-form #email-flexform-fields label {width: auto;padding-right: 0;}
div.email-form .form-field-required {font-weight: bold;font-size: 13px;}
div.registerPop div.email-form input#fromaddress,
div.registerPop div.email-form input#fromname{width:200px !important;}
div.registerPop div.email-form textarea{height:50px;}
/*   contents/ugc.css */
#gallery-content-popup #gallery-photos-more {margin-left: -5px;margin-top: 14px;}
div#gallery-subcontent div#content {width:580px;}
div#gal-content {width:580px;}
#gallery-content-popup #gallery-photos-more div.list-left {border: 0;padding: 4px 7px 0;margin-left: 0;margin-top: 2px;height: auto;float: left;font-weight: bold;}
#gallery-content-popup #gallery-photos-more li {background: #638792 url(/hive/images/modules/tab_off.gif) repeat-x;border: 1px solid #BED0D5;float: left;margin: 0 1px 0 0;padding: 0;text-align: center;width: 34px;height: 20px;line-height: 20px;position: relative;}
#gallery-content-popup #gallery-photos-more li a {color: #FFF;font-size: 12px;font-weight: bold;display: block;}
#gallery-content-popup #gallery-photos-more li.current a {background: #013445 url(/hive/images/modules/tab_over.gif) repeat-x;}
#gallery-content-popup #gallery-photos-more li a:hover {background: #7BBED5;}
#gallery-content-popup #gallery-photos-more li#photo-next-left,
#gallery-content-popup #gallery-photos-more li#photo-next-right {border: 0;margin: 0;width: 25px;height: 22px;background: transparent;text-indent: -6000px;}
#gallery-content-popup #gallery-photos-more li#photo-next-left a {height: 20px;background: url(/hive/images/modules/gallery-index_arrow.gif) no-repeat 0 5px;}
#gallery-content-popup #gallery-photos-more li#photo-next-right a {height: 20px;background: url(/hive/images/modules/gallery-index_arrow.gif) no-repeat right -18px;}
#photo-next-left div,
#photo-next-right div {display: none;}
#gallery-content-popup #gallery-videos-more {float: right;display: inline-block;padding: 5px;margin: 0 5px;width:150px;}
#gallery-content-popup #gallery-videos-more li.current {background-color: #013445;background-image: url(/hive/images/modules/tab_over.gif);background-repeat: repeat-x;}
#gallery-content-popup #gallery-videos-more li:hover {background-color: #7BBED5;background-image: none;}
#gallery-content-popup #gallery-videos-more li {margin: 0;padding: 5px;text-align: center;width: 140px;}
#gallery-content-popup #gallery-videos-more li a {color: #FFF}
#gallery-content-popup #gallery-slideshow {text-align: center;padding-top: 50px;_overflow:hidden;}
#gallery-content-popup #gallery-slideshow.ugcphotogallery {display:block;float:none;height: auto;text-align: center;padding-top: 12px;_overflow:hidden;}
#gallery-content-popup #gallery-slideshow .holder {margin: auto;display: inline-block;text-align: left;}
#gallery-content-popup #gallery-slideshow.ugcvideogallery {width: 420px;}
#gallery-slideshow img.gallery-slideshow-photo {display: inline;}
#gallery-photo-header {height: auto;}
#gallery-photo-header-title h1 {float: left;}
.ugcPhotoGallery #gallery-photo-header-title h1 {float: none;}
#gallery-photo-header-title .description {clear: both;}
.ugcPhotoGallery #gallery-photo-header-title .description {clear: none;}
#gallery-slideshow #photo-information h2{font-size: 110%;font-weight: bold;padding: 0;}
#gallery-slideshow #photo-information {margin-top: 8px;font-size: 11px;text-align: left;clear: both;}
#gallery-slideshow #gallery-photo-tools-upper {font-size: 11px;word-spacing: 0.1em;width: auto;text-align: center;}
#social-bookmarks {padding-top: 10px;}
ul#social-bookmarks li a {padding-bottom: 4px;}
#gallery-slideshow #gallery-photo-tools-upper ul li {display: inline-block;text-align: center;}
li#share-bookmarks{margin-left: 0;padding-bottom: 4px;}
#gallery-slideshow #photo-information #pgCaption {font-size: 11px;text-align: left;padding-top: 10px;padding-right: 10px;}
.holder table {width: 1px;}
#gallery-content-popup #gallery-photos-more,
div#moduleArticleTools {display: inline;float: left;position: relative;left: 50%;text-align: left;}
#gallery-content-popup #gallery-photos-more ul,
div#moduleArticleTools ul {float: left;list-style: none;position: relative;left: -50%;}
#gallery-content-popup #gallery-photos-more div.list-right-new {border: none;padding-top: 6px;}
#gallery-content-popup #gallery-photos-more div.list-middle {float: none;height: auto;margin: 0;padding: 0;}
#fake-nav {width: 124px;float: left;background-color: #CCC;height: 800px;}
#ugcHeader {text-align: center;display: block;}
#gallery-photo-tools {width: auto;}
#gallery-photo-tools #photo-tool-email {margin-left: 10px;float: left;}
#gallery-photo-tools #photo-tool-share {margin-left: 115px;float: left;}
#gallery-photo-tools #photo-tool-buy {margin-left: 400px;}
#module-secondary-content-spotlight div.content {float: left;}
#module-secondary-content-spotlight img.lead-photo {float: none;}
#photoTabs {padding-top: 10px;}
#gallery-top-photos div.item {height: 90px;width: 100px;}
#gallery-top-photos #photo-left {clear: left;}
#gallery-top-photos div.item img {margin: auto;}
#gallery-top-photos p.view-all a {font-style: normal;}
.next {padding-left: 5px;}
#gallery-content-popup a:link.referer,
#gallery-content-popup a:hover.referer,
#gallery-content-popup a:active.referer,
#gallery-content-popup a:visited.referer {font-size: 11px;padding: 10px 5px 0 0;float: right;}
.ugcPhotoGallery #gallery-content-popup a:link.referer,
.ugcPhotoGallery #gallery-content-popup a:hover.referer,
.ugcPhotoGallery #gallery-content-popup a:active.referer,
.ugcPhotoGallery #gallery-content-popup a:visited.referer {font-size: 12px;padding: 0;float: none;}
#gallery-photo-header-title {margin-top: 0;padding: 10px 10px 0;}
li#share-bookmarks a.share {padding-left: 0;}
#gallery-content-popup #gallery-photos-more div.list-right {border: none;}
#module-ratings-and-comments  {text-align: left;position: relative;}
#photo-information h3,
#module-ratings-and-comments h3 {padding-bottom: 5px;color: #034;}
#photo-index {margin: 12px 0 -8px;}
.date {color: #D55317;font-size: 11px;}
#ugc-comment-form label {display: inline-block;padding-right: 10px;font-weight: normal;font-size: 11px;width: 100px;}
#ugc-comment-form textarea {width: 100%;height: 100px;}
#ugc-comment-form P span.tip input {width: auto;}
#ugc-comment-form div.submit {text-align: right;}
#ugc-comment-form div.submit input.submit {background: #3E667D;color: #FFF;border: 0;padding: 3px;font-size: 10px;}
h5 {color: #063640}
#toolBox input.submit {float: right;margin: 0 5px;background-color: #638792;background-image: url(/hive/images/modules/tab_off.gif);background-repeat: repeat-x;border: 1px solid #BED0D5;font-weight: bold;color: #FFF;font-size: 10px;padding: 3px;cursor: pointer;overflow: visible;}
.pick-rating {padding: 0;line-height: normal;}
.gallery-description {clear: both;}
div.ugc-report-comment-form {background-color:#EEEEEE;border: 1px solid #000;height:240px;left:325px;padding:5px;position:absolute;width:300px;z-index:9002;}
div.ugc-report-comment-form p{font-weight:bold;}
div.ugc-report-comment-form select,
div.ugc-report-comment-form textarea{font-weight:normal;}
/*   contents/register.css */
fdiv#section.register {width:966px;padding:7px;}
div#info h4 {font-size:16px;}
div#info table td {padding:5px;}
div#info table td.type {width:150px;text-align:right;}
div#info table td span.details {font-size:10px;padding-left:10px;}
div#info div#loginbox {padding:10px 0;}
div#section.register h2,div#section.register h3 {padding:2px 0;}
div#section.register #benefits h3 {font-size: 16px;font-weight: bold;}
div#info p.note {font-style:italic;padding:2px 0;}
div#info p.larger, div#errors p.larger {font-size:15px;font-weight:bold;}
div#info div#loginbox table td {padding:5px 5px 5px 0;}
div#info ul.bulleted li,div#info div#errors ul li {list-style-type:disc;margin-left:20px;padding-bottom:2px;}
div#info div#errors ul li p {color:red;font-weight:700;}
div.register#section #errors li p {display:inline;}
div#info div#register-done-content {margin-top:10px;}
div#info div#register-done-content ul li {padding:5px 0;}
div#info table#print td.type {width:250px;}
div#infor table#terms td {padding:0;}
label {color: #000000;}
label.error {color: #FF0000;font-weight: bold;}
input.error {border: 1px solid #FF0000;}
div#errors {border: 2px solid #FF0000;padding: 12px;margin: 8px 0;}
div#errors p.larger {color: #FF0000;}
div#loginsection div#heading h1 {margin: 0 0 8px 0;}
/* Pop up styles */
.registerPop {width: auto !important;background-color: #FFF !important;}
div#section.registerPop div#content {float:none;}
div#section.registerPop div#heading,div#section.registerPop div#create-profile {padding-bottom:10px;}
div#section.registerPop table td {font-size:12px;padding-bottom:3px;}
div#section.register h4,div#section.register p,div#info ul.bulleted,div#info ul li {padding-bottom:5px;}
div#info table td.longQuestion,div#info table#print td.longQuestion {width:350px;}
/* WEATHER CSS */
/* SKYLINE */
.skyline {}
.skyline .title {height: 30px;margin-bottom: 4px;background-color: #ccc;}
.skyline .title .titletabs {float: left;height: 30px;line-height: 30px;text-transform: uppercase;color: #fff;font-size: 16px;}
.skyline .title .titletabs li {display: block;float: left;border-right: 1px solid #eee;}
.skyline .title .titletabs li a {padding-left: 50px;padding-right: 20px;display: block;text-decoration: none;}
.skyline .title .titletabs li .sevenday {background: transparent url(/hive/images/weather02/tab01Background.png) 10px 0 no-repeat;_background-image: none;_padding-left: 20px;}
.skyline .title .titletabs li .localradar {background: transparent url(/hive/images/weather02/tab02Background.png) 10px 0 no-repeat;_background-image: none;_padding-left: 20px;}
.skyline .title .weatherLocations {height: 30px;font-size: 14px;z-index: 2000;padding-left: 10px;}
.skyline .title .weatherLocations .currentLocation {float: right;line-height: 30px;color: #fff;background: transparent url(/hive/images/weather02/locationBackground.png) no-repeat scroll right 12px;_background: transparent url(/hive/images/weather02/locationBackground.gif) no-repeat scroll right 12px;}
.skyline .title .weatherLocations .locationList {top: 30px;padding: 8px 0;}
.skyline .title .weatherLocations .locationList li {padding: 0 10px;line-height: 20px;}
.skyline .title .weatherLocations .locationList li .zipField {}
.skyline .title .weatherLocations .locationList li .zipField .weatherZipSearch {width: 50px;margin-top: 20px;}
.skyline .forecasttab {position: relative;height: 350px;}
.skyline .rightnow {position: absolute;width: 212px;left: 0;}
.skyline .plus01 {position: absolute;width: 124px;left: 216px;}
.skyline .plus02 {position: absolute;width: 124px;left: 344px;}
.skyline .plus03 {position: absolute;width: 124px;left: 472px;}
.skyline .plus04 {position: absolute;width: 124px;left: 600px;}
.skyline .plus05 {position: absolute;width: 124px;left: 728px;}
.skyline .plus06 {position: absolute;width: 124px;left: 856px;}
.skyline .plus07 {display: none;}
.skyline .plus08 {display: none;}
.skyline .day {height: 260px;z-index: 1;}
.skyline .lightblue {background: transparent url(/hive/images/weather02/skyBackground.png) 0 0 repeat-x;}
.skyline .blue {background: transparent url(/hive/images/weather02/skyBackground.png) 0 -260px repeat-x;}
.skyline .darkblue {background: transparent url(/hive/images/weather02/skyBackground.png) 0 -520px repeat-x;}
.skyline .lightgray {background: transparent url(/hive/images/weather02/skyBackground.png) 0 -780px repeat-x;}
.skyline .gray {background: transparent url(/hive/images/weather02/skyBackground.png) 0 -1040px repeat-x;}
.skyline .red {background: transparent url(/hive/images/weather02/skyBackground.png) 0 -1300px repeat-x;}
.skyline .night {background: transparent url(/hive/images/weather02/nighttime.png) 0 0 no-repeat;}
.skyline .nightmini {background: transparent url(/hive/images/weather02/nighttimemini.png) 0 0 no-repeat;}
.skyline .nowdata {height: 86px;width: 212px;top: 298px;margin-top: 4px;z-index: 1000;background-color: #ccc;overflow: hidden;}
.skyline .nowdata h3 {margin-left: 8px;padding-top: 8px;height: 27px;}
.skyline .nowdata h4 {float: left;margin: 0 8px 8px;font-weight: normal;font-size: 11px;height: 24px;line-height: 12px;overflow: hidden;_margin-left: 4px;}
.skyline .nowdata h5 {float: right;margin-right: 8px;margin-top: 18px;font-size: 24px;}
.skyline .data {position: absolute;top: 260px;margin-top: 4px;height: 86px;width: 124px;z-index: 1000;background-color: #ccc;overflow: hidden;}
.skyline #data01 {left: 216px;}
.skyline #data02 {left: 344px;}
.skyline #data03 {left: 472px;}
.skyline #data04 {left: 600px;}
.skyline #data05 {left: 728px;}
.skyline #data06 {left: 856px;}
.skyline #data07 {display: none;}
.skyline #data08 {display: none;}
.skyline .data p {clear: both;font-size: 10px;text-align: center;padding: 0 8px;}
.skyline .data .hilo {font-size: 14px;}
.skyline .data .hitemp {padding-right: 8px;}
.skyline .data .lowtemp {padding-left: 8px;}
.skyline .data h3 {margin: 0 8px;padding-top: 8px;height: 27px;}
.skyline .data h4 {float: left;margin: 0 8px 8px;font-weight: normal;font-size: 11px;height: 24px;line-height: 12px;overflow: hidden;}
.skyline .data img {margin: 10px 0 10px 15px;height: 80px;}
.skyline .data .wind, .skyline .data .sunset {margin-bottom: 8px;}
.skyline .skylineimage {position: absolute;z-index: 500;left: 0;}
.skyline .radartab {height: 350px;}
/*SKYLINEMINI OVERWRITES*/
.mini .rightnow {width: 180px;left: 0;}
.mini .plus01 {width: 106px;left: 184px;}
.mini .plus02 {width: 106px;left: 294px;}
.mini .plus03 {width: 106px;left: 404px;}
.mini .plus04 {width: 106px;left: 514px;}
.mini .plus05 {display: none;}
.mini .nowdata {width: 180px;}
.mini .data {width: 106px;}
.mini #data01 {left: 184px;}
.mini #data02 {left: 294px;}
.mini #data03 {left: 404px;}
.mini #data04 {left: 514px;}
.mini #data05 {display: none;}
.mini .data p {padding: 0 4px;}
.mini .data .hitemp {padding-right: 4px;}
.mini .data .lowtemp {padding-left: 4px;}
.mini .data h3 {margin: 0 4px;}
.mini .data h4 {margin: 0 4px 10px;_margin-left: 2px;}
.mini .data img {margin: 10px 0 10px 5px;}
/* Base Weather Module Styles */
.weather_header {width: 100%;}
.module .weather_header div.moduleSponsor {margin-top:0px;}
.weather_header .titleContainer {float: left;}
div.weather div.clear {background: transparent url(/hive/images/weather02/icons/01.png) top left no-repeat;}
div.weather div.drizzle {background: transparent url(/hive/images/weather02/icons/08.png) top left no-repeat;}
div.weather div.rain {background: transparent url(/hive/images/weather02/icons/08.png) top left no-repeat;}
div.weather div.snow {background: transparent url(/hive/images/weather02/icons/11.png) top left no-repeat;}
div.weather div.fog {background: transparent url(/hive/images/weather02/icons/07.png) top left no-repeat;}
div.weather div.sleet {background: transparent url(/hive/images/weather02/icons/12.png) top left no-repeat;}
div.weather div.sunny {background: transparent url(/hive/images/weather02/icons/01.png) top left no-repeat;}
div.weather div.thunderstorms {background: transparent url(/hive/images/weather02/icons/13.png) top left no-repeat;}
div.weather div.cloudy {background: transparent url(/hive/images/weather02/icons/04.png) top left no-repeat;}
div.weather div.flurries {background: transparent url(/hive/images/weather02/icons/11.png) top left no-repeat;}
div.weather div.haze {background: transparent url(/hive/images/weather02/icons/06.png) top left no-repeat;}
div.weather div.overcast {background: transparent url(/hive/images/weather02/icons/22.png) top left no-repeat;}
div.night div.clear, div.weather .night div.clear {background: transparent url(/hive/images/weather02/icons/16.png) top left no-repeat;}
div.night div.sunny, div.weather .night div.sunny {background: transparent url(/hive/images/weather02/icons/16.png) top left no-repeat;}
div.night div.cloudy, div.weather .night div.cloudy {background: transparent url(/hive/images/weather02/icons/19.png) top left no-repeat;}
div.night div.haze, div.weather .night div.haze {background: transparent url(/hive/images/weather02/icons/21.png) top left no-repeat;}
.weather .slider-container {margin-bottom: 10px;}
.weather_header .titleContainer {width:100%;}
.weatherLocations {width:130px !important;}
.skyline .title .weatherLocations {width:200px !important;}
.titled .weatherLocations {margin-top: -30px;}
div.left_side, div.right_side {font-size:0.85em;line-height:1;max-width:140px;overflow:hidden;}
div.temperature div.current_temp {margin-left:22px;}
/* End Base Styles */
/* Hourly  and Daily Modules */
div.weather_beha
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/cookies.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/taxonomy-ads.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/jquery-1.3.2.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/prototype.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/jquery-1.6.1.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/trblib.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/windoid.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/AC_RunActiveContent.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/menu.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/tabinterface.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/scriptaculous.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
ntCoent-length: 2326
Content-Type: text/css
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 14 Jun 2011 20:40:10 GMT
ETag: "916-4df7c72a"
Accept-Ranges: bytes
Vary: Accept-Encoding
Cache-Control: private, max-age=149
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 2326
---Content---
div.iconBlock
{
	margin-left: 0px;
	float: left;
}
.multimediaIcon {
	display: inline-block
}
/* breaking news module overflow */
#breakingModule .breakingNewsModuleItems {
	overflow: hidden;
}
#breakingModule .breakingNewsModuleBullets {
	margin-left: -5px;
	padding-right: 8px;
}
div#content.article div.mediumImage span.toolSet {
	display: inline;
	width: auto;
}
table.headlineBelow div.headline1 {clear: left}

div.headlineItem {
	display: inline-block;
}
.mainWSecondary .col1 .rightHeadlinePos {
	display: inline;
	}
.featurePromo {
    position: relative;
    zoom: 1;
}
div.headColumn2, div.headColumn3 {display: inline-block;}
div.headColumn2 table td, div.headColumn3 table td {position: relative;}

.radar .future {width:100%;}
div.mezzanine .curvedContent {
	display: inline-block;
}

.simplePromo-horizList li {
	padding: 0 6px 0 8px;
}
.simplePromo-horizList-header {
	margin-right: 0;
}
li.bulleted,
div.headlines ul.col2 li.bullets,
table.headlineTable td li.bullets {
    list-style-position: inside;
}
ul.relatedHeadline li.multimediaIcon a {
	float:left;
}
div.oneColBullet {
	padding-left: 0px;
}
div.tabModuleContainer h2.tabTitle a {
	/* TIR-1266 */
	padding-top: 2px;
}

.clear.leadcontentExtra {
	height: auto !important;
	margin-bottom:20px;
}
div.kaleidoscope div#headlineContainer div.main-headline-item3 {
display: inline-block !important;
} 
div.chiPointsFooter {margin-top:35px;}
div.titleContainer {
	position: relative;
}
#columnist-lead{
	width:305px;
} 
 
ol li.mv_headline { 
	 margin-left:30px; 
}



/* START: Target Weekly Ad */
	#target_modal_content form{margin:15px 20px 20px 0;padding-left:20px;}
/* END: Target Weekly Ad */

div.nextgen-share-tools ul li span.stButton span span.stButton_gradient{padding-bottom:4px !important;}
div.nextgen-share-tools ul li span.stButton span span.stArrow span.stButton_gradient{padding-top:1px !important;}
.story #subFooter #tugsRating,.story #subFooter #tugsRating .rating{float:right !important;}
div#container div#content-rail-wrapper div#content.article div.story div#story-body.articlebody div#story-body-text div.articlerail div.articleRelates ul li.useBullet a img{float:left !important;}

/* HTO-160 */
.nextgen-share-tools .nextgen-right .nextgen-sharethis-container .st_sharethis_hcount span .stButton_gradient{height:16px !important;}
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Wed, 29 Jul 2009 19:56:34 GMT
ETag: "1043-4a70a972"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 4163
---Content---
function createCookie(name,value,days) {
	var expires = "";
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		expires = "; expires="+date.toGMTString();
	}
	document.cookie = name+"="+value+expires+"; path=/";
}

function createCookieWithDomain(name,value,days,domain) {
	var expires = "";
	var domainStr = "";
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		expires = "; expires="+date.toGMTString();
	}
	if (domain) {
		domainStr = "; domain="+domain;
	}
	document.cookie = name+"="+value+expires+domainStr+"; path=/";
}

function readCookie(name) {
	var nameEQ = name + "=";
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
	}
	return null;
}

function eraseCookie(name) {
	createCookie(name,"",-1);
}

function readDFPCookie(name) {
	var nameEQ = "doubleclickserved=" + name;
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) {return true;}
	}
	return null;
}

function checkViewed(adID) {
	var currentCookie = readDFPCookie(adID);
	var returnValue;
	if (currentCookie) {
		returnValue = 'yes';
	} else {
		createCookie('doubleclickserved',adID,1);
		returnValue = 'no';	
	}
	return returnValue;
}

function cookieEncode(value) {
    if (value== null || value== "")
		return "";
   var keyStr = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+/=";
   var output = "";
   var char1, char2, char3;
   var enc1, enc2, enc3, enc4;
   var i = 0;
   do {
      char1 = value.charCodeAt(i++);
      char2 = value.charCodeAt(i++);
      char3 = value.charCodeAt(i++);
      enc1 = char1 >> 2;
      enc2 = ((char1 & 3) << 4) | (char2 >> 4);
      enc3 = ((char2 & 15) << 2) | (char3 >> 6);
      enc4 = char3 & 63;
      if (isNaN(char2)) {
         enc3 = enc4 = 64;
      } else if (isNaN(char3)) {
         enc4 = 64;
      }
      output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + 
         keyStr.charAt(enc3) + keyStr.charAt(enc4);
   } while (i < value.length);
   return output;
}

function cookieDecode(value) {
	  if (value== null || value== "")
		return "";
      var keyStr = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+/=";
      var output = "";
      var char1, char2, char3 = "";
      var enc1, enc2, enc3, enc4 = "";
      var i = 0;
      value = value.replace(/[^A-Za-z0-9\+\/\=]/g, "");
      do {
         enc1 = keyStr.indexOf(value.charAt(i++));
         enc2 = keyStr.indexOf(value.charAt(i++));
         enc3 = keyStr.indexOf(value.charAt(i++));
         enc4 = keyStr.indexOf(value.charAt(i++));
         char1 = (enc1 << 2) | (enc2 >> 4);
         char2 = ((enc2 & 15) << 4) | (enc3 >> 2);
         char3 = ((enc3 & 3) << 6) | enc4;
         output = output + String.fromCharCode(char1);
         if (enc3 != 64) {
            output = output + String.fromCharCode(char2);
         }
         if (enc4 != 64) {
            output = output + String.fromCharCode(char3);
         }
         char1 = char2 = char3 = "";
         enc1 = enc2 = enc3 = enc4 = "";
      } while (i < value.length);
      return output;
 }


function readCvalue(cookie, name) {
	var nameEQ = name + ":";
	var ca = cookie.split('|');
	for(var i=0;i < ca.length;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) 
			return c.substring(nameEQ.length,c.length);
	}
	return null;
}

function addCvalue(cookie,name,value) {
	var nameEQ = name + ":";
	if (cookie)
		cookie = cookie + "|" + nameEQ + value;
	else
		cookie = nameEQ + value;
	return cookie;
}

function makeSessionFrame() {
	var iframeHTML='\<iframe id="SessionIFrame" src="/services/site/registration/get-session" style="';
    iframeHTML+='border:0px;';
    iframeHTML+='width:0px;';
    iframeHTML+='height:0px;';
    iframeHTML+='"><\/iframe>';
    document.getElementById('sessionchk').innerHTML=iframeHTML;
}

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Sat, 20 Mar 2010 00:27:55 GMT
ETag: "21c7-4ba4168b"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 8647
---Content---
var inTextAdsReady=false;
var inTextSiteName="";
var inTextSiteURL="";
var baseClass="taxInTextAdHover";

function hasClass(target, theClass) {
	var pattern = new RegExp("(^| )" + theClass + "( |$)");
	if (pattern.test(target.className)) {
		return true;
	}
	return false;
};

function isSafari() {
	return (navigator.userAgent.toLowerCase().indexOf("safari") != -1);	
}

function elementY(obj) {
	if(isSafari() && obj.tagName=='TR') {
		obj=obj.firstChild;
	}
	var top=obj.offsetTop;
	var op=obj.offsetParent;
	while (obj.parentNode && document.body != obj.parentNode) {
		obj=obj.parentNode;
		if (!isNaN(obj.scrollTop)) {
			top -= obj.scrollTop;
		}
		if (op == obj) {
			if (isSafari() && obj.tagName=='TR') {
				top += obj.firstChild.offsetTop;
			} else {
				top += obj.offsetTop;
			}
			op=obj.offsetParent;
		}
	}
	return top;
}

function elementX(obj) {
	if (isSafari() && obj.tagName=='TR') {
		obj=obj.firstChild;
	}
	var left=obj.offsetLeft;
	var op=obj.offsetParent;
	while (obj.parentNode && document.body != obj.parentNode) {
		obj=obj.parentNode;
		left -= obj.scrollLeft;
		if (op == obj) {
			if (isSafari() && obj.tagName=='TR') {
				left += obj.firstChild.offsetLeft;
			} else {
				left += obj.offsetLeft;
			}
			op=obj.offsetParent;
		}
	}
	return left;
}

function pageScrollY() {
	return document.body.scrollTop || document.documentElement.scrollTop;
}

function getHovers(){
	var elementArray = document.getElementsByTagName("div");
	var matchedArray = [];
	var pattern = new RegExp("(^| )" + baseClass + "( |$)");

	for (var i = 0; i < elementArray.length; i++) {
		if (pattern.test(elementArray[i].className)) {
			matchedArray[matchedArray.length] = elementArray[i];
		}
	}
	return matchedArray;
}

function resetInlineAds() {
	var hovs=getHovers();
	for (var i=0; i<hovs.length; i++) {
		hovs[i].setAttribute("recalc","true");	
	}
}

function trackClick(linkName) {
	if ( typeof s_gi != 'undefined' ) { 
		var s=s_gi('tribglobal'); 
		s.linkTrackVars='eVar23,server'; 
		s.eVar23=inTextSiteURL + ':' + linkName + ' Taxonomy Ad'; 
		s.server=inTextSiteURL; 
		s.tl(true,'o', linkName + ' Taxonomy Ad' );
	}	
}

var hideInText=0;
var resizeTimer=0;
var resizingInProgress=false;
var lastAd=null;

document.onclick=function(){taxInTextOut(null);};
window.onresize=function(){
	if (resizingInProgress)
		return;
	resizingInProgress=true;
	resizeTimer=setTimeout(function(){
			resizingInProgress=false;
			clearTimeout(resizeTimer);
			resizeTimer=0;
			resetInlineAds();
		},1000);
	};

function upOrDown(pos) {
	return (pos) <= pageScrollY();
}

function taxInTextOver(e,obj) {
	if (document.all && !inTextAdsReady)
		return;
	if (lastAd==null || lastAd == obj) {
		clearTimeout(hideInText);
		hideInText=0;
		if (lastAd==obj)
			return;
	} else {
		hideAd(lastAd);
	}
	lastAd=obj;
	var hov=document.getElementById('inText_'+obj.id);
	var up=true;
	if (hov && hov.getAttribute("recalc") != "true") {
		if (upOrDown(hov.getAttribute("dn"))) {
			hov.className = baseClass + " up";
			hov.style.top=hov.getAttribute("up")+"px";
		} else {
			up=false;
			hov.className = baseClass + " dn";
			hov.style.top=hov.getAttribute("dn")+"px";
		}
		hov.style.display="block";
		if (document.all && !window.opera) {
			hov.firstChild.firstChild.firstChild.firstChild.style.visibility=up?"visible":"hidden";
			hov.firstChild.firstChild.firstChild.lastChild.style.visibility=up?"hidden":"visible";
		}
	} else {
		var spn = obj.nextSibling;
		
		if (!spn.hasChildNodes()
			|| (spn.childNodes.length==1 && spn.firstChild.nodeType == 8)) { // if span is emtpy or only contains a comment
			return false;
		}
		
		// BAQ-539
		var elemY=elementY(obj);
		if (navigator.userAgent.indexOf("MSIE") > 0) {
			if (navigator.userAgent.indexOf("MSIE 6") > 0) {
				elemY-=588;
			} else {
				elemY-=603;
			}
		}
		var elemX=elementX(obj);
		
		if (!hov) { // this stuff happens only once, even for recalcs
			var hov=document.createElement("div");
			hov.setAttribute("id","inText_"+obj.id);
			
			var notAd = spn.innerHTML.match(/-- no\sad --/ig);
			
			// added for non-ad promotional floats
			var spanInner = notAd ? spn.innerHTML : spn.innerHTML.replace(/(href=\"[^\"]*\")/ig,"$1 onclick=\"trackClick('"+obj.title+"');\"");
			var sponsored = notAd ? '' : '<div class="inTextAdDisclaimer">Sponsored Link</div>';
	
			var hoverInner = '<div class="taxInTextShadow2"><div class="taxInTextShadow3">';
			hoverInner += '<div class="taxInTextAdBlock"><div class="inTextArrowUp">&nbsp;</div>';
			hoverInner += '<div class="inTextTop"><a href="'+obj.href+'">'+obj.innerHTML+'</a><br/>';
			hoverInner += inTextSiteName + ' topic gallery</div>';
			hoverInner += '<div class="inTextBottom">' + sponsored;
			hoverInner += '<div class="inTextAdContent">' + spanInner + '</div></div>';
			hoverInner += '<div class="inTextArrowDn">&nbsp;</div></div>';
			hoverInner += '</div></div>';
			hov.innerHTML=hoverInner;
			hov.className=baseClass;
			
			var con = document.getElementsByTagName('body')[0];
			con.appendChild(hov);
			
			hov.onmouseover=function(e){taxInTextOver(e,obj);};
			hov.onmouseout=function(e){taxInTextOut(e,obj);};
			hov.onclick=function(e){
					if (!e) 
						window.event.cancelBubble=true;
					else 
						e.stopPropagation();
				};
			obj.onclick=function(e){
					if (!e) 
						window.event.cancelBubble=true;
					else 
						e.stopPropagation();	
					taxInTextOver(e,obj);
					return false;
				};
		} else {
			hov.style.visibility="hidden";
			hov.style.display="block";	
		}

		var aWidth=obj.offsetWidth;
		var aHeight=obj.offsetHeight;
		var hWidth=hov.offsetWidth;
		var hHeight=hov.offsetHeight;
		
		if (aHeight > 25) { // for links that wrap
			hov.setAttribute("recalc","true");
			var elemXPar=elementX(obj.parentNode);
			var posx = 0;
			if (!e) var e = window.event;
			if (e.pageX) {
				posx = e.pageX;
			} else if (e.clientX) {
				posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
			}
			hov.style.left = posx - hWidth/2  + "px";
			if (posx > (elemXPar + obj.parentNode.offsetWidth/2)) { // on right
				var dnVal = elemY - hHeight - 10;
				var upVal = elemY + aHeight/2 + 14;
			} else { // on left
				var dnVal = elemY - hHeight + aHeight/2 - 10;
				var upVal = elemY + aHeight + 14;
			}
		} else {
			hov.setAttribute("recalc","false");
			hov.style.left=(elemX + aWidth/2 - hWidth/2) + "px";
			var dnVal=elemY - hHeight - 10;
			var upVal=elemY + aHeight + 14;
		}
		
		hov.setAttribute("up",upVal);
		hov.setAttribute("dn",dnVal);
		
		if (upOrDown(dnVal)) {
			hov.className = baseClass + " up";
			hov.style.top=upVal+"px";
		} else {
			hov.className = baseClass + " dn";
			hov.style.top=dnVal+"px";
		} 
		
		hov.style.visibility="visible";
	}
}


function taxInTextOut(e,obj) {
	if ((document.all && !inTextAdsReady) || (obj==null && lastAd==null))
		return;
	var timeOut=400;
	if (obj==null) {
		obj=lastAd;	
		timeOut=30;
	}
	hideInText=setTimeout(function(){hideAd(obj);},timeOut);
}

function hideAd(obj) {
	clearTimeout(hideInText);
	hideInText=0;
	var hov=document.getElementById('inText_'+obj.id);
	if (hov) {
		hov.style.display="none";
		lastAd=null;
	}
}

function taxInTextClick(e,obj) {
	// show ad, but if the ad content is empty, taxInTextOver will return false and instead we'll follow the link.
	if ((document.all && !inTextAdsReady) || taxInTextOver(e,obj)==false)
		window.location=obj.href;
	return false;
}



/////////////////////



function coreIntextInitLoad() {
	// quit if this function has already been called
	if (arguments.callee.done) return;
	
	// flag this function so we don't do the same thing twice
	arguments.callee.done = true;
	
	// kill the timer
	if (_timer) {
		clearInterval(_timer);
		_timer = null;
	}
	
	inTextAdsReady=true;
}

/* for Mozilla */
if (document.addEventListener) {
	document.addEventListener("DOMContentLoaded", coreIntextInitLoad, false);
}

/* for Internet Explorer */
	/*@cc_on @*/
	/*@if (@_win32)
		var dummy = (location.protocol == "https:") ? "//:" : "javascript:void(0)";
		document.write("<script id=__ie_onload defer src=" + dummy + "><\/script>");
		var script = document.getElementById("__ie_onload");
		script.onreadystatechange = function() {
			if (this.readyState == "complete") {
				coreIntextInitLoad(); // call the onload handler
			}
		};
	/*@end @*/

/* for Safari */
if (/WebKit/i.test(navigator.userAgent)) { // sniff
	var _timer = setInterval(function() {
		if (/loaded|complete/.test(document.readyState)) {
			coreIntextInitLoad(); // call the onload handler
		}
	}, 10);
}


/* for other browsers */
//window.onload = coreIntextInitLoad;



---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Mon, 25 Jul 2011 20:34:36 GMT
ETag: "aa66-4e2dd35c"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 43622
---Content---
/*!
  v 0.5.7

  trblib core
    Required for all trblib plugins. Contains sub-libraries require, run, util, fn, and plugins.
    
    trblib require
      Loads JavaScript / CSS files dynamically.
    
    trblib run
      Event runner consolidating multiple events with a common handler. Allows custom events.
    
    trlib util
      Various utility methods.
    
    trblib fn
      Public API for code common to a distributed sub-library (e.g. plugins).
      
    trblib plugins
      Distributed, dynamically loaded plugin system using evented roles in a publish / subscribe 
      pattern with implictly invoked lazy instantiation. Actual plugins defined outside trblib
      core. All instances of a plugin use same runner and router.
      
      To register (load & enable) a plugin, call trblib.fn.plugins.register(pluginName).
  
  Author: Dan Krecichwost
*/

(function(window, $) {
  var document = window.document,
      trblib = window.trblib = window.trblib || {},
      data = trblib.data = {},
      old,
      root = $.root = $(document),
      find = root.find,
      urlMap = {},
      rAttributeCleanup = /[\n\t\r]/g,
      rSpace = /\s+/,
      rSpaceGlobal = /\s+/g,
      rQueryString = /([^\[=&]+)(\[\])?(?:=([^&]*))?/g,
      // used to decide whether to call trblib.element.reflow
      forceReflow = jQuery.browser.msie && jQuery.browser.version < 9,
      windowParams;
  
  // temporary - need correct version of jQuery
  trblib.jQuery = $;
  
  // iepp v1.6.2 MIT @jon_neal - http://www.iecss.com/print-protector/
  /*@cc_on(function(k,o){var a="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",f=a.split("|"),d=f.length,b=new RegExp("(^|\\s)("+a+")","gi"),h=new RegExp("<(/*)("+a+")","gi"),m=new RegExp("(^|[^\\n]*?\\s)("+a+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),p=o.createDocumentFragment(),i=o.documentElement,n=i.firstChild,c=o.createElement("body"),g=o.createElement("style"),j;function e(r){var q=-1;while(++q<d){r.createElement(f[q])}}function l(u,s){var r=-1,q=u.length,v,t=[];while(++r<q){v=u[r];if((s=v.media||s)!="screen"){t.push(l(v.imports,s),v.cssText)}}return t.join("")}e(o);e(p);n.insertBefore(g,n.firstChild);g.media="print";k.attachEvent("onbeforeprint",function(){var r=-1,u=l(o.styleSheets,"all"),t=[],w;j=j||o.body;while((w=m.exec(u))!=null){t.push((w[1]+w[2]+w[3]).replace(b,"$1.iepp_$2")+w[4])}g.styleSheet.cssText=t.join("\n");while(++r<d){var s=o.getElementsByTagName(f[r]),v=s.length,q=-1;while(++q<v){if(s[q].className.indexOf("iepp_")<0){s[q].className+=" iepp_"+f[r]}}}p.appendChild(j);i.appendChild(c);c.className=j.className;c.innerHTML=j.innerHTML.replace(h,"<$1font")});k.attachEvent("onafterprint",function(){c.innerHTML="";i.removeChild(c);i.appendChild(j);g.styleSheet.cssText=""})})(this,document);@*/
  
  trblib.util = $.extend({
    // TODO add adler32, sharding, and base URL concepts to trblib.require
    adler32: function adler32(s) {
      var s1 = 1, s2 = 0, b, i = -1;
      while ((b = s.charCodeAt(++i))) {
        s1 = (s1 + b) % 65521;
       	s2 = (s2 + s1) % 65521;
      }
      return s2 << 16 | s1;
    },
    inject: function inject(t, o) {
      for (var x in o) if (!t[x] && o.hasOwnProperty(x)) t[x] = o[x];
    },
    absolutizeUrl: function absolutizeUrl(url) {
      var absoluteUrl;
      if ((absoluteUrl = urlMap[url])) return absoluteUrl;
      
      absoluteUrl = document.createElement('div');
      absoluteUrl.innerHTML = '<a href="' + url + '">d</a>';
      return (urlMap[url] = absoluteUrl.firstChild.href);
    },
    // object can be an element
    expandQueryString: function expandQueryString(queryString, object) {
      var params = typeof object == 'object' ? object : {},
          value;
      if (queryString && typeof queryString == 'string') queryString.replace(rQueryString, function(a, b, c, d) {
        value = d === undefined || d === '' ? true : d;
        if (c) {
          (params[b] || (params[b] = [])).push(value);
        } else {
          params[b] = value;
        }
      });
      return params;
    }
  }, trblib.util);
  
  trblib.ns = function(namespaceString, base) {
    if (!base) base = window;
    for (var i = -1, spaces = (namespaceString += '').split('.'), sl = spaces.length; ++i < sl;) {
       base = base[spaces[i]] || (base[spaces[i]] = {});
    }
    return base;
  };
  
  windowParams = data.windowParams = (function() {
    var queryStringIndex = location.href.indexOf('?');
    return queryStringIndex > -1 ? trblib.util.expandQueryString(location.href.substring(queryStringIndex + 1, location.href.length)) : {};
  })();
  
  
  old = trblib.require;
  trblib.require = (function require() {
    
    var a = arguments,
        head,
        _anchor = function() {
          head = document.head || document.getElementsByTagName( "head" )[0] || document.documentElement;
        },
        loadAsync = document.createElement('script').async === true || 'MozAppearance' in document.documentElement.style || window.opera,
        require = $.extend(function require() {

          var a = arguments,
              i;
          
          if ((i = a[0]) && (i = typeof i === 'boolean' ? require.delay : parseInt(i))) {
            setTimeout(function() {
              require.apply(require, Array.prototype.slice.call(a, 1));
            }, i);
            return;
          }
          if (!head) _anchor();
          
          i = a.length-1;
          var hasO = true,
              o = a[i],
              t = typeof o,
              su, b, x;
          
          if (t !== 'object' || o.url) {
            o = {};
          } else {
            --i;
          }
          if (!su && typeof a[i] === 'function') su = a[i--];
          if (su) o.success = su;
          
          b = new ResourceBundle(o);
          
          for (x = 0; x <= i; x++) {
            resourceBundleMethods_.addResource.call(b, a[x]);
          }
          b.ready = true;
          resourceBundleMethods_.update.call(b);

          return b;
        }, {
          resources: {},
          length: 0,
          resourceBundles: [],
          delay: 100
        }, old),
        resourceMethods_ = {
          notifyLoaded: function() {
            this.loaded = true;
            var bs = this.bundles;
            for (var i = 0; i < bs.length; i++) {
              resourceBundleMethods_.notifyResourceLoaded.call(bs[i]);
            }
          },
          notifyFailed: function() {
            this.failed = true;
            var bs = this.bundles;
            for (var i = 0; i < bs.length; i++) {
              resourceBundleMethods_.notifyResourceFailed.call(bs[i]);
            }
          },
          registerBundle: function(b) {
            this.bundles.push(b);
          }
        }, resourceBundleMethods_ = {
          addResource: function(o) {
            if (!o) return;
            var url = o, type, force = false, a, i, x;
            if (typeof o === 'object') {
              url = o.url;
              type = o.type;
              force = o.force;
            } else if (o.indexOf('!' > -1)) {
              a = o.split('!');
              url = a[0];
              i = 0;
              while ((x = a[++i])) {
                if (x == 'css') {
                  type = 'css';
                } else if (x == 'force') {
                  force = true;
                }
              } 
            }
            // no URL, so no resource to add
            if (!url) return;
            // make sure URL is absolute -- ensures only one instance of a resource on page
            url = trblib.util.absolutizeUrl(url);
            // if the library already knows of the resource
            var r = Resource.collection[url];
            ++this.loading;
            if (r) {
              if (force || r.failed) {
                this.loaded = false;
                r.type == 'js' ? createScript_(r) : createLink_(r);
              } else if (!r.loaded) {
                this.loaded = false;
              }
            } else {
              r = new Resource(null, url, type, !loadAsync && this.loading > 1);
              if (!r.loaded) this.loaded = false;
            }
            this[this.length++] = r;
            resourceMethods_.registerBundle.call(r, this);
          },
          notifyResourceLoaded: function() {
            if (--this.loading <= 0) {
              this.loaded = true;
              resourceBundleMethods_.update.call(this);
            }
          },
          notifyResourceFailed: function() {
            this.failed = true;
            if (--this.loading <= 0) {
              resourceBundleMethods_.update.call(this);
            }
          },
          update: function() {
            var t = this;
            if (t.ready && !t.executed) {
              if (t.loaded) {
                if (t.success) t.success();
                t.executed = true;
              } else if (t.failed) {
                if (t.failure) t.failure();
              }
            }
          }
        };
    
    
    function ResourceBundle(o) {
      $.extend(this, o);
      this.collection.push(this);
    };
    ResourceBundle.prototype = {
      collection: (ResourceBundle.collection = require.resourceBundles),
      loaded: true,
      loading: 0,
      failed: false,
      executed: false,
      length: 0,
      toArray: function() {
    		return Array.prototype.slice.call(this);
    	},
    	splice: [].splice
    };
    
    function Resource(element, url, type, noExecute) {
      var t = this;
      t.bundles = [];
      if (element) {
        if (!url) url = trblib.util.absolutizeUrl(element.src || element.href);
        t.element = element;
        t.collection[(t.url = url)] = t;
        t.type = element.nodeName == 'SCRIPT' ? 'js' : 'css';
        t.noExecute = element.type && /^text\/(?:javascript|css)$/.test(element.type);
        t.loaded = true;
      } else {
        t.collection[(t.url = url)] = t;
        t.type = type || /(?:(?:(?:[^?]*?)(?:\.css(?:\?|$))){1,1}|!css)/.test(url) ? 'css' : 'js';
        t.noExecute = noExecute;
        t.element = (t.type == 'js' ? createScript_ : createLink_)(t);
      }
    }
    Resource.prototype = {
      collection: (Resource.collection = require.resources),
      loaded: false,
      failed: false
    };
    
    function eventAttach_(s, r) {
      function g() {
        resourceMethods_.notifyLoaded.call(r);
      }
      function f() {
        resourceMethods_.notifyFailed.call(r);
      }
      if (s.addEventListener) {
        s.addEventListener('load', g, false);
        s.addEventListener('error', f, false);
      } else if (s.attachEvent) {
        s.attachEvent('onreadystatechange', function(e) {
          var t = e.srcElement;
          if (!r.loaded && (/loaded|complete/.test(t.readyState))) {
            g();
          }
        });
        s.attachEvent('onerror', f);
      }
    }
    
    function createScript_(r) {
      var s = document.createElement('script');
      eventAttach_(s, r);
      s.src = r.url;
      s.async = true;
      head.appendChild(s);
      return s;
    }
    
    function createLink_(r) {
      var s, b = $.browser;
      if (b.mozilla) {
        s = document.createElement('style');
        s.textContent = '@import "' + r.url + '"';
      } else {
        s = document.createElement('link');
        s.rel = 'stylesheet';
        s.href = r.url;
      }  
      if (r.media) s.media = r.media;
      if (b.msie || b.opera) {
          eventAttach_(s, r);
      } else {
        var x, g, e = {
          // TODO fix non-live custom events for use of poll here
          type: 'poll',
          interval: 50
        }, o = {
          success: function() {
            resourceMethods_.notifyLoaded.call(r);
          },
          failure: function() {
            resourceMethods_.notifyFailure.call(r);
          },
          maxRuns: 200
        };
        if (b.webkit) {
          trblib.run(true, function() {
            var i = 0, h = s.href, l = document.styleSheets;
            while ((x = l[i++])) if (x.href == h) return true;
          }, e, o);
        } else {
          trblib.run(true, function() {
            try {
              return (g || (g = (x || (x = s.sheet || s.styleSheet)).cssRules || x.rules)) && g.length > 0;
            } catch(e) {
              return (e.code == 1000) || (/security|denied/i.test(e.message));
            }
          }, e, o);
        }
      }
      head.appendChild(s);
      return s;
    }
    
    var s, i = 0, ss = $('script[src], link[rel="stylesheet"]'), url, rs = require.resources;
    while ((s = ss[i++])) {
      url = trblib.util.absolutizeUrl(s.src || s.href);
      if (url && !rs[url]) {
        new Resource(s, url);
      }
    }
    
    return require;
  })();
  
  // TODO fix event propagation
  old = trblib.run;
  trblib.run = (function() {
    var a = arguments,
        rLive = /^([^:\s]+?)?(:live)?$/,
        run = $.extend(true, function run() {
          var a = arguments,
              testImmediately = false,
              i = 0,
              options = a[a.length - 1],
              test = a[0];
              
          if (typeof options !== "object") options = {};
          
          if (typeof test === "boolean") {
            testImmediately = test;
            test = a[++i];
          }  
          options.testImmediately = testImmediately;

          if (!(options.test = test) || !(options.events = a[++i])) return;
          var runner = new Runner(options);
          //console.log(runner)
          return runner;
        }, {
          delay: 250,
          // TODO consolidate boilerplate of custom event set and cancel methods
          customEvents: {
            poll: {
              set: function(eventModel, handler) {
                if (!eventModel.interval) eventModel.interval = eventModel.data[0] || eventModel.runner.delay;
                eventModel.id = setInterval((eventModel.handler = function() {
                  $(eventModel.target).trigger('poll');
                }), eventModel.interval);
              },
              cancel: function(eventModel) {
                clearInterval(eventModel.id);
              }
            },
            timedscroll: {
              set: function(eventModel, handler) {
                var lastTimestamp,
                    timeOffset;
                if (!eventModel.interval) eventModel.interval = eventModel.data[0] || eventModel.runner.delay;
                
                $(window).bind('scroll', (eventModel.handler = function(e) {
                  if (!eventModel.id) {
                    if (!lastTimestamp || (timeOffset = e.timeStamp - lastTimestamp) > eventModel.interval) {
                      $(eventModel.target).trigger(eventModel.type);
                      lastTimestamp = e.timeStamp;
                    } else {
                      eventModel.id = setTimeout(function() {
                        lastTimestamp = (new Date).getTime();
                        eventModel.id = null;
                        $(eventModel.target).trigger(eventModel.type);
                      }, eventModel.interval - timeOffset);
                    }
                  }
                }));
              },
              cancel: function(eventModel) {
                clearTimeout(eventModel.id);
                $(window).unbind('scroll', eventModel.handler);
              }
            },
            ready: {
              set: function(eventModel, handler) {
                $(document).bind('ready', (eventModel.handler = function() {
                  eventModel.cancel();
                  $(eventModel.target).trigger('ready');
                }));
              },
              cancel: function(eventModel) {
                $(document).unbind('ready', eventModel.handler);
              }
            }
          },
          runners: []
        }, old);
        
    function Runner(options) {
      var runner = this;
      $.extend(runner, options);
      run.runners.push(runner);
      runner.setEvents(runner.events);
    }
    
    Runner.prototype = {
      delay: run.delay,
      collection: run.runners,
      runs: 0,
      cancel: function(events) {
        var eventHash = this.eventHash,
            eventData, 
            i = -1;
        
        events = events ? _standardizeEvents(events) : this.events;
        while((eventModel = events[++i][eventData])) {
          eventModel.cancel && eventModel.cancel();
        }
      },
      setEvents: function(events) {
        var runner = this,
            eventHash = runner.eventHash || (runner.eventHash = {}),
            eventTypeHash = runner.eventTypeHash || (runner.eventTypeHash = {}),
            eventModel,
            eventData,
            i = -1;
        
        events = _standardizeEvents(events);
        
        runner.events = runner.events ? runner.events.concat(events) : events;
        
        while ((eventData = events[++i])) {
          if ((eventModel = _createEventModel(eventData, runner))) {
            eventHash[eventModel.toString()] = eventModel;
            _setEvent(eventModel);
            (eventTypeHash[eventModel.fulltype] || (eventTypeHash[eventModel.fulltype] = [])).push(eventModel);

            if (runner.testImmediately && !runner.completed) {
              eventModel.trigger();
            }
          }
        }
      }
    };

    function EventModel(eventData) {
      $.extend(this, eventData);
    }
    
    EventModel.prototype = {
      cancel: function() {
        _cancelEvent(this);
      },
      trigger: function(target) {
        _triggerEvent(this, target);
      },
      toString: function() {
        
        var eventModel = this,
            str = this.type;
        
        if (this.live) {
          str += ':live';
        }
        
        if (typeof this.target == 'string') {
          str += '!' + this.target;
        }
        
        if (eventModel.customEvent && eventModel.customEvent.hasOwnProperty('toString')) {
          str += eventModel.customEvent.toString();
        }
        
        return str; 
      }
    };
    
    // TODO should 2 targets exist - one live, one not?
    function _createEventModel(eventData, runner) {
      eventData.runner = runner;
      if (eventData.type) {
        eventData.customEvent = run.customEvents[eventData.type];      
        return new EventModel(eventData);
      }
    }
    
    function _setEvent(eventModel) {
      
      var runner = eventModel.runner,
          relatedModelArray,
          live = eventModel.live,
          extendedTarget,
          relatedModel,
          handler,
          i = 0;
      
      if (false && live && (relatedModelArray = runner.eventTypeHash[eventModel.fulltype]) && (relatedModel = relatedModelArray[0])) {
        
        handler = relatedModelArray[0].handler;
        extendedTarget = relatedModel.target;
        
        while ((relatedModel = relatedModelArray[++i])) {
          extendedTarget += ',' + relatedModel.target;
        }
        
        $(extendedTarget)[(live ? 'die' : 'unbind')](eventModel.type, handler);
        
        extendedTarget += ',' + eventModel.target;
      } else {
        var maxRuns = runner.maxRuns,
            success,
            failure,
            runNumber;
        
        handler = function(event) {
              runNumber = ++runner.runs;
              event.cancel = eventModel.cancel;
              event.eventModel = eventModel;
              event.runner = runner;
              if ((success = runner.test.call(eventModel, event)) || (failure = maxRuns && (runNumber >= maxRuns))) {
                if (!runner.completed) {
                  if (success) {
                    if (runner.success) runner.success(this);
                  } else if (failure) {
                    runner.failed = true;
                    if (runner.failure) runner.failure(this);
                  }
                  runner.completed = true;
                }
                runner.cancel();
              }
            };
        extendedTarget = eventModel.target;
      }
      
      $(extendedTarget)[(live ? 'live' : 'bind')](eventModel.type, (eventModel.handler = handler));
      
      if (eventModel.customEvent) {
        eventModel.customEvent.set(eventModel, handler);
      }
      eventModel.canceled = false;
    }
    
    function _cancelEvent(eventModel) {
      if (!eventModel.canceled) {
        eventModel.canceled = true;
        
        var relatedModelArray,
            type = eventModel.type,
            handler = eventModel.handler,
            live = eventModel.live;
        
        if (live && (relatedModelArray = eventModel.runner.eventTypeHash[eventModel.fulltype]) && relatedModelArray[0]) {
          
          var relatedModel,
              extendedTarget, 
              adjustedExtendedTarget,
              i = -1;
          
          while ((relatedModel = relatedModelArray[++i])) {
            extendedTarget += extendedTarget ? ',' + relatedModel.target : relatedModel.target;
            if (relatedModel != eventModel) {
              adjustedExtendedTarget += adjustedExtendedTarget ? ',' + relatedModel.target : relatedModel.target;
            }
          }
          
          $(extendedTarget)[(live ? 'die' : 'unbind')](type, handler);
          $(adjustedExtendedTarget)[(live ? 'live' : 'bind')](type, handler);
        } else {
          $(eventModel.target)[(live ? 'die' : 'unbind')](type, handler);
        }
        
      
        if (eventModel.customEvent) {
          eventModel.customEvent.cancel(eventModel);
        }
      }
    }
    
    function _triggerEvent(eventModel, target) {
      $(target || eventModel.target).trigger(eventModel.type);
    }
    
    function _standardizeEvents(events) {
      // events may be in string, object or array format; strings and objects are converted to arrays
      if (typeof events == 'string') {
        // pipe-separated serialized event string 
        events = events.split('|');
      } else if (typeof events == 'object') {
        // single event as object
        events = [events];
      }
      
      var eventData,
          i = -1;
      while ((eventData = events[++i])) {
        
        if (typeof eventData == 'string') {
          var eventDataArray = eventData.split('!'),
              eventName = eventDataArray.shift(),
              eventData = {
                data: eventDataArray
              },
              eventMatch;
          if (eventName) {
            eventMatch = eventName.match(rLive);
            eventData.type = eventMatch[1];
            eventData.live = !!eventMatch[2];
          }
          eventData.target = eventData.currentTarget = $.trim(eventDataArray.shift());
        }
        
        eventData.fulltype = eventData.type;
        if (eventData.live) {
          eventData.fulltype += ':live';
        }
        
        // the target is missing; default to document
        if (!eventData.target) eventData.target = document;
        if (!eventData.currentTarget) eventData.currentTarget = eventData.target;
        // live only works for selectors; turn it off if the target isn't a string
        if (eventData.live && !(typeof eventData.target == 'string')) eventData.live = false;
        
        events[i] = eventData;
      }
      
      return events;
    }
    
    return run;
  })();
  
  old = trblib.element;
  trblib.element = $.extend(true, {
    withinViewport: function withinViewport($element, topBuffer, bottomBuffer) {
      if (!(topBuffer = parseInt(topBuffer))) topBuffer = 0;
      if (!(bottomBuffer = parseInt(bottomBuffer))) bottomBuffer = 0;
      var scrollTop = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop,
          scrollBottom = scrollTop + (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight),
          elementTopOffset = $element.offset().top;

      return scrollBottom > elementTopOffset - topBuffer && scrollTop < elementTopOffset + $element.outerHeight() + bottomBuffer;
    },
    replaceWithHtml: function replaceWithHtml(element, html) {
      if (typeof element == 'object' && element.nodeType === 1) {
        var nodeContainer = document.createElement('div'),
            fragment = document.createDocumentFragment(),
            node,
            nodes,
            i = -1;
        nodeContainer.innerHTML = html;
        nodes = nodeContainer.childNodes;
        while ((node = nodes[++i])) {
          fragment.appendChild(node);
        }
        element.parentNode.replaceChild(fragment, element);
      }
    },
    hasAttributeSpacedValue: function hasAttributeSpacedValue(element, attributeName, value) {
      return $.find.matchesSelector(element, '[' + attributeName + '~="' + value + '"]');
    },
    addAttributeSpacedValue: function addAttributeSpacedValue(elements, attributeName, value) {
      if (value && typeof value == 'string' && (value = $.trim(value)) && typeof elements == 'object' && elements.length) {
        var attributeValue,
            addedAttributeValue,
            currentAttributeValue,
            values,
            valueItem,
            element;
      
        for (var i = 0, el = elements.length; i < el; i++) {
          element = elements[i];
          if (typeof element == 'object' && element.nodeType === 1) {
            if ((attributeValue = element.getAttribute(attributeName))) {
              addedAttributeValue = currentAttributeValue = (' ' + attributeValue + ' ').replace(rAttributeCleanup, ' ');
              for (var j = 0, vl = (values || (values = value.split(rSpace))).length; j < vl; j++) {
                if ((valueItem = values[j]) && (valueItem = ' ' + valueItem) && addedAttributeValue.indexOf(valueItem + ' ') < 0) {
                  addedAttributeValue += ' ' + valueItem;
                }
              }
              if (addedAttributeValue != currentAttributeValue) {
                element.setAttribute(attributeName, $.trim(addedAttributeValue.replace(rSpaceGlobal, ' ')));
                if (forceReflow) trblib.element.forceReflow(element);
              }
            } else {
              element.setAttribute(attributeName, value);
              if (forceReflow) trblib.element.forceReflow(element);
            }
          }
        }
      }
    },
    removeAttributeSpacedValue: function removeAttributeSpacedValue(elements, attributeName, value) {
      if (typeof elements == 'object' && elements.length) {
        if (value && typeof value == 'string') {
          var values,
              attributeValue,
              removedAttributeValue,
              currentAttributeValue,
              valueItem,
              element;
          
          for (var i = 0, el = elements.length; i < el; i++) {
            element = elements[i];
            if (typeof element == 'object' && element.nodeType === 1 && (attributeValue = element.getAttribute(attributeName))) {
              removedAttributeValue = currentAttributeValue = (' ' + attributeValue + ' ').replace(rAttributeCleanup, ' ');
              for (var j = 0, vl = (values || (values = value.split(rSpace))).length; j < vl; j++) {
                if ((valueItem = values[j])) {
                  removedAttributeValue = removedAttributeValue.replace(' ' + valueItem + ' ', '');
                }
    					}
              if (removedAttributeValue != currentAttributeValue) {
                removedAttributeValue = $.trim(removedAttributeValue.replace(rSpaceGlobal, ' '));
                if (removedAttributeValue) {
                  element.setAttribute(attributeName, removedAttributeValue);
                } else {
                  element.removeAttribute(attributeName);
                }
                if (forceReflow) trblib.element.forceReflow(element);
              }
            }
          }
        } else {
          for (var i = 0, el = elements.length; i < el; i++) {
            element = elements[i];
            if (typeof element == 'object' && element.nodeType === 1) {
              elements[i].removeAttribute(attributeName);
              if (forceReflow) trblib.element.forceReflow(element);
            }
          }
        }
      }
    },
    // Use to force IE7 to reflow when style is affected by changes to attributes other than style, class, and id
    forceReflow: forceReflow ? function(element) {
      element.className = element.className;
    } : jQuery.noop
  }, old);
  
  trblib.log = function(data) {
    try {
      var console = window.console,
          log;
      if (console && (log = console.log)) {
        log(data);
      }
    } catch(e) {}
  };
  
  old = trblib.fn;
  trblib.fn = $.extend(true, {
    plugins: {
      defaultPath: '/hive/javascripts/plugins/',
      // TODO support changing events on both registered and unregistered plugins
      globalHandlers: {
        // uses trblib.log to output information related to current pluginInstance and event
        trb_log: function(event) {
          var logData = [
              'Event type: ', event.type, '\n',
              'Event live: ', !!event.live, '\n',
              'Event target: ', event.target, '\n',
              'Event baseTarget: '
          ];
          trblib.log(logData.join(''));
          trblib.log(event.currentTarget);
        },
        // stop event propagation
        trb_stopPropagation: function(event) {
          event.stopPropagation();
        },
        trb_stopImmediatePropagation: function(event) {
          event.stopPropagation();
        },
        trb_preventDefault: function(event) {
          event.preventDefault();
        }
      },
      loadByHandler: function(items, type) {
        var item,
            i = -1;
        while ((item = items[++i])) {
          var type = ((item.nodeName == 'IMG') ? 'img' : item.getAttribute('data-type')) || 'comment',
              loadHandler = trblib.fn.plugins.loadHandlers[type];
          if (loadHandler) {
            loadHandler(item);
          }
        }
      },
      loadHandlers: {
        iframe: function(item) {
          var element = document.createElement('iframe');
          trblib.util.expandQueryString(item.getAttribute('data-attr'), element);
          element.setAttribute('src', item.getAttribute('data-url'));
          element.setAttribute('frameBorder', element.frameBorder);
          item.parentNode.replaceChild(element, item);
        },
        comment: function(item) {
          var commentNode,
              nodes = item.childNodes,
              i = -1;
          while((commentNode = nodes[++i])) {
            if (commentNode.nodeType == 8) {
              trblib.element.replaceWithHtml(item, commentNode.data);
            }
          }
        },
        img: function(item) {
          var dataUrl = item.getAttribute('data-url');
          item.removeAttribute('data-url');
          if (dataUrl) {
            item.src = dataUrl;
          }
        },
        noscript: function(item) {
          trblib.element.replaceWithHtml(item, item.innerHTML);
        },
        ajax: function(item) {
          var url = item.getAttribute('data-url');
          if (url) {
            $.ajax(url, {
              success: function(data) {
                trblib.element.replaceWithHtml(item, data);
              }
            });
          }
        }
      },
      hasRole: function hasRole(element, role) {
        return trblib.element.hasAttributeSpacedValue(element, 'data-role', role);
      },
      addRole: function addRole(elements, role) {
        trblib.element.addAttributeSpacedValue(elements, 'data-role', role);
      },
      removeRole: function removeRole(elements, role) {
        trblib.element.removeAttributeSpacedValue(elements, 'data-role', role);
      },
      // TODO change concept of links to mixins; reevaluate necessity and usefulness
      addLink: function addLink(plugin, link) {
        if (!plugin.links) plugin.links = [];
        plugin.links.push(link);
      },
      removeLink: function removeLink(plugin, link) {
        var links = plugin.links,
            offset;
        if (links) {
          if (links.length <= 1) {
            plugin.links = null;
          } else if ((offset = $.inArray(link, links)) > -1) {
            links.splice(offset, 1);
          }
        }
      },
      router: function router(event, linkInstance) {
        //trblib.log(event.type)
        var baseElement = baseElement = event.currentTarget,
            baseElementRole = baseElement.getAttribute('data-role'),
            plugin;
            
        if (baseElementRole) {
          for (var i = 0, roles = baseElementRole.split(' '), rl = roles.length; i < rl; i++) {
            if ((plugin = trblib.plugins[roles[i]]) && plugin.registered) {
              plugin.router(event, linkInstance);
            }
          }
        }
      },
      register: function register(plugin, options, callback, pluginPath) {
        
        if (typeof plugin === 'string') {
          if (trblib.plugins[plugin]) {
            plugin = trblib.plugins[plugin];
          } else {
            trblib.require(true, (pluginPath || trblib.fn.plugins.defaultPath) + plugin + '.js', function() {
              trblib.fn.plugins.register(trblib.plugins[plugin], options, callback, pluginPath);
            });
            return;
          }
        }
        
        if (plugin && !plugin.registered) {
        
          plugin.registered = true;
          if (!plugin.instances) plugin.instances = [];
          
          if (plugin.requiredLinks) {
            var link, i = -1;
            while ((link = trblib.plugins[plugin.requiredLinks[++i]])) {
              trblib.fn.plugins.addLink(link, plugin);
              if (!link.registered) trblib.fn.plugins.register(link);
            }
          }
          
          var pluginName = plugin.name,
              dataIdAttribute = 'data-' + pluginName + '-id',
              routerContinue = true,
              router,
              runner = trblib.fn.plugins.runner,
              pluginConstructor = function() {};
          
          pluginConstructor.prototype = plugin;
          
          if (runner) {
            runner.setEvents(plugin.events);
          } else {
            runner = trblib.fn.plugins.runner = trblib.run(trblib.fn.plugins.router, plugin.events);
          }
          plugin.runner = runner;
          
          router = plugin.router = function router(event, linkInstance) {
              
            var eventHandlers = plugin.handlers,
                links = plugin.links,
                link,
                i = -1;
            
            if (eventHandlers || links) {
              var targetElement = event.target,
                  baseElement = event.currentTarget,
                  eventTypeHandler = eventHandlers && eventHandlers[event.type],
                  globalHandlers = trblib.fn.plugins.globalHandlers,
                  pluginInstance = plugin.instances[baseElement[dataIdAttribute]],
                  currentElement = targetElement,
                  withinBaseElement,
                  pluginOptions,
                  roleData,
                  roleList,
                  role,
                  objectHandler,
                  handlerResponse;
              
              // TODO delay instantiation further by first making sure matching handlers exist
              //      this is reasonable since instance specific handlers are not possible anyway
              if (!pluginInstance) {
                pluginOptions = baseElement.getAttribute('data-opt');
                pluginInstance = plugin.instances[(baseElement[dataIdAttribute] = plugin.instances.length++)] = new pluginConstructor();
                pluginInstance.data = {
                  options: $.trim(pluginOptions) ? trblib.util.expandQueryString(pluginOptions) : {},
                  $baseElement: $(baseElement)
                };
                pluginInstance.baseElement = baseElement;
                if (plugin.init) plugin.init.call(pluginInstance, event);
              }
              
              // TODO split event handlers into instance and static
              if (eventTypeHandler && (typeof eventTypeHandler == 'function' ? eventTypeHandler.call(pluginInstance, event) : true)) {
                do {
                  withinBaseElement = baseElement != currentElement;
                  
                  if ((roleData = $.trim(currentElement.getAttribute('data-role')))) {
                    roleList = roleData.split(' ');
                    
                    while ((role = roleList[++i])) {
                      //console.log(event.type + ': ' + role);
                      objectHandler = eventTypeHandler[role];
                      // TODO consider a filter chain model (using yield-esque functionality) instead
                      if ((objectHandler || (objectHandler = globalHandlers[role])) && objectHandler.call(pluginInstance, event, linkInstance) === false) {
                        routerContinue = false;
                        break;
                      }
                    }
                    i = -1;
                  }
                } while (routerContinue && withinBaseElement && (currentElement = currentElement.parentNode)); 
              }
              
              if (links) {
                while ((link = links[++i])) {
                  link.router(event, pluginInstance);
                }
              }

              //} else {
              //  if ((eventTypeHandler = eventHandlers && eventHandlers[event.type]) && (typeof eventTypeHandler == 'function')) return eventTypeHandler.call(plugin, event);
              //}

              routerContinue = true;
            }
        
          }
          
          router.stopPropagation = function stopPropagation() {
            routerContinue = false;
          }
          
          if (callback) callback(plugin);
        }  

        if (options) {
          if (typeof options == 'string') options = trblib.util.expandQueryString(options);
          for (var x in options) {
            if (plugin.reghelpers && plugin.reghelpers.register[x]) {
              plugin.reghelpers.register[x](plugin, options[x]);
            } else {
              plugin.runner.setEvents(x + '![data-role~=' + plugin.name + ']');
            }
          }
        }
      },
      unregister: function(plugin) {
        
        if (typeof plugin === 'string' && trblib.plugins[plugin]) {
          plugin = trblib.plugins[plugin];
        }
        
        if (plugin && plugin.registered) {
          plugin.registered = false;
          
          for (var pluginInstance, pluginInstances = plugin.instances, pil = pluginInstances.length, i = 0; pil < i; i++) {
            pluginInstance = pluginInstances[i++];
            if (pluginInstance.cleanup) pluginInstance.cleanup.call(pluginInstance);
            try {
              delete pluginInstance.baseElement[attrName];
            } catch(e) {
              pluginInstance.baseElement[attrName] = null;
            }
            pluginInstance.baseElement = null;
          }

          plugin.router.stopPropagation();
        }
        plugin.instances = null;
      },
      getInstanceId: function getInstanceId(plugin, baseElement) {
        if (typeof plugin === 'string' && trblib.plugins[plugin]) {
          plugin = trblib.plugins[plugin];
        }

        if (plugin && typeof baseElement == 'object' && baseElement.nodeType === 1) {
          return parseInt(baseElement['data-' + plugin.name + '-id']);
        }
      },
      getInstance: function getInstance(plugin, baseElement) {
        var instanceId = getInstanceId(plugin, baseElement);
        if (instanceId > -1) return plugin.instances[instanceId];
      },
      unregisterInstance: function unregisterInstance(plugin, baseElement) {

        if (typeof plugin === 'string' && trblib.plugins[plugin]) {
          plugin = trblib.plugins[plugin];
        }

        if (plugin && typeof baseElement == 'object' && baseElement.nodeType === 1) {
          var attrName = 'data-' + plugin.name + '-id',
              instanceId = parseInt(baseElement[attrName]),
              pluginInstance;

          if (instanceId > -1) {
            try {
              delete baseElement[attrName];
            } catch(e) {
              baseElement[attrName] = null;
            }
            if ((pluginInstance = instanceId > -1 ? plugin.instances[instanceId] : null)) {
              plugin.instances[instanceId] = null;
              if (pluginInstance.cleanup) pluginInstance.cleanup.call(pluginInstance);
              pluginInstance.baseElement = null;
              return true;
            }
          }
        }
        return false;
      }
    }
  }, old);
  
  old = trblib.plugins;
  trblib.plugins = $.extend(true, {
    // to use timedscroll, include it as a link from a different module and call cancelScroll once the event has been completed
    delayload: {
      name: 'delayload',
      handlers: {
        timedscroll: function() {
          this.fn.cancelLoadEvents(this);
          this.fn.load(this);
        },
        ready: function() {
          this.fn.cancelLoadEvents(this);
          this.fn.load(this);
        },
        poll: function() {
          this.fn.load(this);
        }
      },
      fn: {
        load: function(pluginInstance) {
          var $baseElement = pluginInstance.data.$baseElement;
          if (trblib.element.withinViewport($baseElement, 500, 500)) {
            var $items = $baseElement.find('[data-role~=delayload_item]');
            if ($items.length) {
              trblib.fn.plugins.removeRole($items, 'delayload_item');
              trblib.fn.plugins.loadByHandler($items);
            }
            pluginInstance.fn.cancel(pluginInstance);
          }
        },
        cancel: function(pluginInstance) {
          trblib.fn.plugins.removeRole(pluginInstance.data.$baseElement, pluginInstance.name);
        },
        cancelLoadEvents: function(pluginInstance) {
          var events = pluginInstance.runner.eventHash;
          if (!jQuery.isReady && events['ready:live![data-role~=delayload]']) {
            events['ready:live![data-role~=delayload]'].cancel();
          }
          if (events['poll:live![data-role~=delayload]']) {
            events['poll:live![data-role~=delayload]'].cancel();
          }
        }
      },
      events: 'timedscroll:live![data-role~=delayload]|poll:live![data-role~=delayload]|ready:live![data-role~=delayload]',
      init: function() {
        var data = this.data,
            options = data.options,
            offsetTop = offsetBottom = 500;
        if (options.offset) {
          options.offset = offsetTop = offsetBottom = parseInt(options.offset);
        }
        if (options.offsetTop) {
          options.offsetTop = offsetTop = parseInt(options.offsetTop);
        }
        if (options.offsetBottom) {
          options.offsetBottom = offsetBottom = parseInt(options.offsetBottom);
        }
        data.offsetTop = offsetTop;
        data.offsetBottom = offsetBottom;
      }
    },
    base: {
      name: 'base',
      handlers: {},
      events: ''
    }
  }, old);
  
  // Automatically register all existing modules
  //for (var plugin in trblib.plugins) {
  //  if (trblib.plugins.hasOwnProperty(plugin)) trblib.fn.plugins.register(trblib.plugins[plugin]);
  //}

})(window, jQuery);

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/tugs.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Fri, 03 Apr 2009 22:16:41 GMT
ETag: "73a-49d68ac9"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 1850
---Content---
windoids = new Array();

function windoid (url, name, width, height, props, autoClose) {
	var winProps;
	
	// If the props argument isn't specified, make the window resizable and scrollable
	if (props == null)
		winProps = 'resizable=1,scrollbars=1';
	else
		winProps = props;
	
	if (width != null && width != '') {
		// Try not to open a window wider than the screen
		if (window.screen && width > window.screen.availWidth)
			winProps += ',outerWidth=' + window.screen.availWidth;
		else
			winProps += ',width=' + width;
	}
	
	if (height != null && height != '') {
		// Try not to open a window taller than the screen
		if (window.screen && height > window.screen.availHeight)
			winProps += ',outerHeight=' + window.screen.availHeight;
		else
			winProps += ',height=' + height;
	}
	
	if (winProps.charAt(0) == ',')
		winProps = winProps.substring(1);

	var winName;

	if (name == null || name == '')
		winName = '_blank';
	else
		winName = name;
	
	var win = window.open(url, winName, winProps);
	if (win.focus && winName != '_blank') {
		// Bug in AOL 5.0 causes javascript error when
		// window.focus() is called before the page loads.
		if (navigator.appVersion.indexOf('AOL') < 0) {
			win.focus();
		}
	}
	
	if (autoClose == true) {
		var addedToList = false;
		for (var i=0; i<windoids.length; i++) {
			if (windoids[i].closed) {
				windoids[i] = win;
			}
		}
		
		if (!addedToList) {
			windoids[windoids.length++] = win;
		}
	}
}


function closeWindoids () {
	for (var i=0; i<windoids.length; i++) {
		var win = windoids[i];
		if (!win.closed) {
			win.close();
		}
	}
}


function loadParent (url) {
	if (window.top.opener && !window.top.opener.closed) {
		var win = window.top.opener;
		win.location = url;
		if (win.focus) {
			win.focus();
		}
	} else {
		window.open(url, '_blank', '');	
	}
}


window.onunload = closeWindoids;

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 23 Jul 2009 22:12:52 GMT
ETag: "427-4a68e064"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 1063
---Content---
var Scriptaculous={Version:'1.8.1',require:function(libraryName){document.write('<script type="text/javascript" src="'+libraryName+'"><\/script>');},REQUIRED_PROTOTYPE:'1.6.0',load:function(){function convertVersionString(versionString){var r=versionString.split('.');return parseInt(r[0])*100000+parseInt(r[1])*1000+parseInt(r[2]);}
if((typeof Prototype=='undefined')||(typeof Element=='undefined')||(typeof Element.Methods=='undefined')||(convertVersionString(Prototype.Version)<convertVersionString(Scriptaculous.REQUIRED_PROTOTYPE)))
throw("script.aculo.us requires the Prototype JavaScript framework >= "+
Scriptaculous.REQUIRED_PROTOTYPE);$A(document.getElementsByTagName("script")).findAll(function(s){return(s.src&&s.src.match(/scriptaculous\.js(\?.*)?$/))}).each(function(s){var path=s.src.replace(/scriptaculous\.js(\?.*)?$/,'');var includes=s.src.match(/\?.*load=([a-z,]*)/);(includes?includes[1]:'builder,effects,dragdrop,controls,slider,sound').split(',').each(function(include){Scriptaculous.require(path+include+'.js')});});}}
Scriptaculous.load();
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Length: 23955
Content-Type: application/x-javascript
Vary: accept-encoding
P3P: policyref="http://www.courant.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 23 Jul 2009 22:12:51 GMT
ETag: "5d93-4a68e063"
Accept-Ranges: bytes
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/adv_global.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 27 Oct 2009 02:02:23 GMT
ETag: "dfa6-4ae654af"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Length: 19741
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@6d08d69f
---Content---
var Prototype={Version:'1.6.0.3',Browser:{IE:!!(window.attachEvent&&navigator.userAgent.indexOf('Opera')===-1),Opera:navigator.userAgent.indexOf('Opera')>-1,WebKit:navigator.userAgent.indexOf('AppleWebKit/')>-1,Gecko:navigator.userAgent.indexOf('Gecko')>-1&&navigator.userAgent.indexOf('KHTML')===-1,MobileSafari:!!navigator.userAgent.match(/Apple.*Mobile.*Safari/)},BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:document.createElement('div')['__proto__']&&document.createElement('div')['__proto__']!==document.createElement('form')['__proto__']},ScriptFragment:'<script[^>]*>([\\S\\s]*?)<\/script>',JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(x){return x}};if(Prototype.Browser.MobileSafari)
Prototype.BrowserFeatures.SpecificElementExtensions=false;var Class={create:function(){var parent=null,properties=$A(arguments);if(Object.isFunction(properties[0]))
parent=properties.shift();function klass(){this.initialize.apply(this,arguments);}
Object.extend(klass,Class.Methods);klass.superclass=parent;klass.subclasses=[];if(parent){var subclass=function(){};subclass.prototype=parent.prototype;klass.prototype=new subclass;parent.subclasses.push(klass);}
for(var i=0;i<properties.length;i++)
klass.addMethods(properties[i]);if(!klass.prototype.initialize)
klass.prototype.initialize=Prototype.emptyFunction;klass.prototype.constructor=klass;return klass;}};Class.Methods={addMethods:function(source){var ancestor=this.superclass&&this.superclass.prototype;var properties=Object.keys(source);if(!Object.keys({toString:true}).length)
properties.push("toString","valueOf");for(var i=0,length=properties.length;i<length;i++){var property=properties[i],value=source[property];if(ancestor&&Object.isFunction(value)&&value.argumentNames().first()=="$super"){var method=value;value=(function(m){return function(){return ancestor[m].apply(this,arguments)};})(property).wrap(method);value.valueOf=method.valueOf.bind(method);value.toString=method.toString.bind(method);}
this.prototype[property]=value;}
return this;}};var Abstract={};Object.extend=function(destination,source){for(var property in source)
destination[property]=source[property];return destination;};Object.extend(Object,{inspect:function(object){try{if(Object.isUndefined(object))return'undefined';if(object===null)return'null';return object.inspect?object.inspect():String(object);}catch(e){if(e instanceof RangeError)return'...';throw e;}},toJSON:function(object){var type=typeof object;switch(type){case'undefined':case'function':case'unknown':return;case'boolean':return object.toString();}
if(object===null)return'null';if(object.toJSON)return object.toJSON();if(Object.isElement(object))return;var results=[];for(var property in object){var value=Object.toJSON(object[property]);if(!Object.isUndefined(value))
results.push(property.toJSON()+': '+value);}
return'{'+results.join(', ')+'}';},toQueryString:function(object){return $H(object).toQueryString();},toHTML:function(object){return object&&object.toHTML?object.toHTML():String.interpret(object);},keys:function(object){var keys=[];for(var property in object)
keys.push(property);return keys;},values:function(object){var values=[];for(var property in object)
values.push(object[property]);return values;},clone:function(object){return Object.extend({},object);},isElement:function(object){return!!(object&&object.nodeType==1);},isArray:function(object){return object!=null&&typeof object=="object"&&'splice'in object&&'join'in object;},isHash:function(object){return object instanceof Hash;},isFunction:function(object){return typeof object=="function";},isString:function(object){return typeof object=="string";},isNumber:function(object){return typeof object=="number";},isUndefined:function(object){return typeof object=="undefined";}});Object.extend(Function.prototype,{argumentNames:function(){var names=this.toString().match(/^[\s\(]*function[^(]*\(([^\)]*)\)/)[1].replace(/\s+/g,'').split(',');return names.length==1&&!names[0]?[]:names;},bind:function(){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var __method=this,args=$A(arguments),object=args.shift();return function(){return __method.apply(object,args.concat($A(arguments)));}},bindAsEventListener:function(){var __method=this,args=$A(arguments),object=args.shift();return function(event){return __method.apply(object,[event||window.event].concat(args));}},curry:function(){if(!arguments.length)return this;var __method=this,args=$A(arguments);return function(){return __method.apply(this,args.concat($A(arguments)));}},delay:function(){var __method=this,args=$A(arguments),timeout=args.shift()*1000;return window.setTimeout(function(){return __method.apply(__method,args);},timeout);},defer:function(){var args=[0.01].concat($A(arguments));return this.delay.apply(this,args);},wrap:function(wrapper){var __method=this;return function(){return wrapper.apply(this,[__method.bind(this)].concat($A(arguments)));}},methodize:function(){if(this._methodized)return this._methodized;var __method=this;return this._methodized=function(){return __method.apply(null,[this].concat($A(arguments)));};}});Date.prototype.toJSON=function(){return'"'+this.getUTCFullYear()+'-'+
(this.getUTCMonth()+1).toPaddedString(2)+'-'+
this.getUTCDate().toPaddedString(2)+'T'+
this.getUTCHours().toPaddedString(2)+':'+
this.getUTCMinutes().toPaddedString(2)+':'+
this.getUTCSeconds().toPaddedString(2)+'Z"';};var Try={these:function(){var returnValue;for(var i=0,length=arguments.length;i<length;i++){var lambda=arguments[i];try{returnValue=lambda();break;}catch(e){}}
return returnValue;}};RegExp.prototype.match=RegExp.prototype.test;RegExp.escape=function(str){return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g,'\\$1');};var PeriodicalExecuter=Class.create({initialize:function(callback,frequency){this.callback=callback;this.frequency=frequency;this.currentlyExecuting=false;this.registerCallback();},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},execute:function(){this.callback(this);},stop:function(){if(!this.timer)return;clearInterval(this.timer);this.timer=null;},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute();}finally{this.currentlyExecuting=false;}}}});Object.extend(String,{interpret:function(value){return value==null?'':String(value);},specialChar:{'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','\\':'\\\\'}});Object.extend(String.prototype,{gsub:function(pattern,replacement){var result='',source=this,match;replacement=arguments.callee.prepareReplacement(replacement);while(source.length>0){if(match=source.match(pattern)){result+=source.slice(0,match.index);result+=String.interpret(replacement(match));source=source.slice(match.index+match[0].length);}else{result+=source,source='';}}
return result;},sub:function(pattern,replacement,count){replacement=this.gsub.prepareReplacement(replacement);count=Object.isUndefined(count)?1:count;return this.gsub(pattern,function(match){if(--count<0)return match[0];return replacement(match);});},scan:function(pattern,iterator){this.gsub(pattern,iterator);return String(this);},truncate:function(length,truncation){length=length||30;truncation=Object.isUndefined(truncation)?'...':truncation;return this.length>length?this.slice(0,length-truncation.length)+truncation:String(this);},strip:function(){return this.replace(/^\s+/,'').replace(/\s+$/,'');},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,'');},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,'img'),'');},extractScripts:function(){var matchAll=new RegExp(Prototype.ScriptFragment,'img');var matchOne=new RegExp(Prototype.ScriptFragment,'im');return(this.match(matchAll)||[]).map(function(scriptTag){return(scriptTag.match(matchOne)||['',''])[1];});},evalScripts:function(){return this.extractScripts().map(function(script){return eval(script)});},escapeHTML:function(){var self=arguments.callee;self.text.data=this;return self.div.innerHTML;},unescapeHTML:function(){var div=new Element('div');div.innerHTML=this.stripTags();return div.childNodes[0]?(div.childNodes.length>1?$A(div.childNodes).inject('',function(memo,node){return memo+node.nodeValue}):div.childNodes[0].nodeValue):'';},toQueryParams:function(separator){var match=this.strip().match(/([^?#]*)(#.*)?$/);if(!match)return{};return match[1].split(separator||'&').inject({},function(hash,pair){if((pair=pair.split('='))[0]){var key=decodeURIComponent(pair.shift());var value=pair.length>1?pair.join('='):pair[0];if(value!=undefined)value=decodeURIComponent(value);if(key in hash){if(!Object.isArray(hash[key]))hash[key]=[hash[key]];hash[key].push(value);}
else hash[key]=value;}
return hash;});},toArray:function(){return this.split('');},succ:function(){return this.slice(0,this.length-1)+
String.fromCharCode(this.charCodeAt(this.length-1)+1);},times:function(count){return count<1?'':new Array(count+1).join(this);},camelize:function(){var parts=this.split('-'),len=parts.length;if(len==1)return parts[0];var camelized=this.charAt(0)=='-'?parts[0].charAt(0).toUpperCase()+parts[0].substring(1):parts[0];for(var i=1;i<len;i++)
camelized+=parts[i].charAt(0).toUpperCase()+parts[i].substring(1);return camelized;},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();},underscore:function(){return this.gsub(/::/,'/').gsub(/([A-Z]+)([A-Z][a-z])/,'#{1}_#{2}').gsub(/([a-z\d])([A-Z])/,'#{1}_#{2}').gsub(/-/,'_').toLowerCase();},dasherize:function(){return this.gsub(/_/,'-');},inspect:function(useDoubleQuotes){var escapedString=this.gsub(/[\x00-\x1f\\]/,function(match){var character=String.specialChar[match[0]];return character?character:'\\u00'+match[0].charCodeAt().toPaddedString(2,16);});if(useDoubleQuotes)return'"'+escapedString.replace(/"/g,'\\"')+'"';return"'"+escapedString.replace(/'/g,'\\\'')+"'";},toJSON:function(){return this.inspect(true);},unfilterJSON:function(filter){return this.sub(filter||Prototype.JSONFilter,'#{1}');},isJSON:function(){var str=this;if(str.blank())return false;str=this.replace(/\\./g,'@').replace(/"[^"\\\n\r]*"/g,'');return(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(str);},evalJSON:function(sanitize){var json=this.unfilterJSON();try{if(!sanitize||json.isJSON())return eval('('+json+')');}catch(e){}
throw new SyntaxError('Badly formed JSON string: '+this.inspect());},include:function(pattern){return this.indexOf(pattern)>-1;},startsWith:function(pattern){return this.indexOf(pattern)===0;},endsWith:function(pattern){var d=this.length-pattern.length;return d>=0&&this.lastIndexOf(pattern)===d;},empty:function(){return this=='';},blank:function(){return/^\s*$/.test(this);},interpolate:function(object,pattern){return new Template(this,pattern).evaluate(object);}});if(Prototype.Browser.WebKit||Prototype.Browser.IE)Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},unescapeHTML:function(){return this.stripTags().replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>');}});String.prototype.gsub.prepareReplacement=function(replacement){if(Object.isFunction(replacement))return replacement;var template=new Template(replacement);return function(match){return template.evaluate(match)};};String.prototype.parseQuery=String.prototype.toQueryParams;Object.extend(String.prototype.escapeHTML,{div:document.createElement('div'),text:document.createTextNode('')});String.prototype.escapeHTML.div.appendChild(String.prototype.escapeHTML.text);var Template=Class.create({initialize:function(template,pattern){this.template=template.toString();this.pattern=pattern||Template.Pattern;},evaluate:function(object){if(Object.isFunction(object.toTemplateReplacements))
object=object.toTemplateReplacements();return this.template.gsub(this.pattern,function(match){if(object==null)return'';var before=match[1]||'';if(before=='\\')return match[2];var ctx=object,expr=match[3];var pattern=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;match=pattern.exec(expr);if(match==null)return before;while(match!=null){var comp=match[1].startsWith('[')?match[2].gsub('\\\\]',']'):match[1];ctx=ctx[comp];if(null==ctx||''==match[3])break;expr=expr.substring('['==match[3]?match[1].length:match[0].length);match=pattern.exec(expr);}
return before+String.interpret(ctx);});}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={};var Enumerable={each:function(iterator,context){var index=0;try{this._each(function(value){iterator.call(context,value,index++);});}catch(e){if(e!=$break)throw e;}
return this;},eachSlice:function(number,iterator,context){var index=-number,slices=[],array=this.toArray();if(number<1)return array;while((index+=number)<array.length)
slices.push(array.slice(index,index+number));return slices.collect(iterator,context);},all:function(iterator,context){iterator=iterator||Prototype.K;var result=true;this.each(function(value,index){result=result&&!!iterator.call(context,value,index);if(!result)throw $break;});return result;},any:function(iterator,context){iterator=iterator||Prototype.K;var result=false;this.each(function(value,index){if(result=!!iterator.call(context,value,index))
throw $break;});return result;},collect:function(iterator,context){iterator=iterator||Prototype.K;var results=[];this.each(function(value,index){results.push(iterator.call(context,value,index));});return results;},detect:function(iterator,context){var result;this.each(function(value,index){if(iterator.call(context,value,index)){result=value;throw $break;}});return result;},findAll:function(iterator,context){var results=[];this.each(function(value,index){if(iterator.call(context,value,index))
results.push(value);});return results;},grep:function(filter,iterator,context){iterator=iterator||Prototype.K;var results=[];if(Object.isString(filter))
filter=new RegExp(filter);this.each(function(value,index){if(filter.match(value))
results.push(iterator.call(context,value,index));});return results;},include:function(object){if(Object.isFunction(this.indexOf))
if(this.indexOf(object)!=-1)return true;var found=false;this.each(function(value){if(value==object){found=true;throw $break;}});return found;},inGroupsOf:function(number,fillWith){fillWith=Object.isUndefined(fillWith)?null:fillWith;return this.eachSlice(number,function(slice){while(slice.length<number)slice.push(fillWith);return slice;});},inject:function(memo,iterator,context){this.each(function(value,index){memo=iterator.call(context,memo,value,index);});return memo;},invoke:function(method){var args=$A(arguments).slice(1);return this.map(function(value){return value[method].apply(value,args);});},max:function(iterator,context){iterator=iterator||Prototype.K;var result;this.each(function(value,index){value=iterator.call(context,value,index);if(result==null||value>=result)
result=value;});return result;},min:function(iterator,context){iterator=iterator||Prototype.K;var result;this.each(function(value,index){value=iterator.call(context,value,index);if(result==null||value<result)
result=value;});return result;},partition:function(iterator,context){iterator=iterator||Prototype.K;var trues=[],falses=[];this.each(function(value,index){(iterator.call(context,value,index)?trues:falses).push(value);});return[trues,falses];},pluck:function(property){var results=[];this.each(function(value){results.push(value[property]);});return results;},reject:function(iterator,context){var results=[];this.each(function(value,index){if(!iterator.call(context,value,index))
results.push(value);});return results;},sortBy:function(iterator,context){return this.map(function(value,index){return{value:value,criteria:iterator.call(context,value,index)};}).sort(function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0;}).pluck('value');},toArray:function(){return this.map();},zip:function(){var iterator=Prototype.K,args=$A(arguments);if(Object.isFunction(args.last()))
iterator=args.pop();var collections=[this].concat(args).map($A);return this.map(function(value,index){return iterator(collections.pluck(index));});},size:function(){return this.toArray().length;},inspect:function(){return'#<Enumerable:'+this.toArray().inspect()+'>';}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,filter:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray,every:Enumerable.all,some:Enumerable.any});function $A(iterable){if(!iterable)return[];if(iterable.toArray)return iterable.toArray();var length=iterable.length||0,results=new Array(length);while(length--)results[length]=iterable[length];return results;}
if(Prototype.Browser.WebKit){$A=function(iterable){if(!iterable)return[];if(!(typeof iterable==='function'&&typeof iterable.length==='number'&&typeof iterable.item==='function')&&iterable.toArray)
return iterable.toArray();var length=iterable.length||0,results=new Array(length);while(length--)results[length]=iterable[length];return results;};}
Array.from=$A;Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse)Array.prototype._reverse=Array.prototype.reverse;Object.extend(Array.prototype,{_each:function(iterator){for(var i=0,length=this.length;i<length;i++)
iterator(this[i]);},clear:function(){this.length=0;return this;},first:function(){return this[0];},last:function(){return this[this.length-1];},compact:function(){return this.select(function(value){return value!=null;});},flatten:function(){return this.inject([],function(array,value){return array.concat(Object.isArray(value)?value.flatten():[value]);});},without:function(){var values=$A(arguments);return this.select(function(value){return!values.include(value);});},reverse:function(inline){return(inline!==false?this:this.toArray())._reverse();},reduce:function(){return this.length>1?this:this[0];},uniq:function(sorted){return this.inject([],function(array,value,index){if(0==index||(sorted?array.last()!=value:!array.include(value)))
array.push(value);return array;});},intersect:function(array){return this.uniq().findAll(function(item){return array.detect(function(value){return item===value});});},clone:function(){return[].concat(this);},size:function(){return this.length;},inspect:function(){return'['+this.map(Object.inspect).join(', ')+']';},toJSON:function(){var results=[];this.each(function(object){var value=Object.toJSON(object);if(!Object.isUndefined(value))results.push(value);});return'['+results.join(', ')+']';}});if(Object.isFunction(Array.prototype.forEach))
Array.prototype._each=Array.prototype.forEach;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(item,i){i||(i=0);var length=this.length;if(i<0)i=length+i;for(;i<length;i++)
if(this[i]===item)return i;return-1;};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(item,i){i=isNaN(i)?this.length:(i<0?this.length+i:i)+1;var n=this.slice(0,i).reverse().indexOf(item);return(n<0)?n:i-n-1;};Array.prototype.toArray=Array.prototype.clone;function $w(string){if(!Object.isString(string))return[];string=string.strip();return string?string.split(/\s+/):[];}
if(Prototype.Browser.Opera){Array.prototype.concat=function(){var array=[];for(var i=0,length=this.length;i<length;i++)array.push(this[i]);for(var i=0,length=arguments.length;i<length;i++){if(Object.isArray(arguments[i])){for(var j=0,arrayLength=arguments[i].length;j<arrayLength;j++)
array.push(arguments[i][j]);}else{array.push(arguments[i]);}}
return array;};}
Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16);},succ:function(){return this+1;},times:function(iterator,context){$R(0,this,true).each(iterator,context);return this;},toPaddedString:function(length,radix){var string=this.toString(radix||10);return'0'.times(length-string.length)+string;},toJSON:function(){return isFinite(this)?this.toString():'null';}});$w('abs round ceil floor').each(function(method){Number.prototype[method]=Math[method].methodize();});function $H(object){return new Hash(object);};var Hash=Class.create(Enumerable,(function(){function toQueryPair(key,value){if(Object.isUndefined(value))return key;return key+'='+encodeURIComponent(String.interpret(value));}
return{initialize:function(object){this._object=Object.isHash(object)?object.toObject():Object.clone(object);},_each:function(iterator){for(var key in this._object){var value=this._object[key],pair=[key,value];pair.key=key;pair.value=value;iterator(pair);}},set:function(key,value){return this._object[key]=value;},get:function(key){if(this._object[key]!==Object.prototype[key])
return this._object[key];},unset:function(key){var value=this._object[key];delete this._object[key];return value;},toObject:function(){return Object.clone(this._object);},keys:function(){return this.pluck('key');},values:function(){return this.pluck('value');},index:function(value){var match=this.detect(function(pair){return pair.value===value;});return match&&match.key;},merge:function(object){return this.clone().update(object);},update:function(object){return new Hash(object).inject(this,function(result,pair){result.set(pair.key,pair.value);return result;});},toQueryString:function(){return this.inject([],function(results,pair){var key=encodeURIComponent(pair.key),values=pair.value;if(values&&typeof values=='object'){if(Object.isArray(values))
return results.concat(values.map(toQueryPair.curry(key)));}else results.push(toQueryPair(key,values));return results;}).join('&');},inspect:function(){return'#<Hash:{'+this.map(function(pair){return pair.map(Object.inspect).join(': ');}).join(', ')+'}>';},toJSON:function(){return Object.toJSON(this.toObject());},clone:function(){return new Hash(this);}}})());Hash.prototype.toTemplateReplacements=Hash.prototype.toObject;Hash.from=$H;var ObjectRange=Class.create(Enumerable,{initialize:function(start,end,exclusive){this.start=start;this.end=end;this.exclusive=exclusive;},_each:function(iterator){var value=this.start;while(this.include(value)){iterator(value);value=value.succ();}},include:function(value){if(value<this.start)
return false;if(this.exclusive)
return value<this.end;return value<=this.end;}});var $R=function(start,end,exclusive){return new ObjectRange(start,end,exclusive);};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest()},function(){return new ActiveXObject('Msxml2.XMLHTTP')},function(){return new ActiveXObject('Microsoft.XMLHTTP')})||false;},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(iterator){this.responders._each(iterator);},register:function(responder){if(!this.include(responder))
this.responders.push(responder);},unregister:function(responder){this.responders=this.responders.without(responder);},dispatch:function(callback,request,transport,json){this.each(function(responder){if(Object.isFunction(responder[callback])){try{responder[callback].apply(responder,[request,transport,json]);}catch(e){}}});}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});Ajax.Base=Class.create({initialize:function(options){this.options={method:'post',asynchronous:true,contentType:'application/x-www-form-urlencoded',encoding:'UTF-8',parameters:'',evalJSON:true,evalJS:true};Object.extend(this.options,options||{});this.options.method=this.options.method.toLowerCase();if(Object.isString(this.options.parameters))
this.options.parameters=this.options.parameters.toQueryParams();else if(Object.isHash(this.options.parameters))
this.options.parameters=this.options.parameters.toObject();}});Ajax.Request=Class.create(Ajax.Base,{_complete:false,initialize:function($super,url,options){$super(options);this.transport=Ajax.getTransport();this.request(url);},request:function(url){this.url=url;this.method=this.options.method;var params=Object.clone(this.options.parameters);if(!['get','post'].include(this.method)){params['_method']=this.method;this.method='post';}
this.parameters=params;if(params=Object.toQueryString(params)){if(this.method=='get')
this.url+=(this.url.include('?')?'&':'?')+params;else if(/Konqueror|Safari|KHTML/.test(navigator.userAgent))
params+='&_=';}
try{var response=new Ajax.Response(this);if(this.options.onCreate)this.options.onCreate(response);Ajax.Responders.dispatch('onCreate',this,response);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous)this.respondToReadyState.bind(this).defer(1);this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=='post'?(this.options.postBody||params):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType)
this.onStateChange();}
catch(e){this.dispatchException(e);}},onStateChange:function(){var readyState=this.transport.readyState;if(readyState>1&&!((readyState==4)&&this._complete))
this.respondToReadyState(this.transport.readyState);},setRequestHeaders:function(){var headers={'X-Requested-With':'XMLHttpRequest','X-Prototype-Version':Prototype.Version,'Accept':'text/javascript, text/html, application/xml, text/xml, */*'};if(this.method=='post'){headers['Content-type']=this.options.contentType+
(this.options.encoding?'; charset='+this.options.encoding:'');if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005)
headers['Connection']='close';}
if(typeof this.options.requestHeaders=='object'){var extras=this.options.requestHeaders;if(Object.isFunction(extras.push))
for(var i=0,length=extras.length;i<length;i+=2)
headers[extras[i]]=extras[i+1];else
$H(extras).each(function(pair){headers[pair.key]=pair.value});}
for(var name in headers)
this.transport.setRequestHeader(name,headers[name]);},success:function(){var status=this.getStatus();return!status||(status>=200&&status<300);},getStatus:function(){try{return this.transport.status||0;}catch(e){return 0}},respondToReadyState:function(readyState){var state=Ajax.Request.Events[readyState],response=new Ajax.Response(this);if(state=='Complete'){try{this._complete=true;(this.options['on'+response.status]||this.options['on'+(this.success()?'Success':'Failure')]||Prototype.emptyFunction)(response,response.headerJSON);}catch(e){this.dispatchException(e);}
var contentType=response.getHeader('Content-type');if(this.options.evalJS=='force'||(this.options.evalJS&&this.isSameOrigin()&&contentType&&contentType.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i)))
this.evalResponse();}
try{(this.options['on'+state]||Prototype.emptyFunction)(response,response.headerJSON);Ajax.Responders.dispatch('on'+state,this,response,response.headerJSON);}catch(e){this.dispatchException(e);}
if(state=='Complete'){this.transport.onreadystatechange=Prototype.emptyFunction;}},isSameOrigin:function(){var m=this.url.match(/^\s*https?:\/\/[^\/]*/);return!m||(m[0]=='#{protocol}//#{domain}#{port}'.interpolate({protocol:location.protocol,domain:document.domain,port:location.port?':'+location.port:''}));},getHeader:function(name){try{return this.transport.getResponseHeader(name)||null;}catch(e){return null}},evalResponse:function(){try{return eval((this.transport.responseText||'').unfilterJSON());}catch(e){this.dispatchException(e);}},dispatchException:function(exception){(this.options.onException||Prototype.emptyFunction)(this,exception);Ajax.Responders.dispatch('onException',this,exception);}});Ajax.Request.Events=['Uninitialized','Loading','Loaded','Interactive','Complete'];Ajax.Response=Class.create({initialize:function(request){this.request=request;var transport=this.transport=request.transport,readyState=this.readyState=transport.readyState;if((readyState>2&&!Prototype.Browser.IE)||readyState==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=String.interpret(transport.responseText);this.headerJSON=this._getHeaderJSON();}
if(readyState==4){var xml=transport.responseXML;this.responseXML=Object.isUndefined(xml)?null:xml;this.responseJSON=this._getResponseJSON();}},status:0,statusText:'',getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||'';}catch(e){return''}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders();}catch(e){return null}},getResponseHeader:function(name){return this.transport.getResponseHeader(name);},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders();},_getHeaderJSON:function(){var json=this.getHeader('X-JSON');if(!json)return null;json=decodeURIComponent(escape(json));try{return json.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin());}catch(e){this.request.dispatchException(e);}},_getResponseJSON:function(){var options=this.request.options;if(!options.evalJSON||(options.evalJSON!='force'&&!(this.getHeader('Content-type')||'').include('application/json'))||this.responseText.blank())
return null;try{return this.responseText.evalJSON(options.sanitizeJSON||!this.request.isSameOrigin());}catch(e){this.request.dispatchException(e);}}});Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,container,url,options){this.container={success:(container.success||container),failure:(container.failure||(container.success?null:container))};options=Object.clone(options);var onComplete=options.onComplete;options.onComplete=(function(response,json){this.updateContent(response.responseText);if(Object.isFunction(onComplete))onComplete(response,json);}).bind(this);$super(url,options);},updateContent:function(responseText){var receiver=this.container[this.success()?'success':'failure'],options=this.options;if(!options.evalScripts)responseText=responseText.stripScripts();if(receiver=$(receiver)){if(options.insertion){if(Object.isString(options.insertion)){var insertion={};insertion[options.insertion]=responseText;receiver.insert(insertion);}
else options.insertion(receiver,responseText);}
else receiver.update(responseText);}}});Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,container,url,options){$super(options);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=container;this.url=url;this.start();},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent();},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments);},updateComplete:function(response){if(this.options.decay){this.decay=(response.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=response.responseText;}
this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency);},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options);}});function $(element){if(arguments.length>1){for(var i=0,elements=[],length=arguments.length;i<length;i++)
elements.push($(arguments[i]));return elements;}
if(Object.isString(element))
element=document.getElementById(element);return Element.extend(element);}
if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(expression,parentElement){var results=[];var query=document.evaluate(expression,$(parentElement)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,length=query.snapshotLength;i<length;i++)
results.push(Element.extend(query.snapshotItem(i)));return results;};}
if(!window.Node)var Node={};if(!Node.ELEMENT_NODE){Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12});}
(function(){var element=this.Element;this.Element=function(tagName,attributes){attributes=attributes||{};tagName=tagName.toLowerCase();var cache=Element.cache;if(Prototype.Browser.IE&&attributes.name){tagName='<'+tagName+' name="'+attributes.name+'">';delete attributes.name;return Element.writeAttribute(document.createElement(tagName),attributes);}
if(!cache[tagName])cache[tagName]=Element.extend(document.createElement(tagName));return Element.writeAttribute(cache[tagName].cloneNode(false),attributes);};Object.extend(this.Element,element||{});if(element)this.Element.prototype=element.prototype;}).call(window);Element.cache={};Element.Methods={visible:function(element){return $(element).style.display!='none';},toggle:function(element){element=$(element);Element[Element.visible(element)?'hide':'show'](element);return element;},hide:function(element){element=$(element);element.style.display='none';return element;},show:function(element){element=$(element);element.style.display='';return element;},remove:function(element){element=$(element);element.parentNode.removeChild(element);return element;},update:function(element,content){element=$(element);if(content&&content.toElement)content=content.toElement();if(Object.isElement(content))return element.update().insert(content);content=Object.toHTML(content);element.innerHTML=content.stripScripts();content.evalScripts.bind(content).defer();return element;},replace:function(element,content){element=$(element);if(content&&content.toElement)content=content.toElement();else if(!Object.isElement(content)){content=Object.toHTML(content);var range=element.ownerDocument.createRange();range.selectNode(element);content.evalScripts.bind(content).defer();content=range.createContextualFragment(content.stripScripts());}
element.parentNode.replaceChild(content,element);return element;},insert:function(element,insertions){element=$(element);if(Object.isString(insertions)||Object.isNumber(insertions)||Object.isElement(insertions)||(insertions&&(insertions.toElement||insertions.toHTML)))
insertions={bottom:insertions};var content,insert,tagName,childNodes;for(var position in insertions){content=insertions[position];position=position.toLowerCase();insert=Element._insertionTranslations[position];if(content&&content.toElement)content=content.toElement();if(Object.isElement(content)){insert(element,content);continue;}
content=Object.toHTML(content);tagName=((position=='before'||position=='after')?element.parentNode:element).tagName.toUpperCase();childNodes=Element._getContentFromAnonymousElement(tagName,content.stripScripts());if(position=='top'||position=='after')childNodes.reverse();childNodes.each(insert.curry(element));content.evalScripts.bind(content).defer();}
return element;},wrap:function(element,wrapper,attributes){element=$(element);if(Object.isElement(wrapper))
$(wrapper).writeAttribute(attributes||{});else if(Object.isString(wrapper))wrapper=new Element(wrapper,attributes);else wrapper=new Element('div',wrapper);if(element.parentNode)
element.parentNode.replaceChild(wrapper,element);wrapper.appendChild(element);return wrapper;},inspect:function(element){element=$(element);var result='<'+element.tagName.toLowerCase();$H({'id':'id','className':'class'}).each(function(pair){var property=pair.first(),attribute=pair.last();var value=(element[property]||'').toString();if(value)result+=' '+attribute+'='+value.inspect(true);});return result+'>';},recursivelyCollect:function(element,property){element=$(element);var elements=[];while(element=element[property])
if(element.nodeType==1)
elements.push(Element.extend(element));return elements;},ancestors:function(element){return $(element).recursivelyCollect('parentNode');},descendants:function(element){return $(element).select("*");},firstDescendant:function(element){element=$(element).firstChild;while(element&&element.nodeType!=1)element=element.nextSibling;return $(element);},immediateDescendants:function(element){if(!(element=$(element).firstChild))return[];while(element&&element.nodeType!=1)element=element.nextSibling;if(element)return[element].concat($(element).nextSiblings());return[];},previousSiblings:function(element){return $(element).recursivelyCollect('previousSibling');},nextSiblings:function(element){return $(element).recursivelyCollect('nextSibling');},siblings:function(element){element=$(element);return element.previousSiblings().reverse().concat(element.nextSiblings());},match:function(element,selector){if(Object.isString(selector))
selector=new Selector(selector);return selector.match($(element));},up:function(element,expression,index){element=$(element);if(arguments.length==1)return $(element.parentNode);var ancestors=element.ancestors();return Object.isNumber(expression)?ancestors[expression]:Selector.findElement(ancestors,expression,index);},down:function(element,expression,index){element=$(element);if(arguments.length==1)return element.firstDescendant();return Object.isNumber(expression)?element.descendants()[expression]:Element.select(element,expression)[index||0];},previous:function(element,expression,index){element=$(element);if(arguments.length==1)return $(Selector.handlers.previousElementSibling(element));var previousSiblings=element.previousSiblings();return Object.isNumber(expression)?previousSiblings[expression]:Selector.findElement(previousSiblings,expression,index);},next:function(element,expression,index){element=$(element);if(arguments.length==1)return $(Selector.handlers.nextElementSibling(element));var nextSiblings=element.nextSiblings();return Object.isNumber(expression)?nextSiblings[expression]:Selector.findElement(nextSiblings,expression,index);},select:function(){var args=$A(arguments),element=$(args.shift());return Selector.findChildElements(element,args);},adjacent:function(){var args=$A(arguments),element=$(args.shift());return Selector.findChildElements(element.parentNode,args).without(element);},identify:function(element){element=$(element);var id=element.readAttribute('id'),self=arguments.callee;if(id)return id;do{id='anonymous_element_'+self.counter++}while($(id));element.writeAttribute('id',id);return id;},readAttribute:function(element,name){element=$(element);if(Prototype.Browser.IE){var t=Element._attributeTranslations.read;if(t.values[name])return t.values[name](element,name);if(t.names[name])name=t.names[name];if(name.include(':')){return(!element.attributes||!element.attributes[name])?null:element.attributes[name].value;}}
return element.getAttribute(name);},writeAttribute:function(element,name,value){element=$(element);var attributes={},t=Element._attributeTranslations.write;if(typeof name=='object')attributes=name;else attributes[name]=Object.isUndefined(value)?true:value;for(var attr in attributes){name=t.names[attr]||attr;value=attributes[attr];if(t.values[attr])name=t.values[attr](element,value);if(value===false||value===null)
element.removeAttribute(name);else if(value===true)
element.setAttribute(name,name);else element.setAttribute(name,value);}
return element;},getHeight:function(element){return $(element).getDimensions().height;},getWidth:function(element){return $(element).getDimensions().width;},classNames:function(element){return new Element.ClassNames(element);},hasClassName:function(element,className){if(!(element=$(element)))return;var elementClassName=element.className;return(elementClassName.length>0&&(elementClassName==className||new RegExp("(^|\\s)"+className+"(\\s|$)").test(elementClassName)));},addClassName:function(element,className){if(!(element=$(element)))return;if(!element.hasClassName(className))
element.className+=(element.className?' ':'')+className;return element;},removeClassName:function(element,className){if(!(element=$(element)))return;element.className=element.className.replace(new RegExp("(^|\\s+)"+className+"(\\s+|$)"),' ').strip();return element;},toggleClassName:function(element,className){if(!(element=$(element)))return;return element[element.hasClassName(className)?'removeClassName':'addClassName'](className);},cleanWhitespace:function(element){element=$(element);var node=element.firstChild;while(node){var nextNode=node.nextSibling;if(node.nodeType==3&&!/\S/.test(node.nodeValue))
element.removeChild(node);node=nextNode;}
return element;},empty:function(element){return $(element).innerHTML.blank();},descendantOf:function(element,ancestor){element=$(element),ancestor=$(ancestor);if(element.compareDocumentPosition)
return(element.compareDocumentPosition(ancestor)&8)===8;if(ancestor.contains)
return ancestor.contains(element)&&ancestor!==element;while(element=element.parentNode)
if(element==ancestor)return true;return false;},scrollTo:function(element){element=$(element);var pos=element.cumulativeOffset();window.scrollTo(pos[0],pos[1]);return element;},getStyle:function(element,style){element=$(element);style=style=='float'?'cssFloat':style.camelize();var value=element.style[style];if(!value||value=='auto'){var css=document.defaultView.getComputedStyle(element,null);value=css?css[style]:null;}
if(style=='opacity')return value?parseFloat(value):1.0;return value=='auto'?null:value;},getOpacity:function(element){return $(element).getStyle('opacity');},setStyle:function(element,styles){element=$(element);var elementStyle=element.style,match;if(Object.isString(styles)){element.style.cssText+=';'+styles;return styles.include('opacity')?element.setOpacity(styles.match(/opacity:\s*(\d?\.?\d*)/)[1]):element;}
for(var property in styles)
if(property=='opacity')element.setOpacity(styles[property]);else
elementStyle[(property=='float'||property=='cssFloat')?(Object.isUndefined(elementStyle.styleFloat)?'cssFloat':'styleFloat'):property]=styles[property];return element;},setOpacity:function(element,value){element=$(element);element.style.opacity=(value==1||value==='')?'':(value<0.00001)?0:value;return element;},getDimensions:function(element){element=$(element);var display=element.getStyle('display');if(display!='none'&&display!=null)
return{width:element.offsetWidth,height:element.offsetHeight};var els=element.style;var originalVisibility=els.visibility;var originalPosition=els.position;var originalDisplay=els.display;els.visibility='hidden';els.position='absolute';els.display='block';var originalWidth=element.clientWidth;var originalHeight=element.clientHeight;els.display=originalDisplay;els.position=originalPosition;els.visibility=originalVisibility;return{width:originalWidth,height:originalHeight};},makePositioned:function(element){element=$(element);var pos=Element.getStyle(element,'position');if(pos=='static'||!pos){element._madePositioned=true;element.style.position='relative';if(Prototype.Browser.Opera){element.style.top=0;element.style.left=0;}}
return element;},undoPositioned:function(element){element=$(element);if(element._madePositioned){element._madePositioned=undefined;element.style.position=element.style.top=element.style.left=element.style.bottom=element.style.right='';}
return element;},makeClipping:function(element){element=$(element);if(element._overflow)return element;element._overflow=Element.getStyle(element,'overflow')||'auto';if(element._overflow!=='hidden')
element.style.overflow='hidden';return element;},undoClipping:function(element){element=$(element);if(!element._overflow)return element;element.style.overflow=element._overflow=='auto'?'':element._overflow;element._overflow=null;return element;},cumulativeOffset:function(element){var valueT=0,valueL=0;do{valueT+=element.offsetTop||0;valueL+=element.offsetLeft||0;element=element.offsetParent;}while(element);return Element._returnOffset(valueL,valueT);},positionedOffset:function(element){var valueT=0,valueL=0;do{valueT+=element.offsetTop||0;valueL+=element.offsetLeft||0;element=element.offsetParent;if(element){if(element.tagName.toUpperCase()=='BODY')break;var p=Element.getStyle(element,'position');if(p!=='static')break;}}while(element);return Element._returnOffset(valueL,valueT);},absolutize:function(element){element=$(element);if(element.getStyle('position')=='absolute')return element;var offsets=element.positionedOffset();var top=offsets[1];var left=offsets[0];var width=element.clientWidth;var height=element.clientHeight;element._originalLeft=left-parseFloat(element.style.left||0);element._originalTop=top-parseFloat(element.style.top||0);element._originalWidth=element.style.width;element._originalHeight=element.style.height;element.style.position='absolute';element.style.top=top+'px';element.style.left=left+'px';element.style.width=width+'px';element.style.height=height+'px';return element;},relativize:function(element){element=$(element);if(element.getStyle('position')=='relative')return element;element.style.position='relative';var top=parseFloat(element.style.top||0)-(element._originalTop||0);var left=parseFloat(element.style.left||0)-(element._originalLeft||0);element.style.top=top+'px';element.style.left=left+'px';element.style.height=element._originalHeight;element.style.width=element._originalWidth;return element;},cumulativeScrollOffset:function(element){var valueT=0,valueL=0;do{valueT+=element.scrollTop||0;valueL+=element.scrollLeft||0;element=element.parentNode;}while(element);return Element._returnOffset(valueL,valueT);},getOffsetParent:function(element){if(element.offsetParent)return $(element.offsetParent);if(element==document.body)return $(element);while((element=element.parentNode)&&element!=document.body)
if(Element.getStyle(element,'position')!='static')
return $(element);return $(document.body);},viewportOffset:function(forElement){var valueT=0,valueL=0;var element=forElement;do{valueT+=element.offsetTop||0;valueL+=element.offsetLeft||0;if(element.offsetParent==document.body&&Element.getStyle(element,'position')=='absolute')break;}while(element=element.offsetParent);element=forElement;do{if(!Prototype.Browser.Opera||(element.tagName&&(element.tagName.toUpperCase()=='BODY'))){valueT-=element.scrollTop||0;valueL-=element.scrollLeft||0;}}while(element=element.parentNode);return Element._returnOffset(valueL,valueT);},clonePosition:function(element,source){var options=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});source=$(source);var p=source.viewportOffset();element=$(element);var delta=[0,0];var parent=null;if(Element.getStyle(element,'position')=='absolute'){parent=element.getOffsetParent();delta=parent.viewportOffset();}
if(parent==document.body){delta[0]-=document.body.offsetLeft;delta[1]-=document.body.offsetTop;}
if(options.setLeft)element.style.left=(p[0]-delta[0]+options.offsetLeft)+'px';if(options.setTop)element.style.top=(p[1]-delta[1]+options.offsetTop)+'px';if(options.setWidth)element.style.width=source.offsetWidth+'px';if(options.setHeight)element.style.height=source.offsetHeight+'px';return element;}};Element.Methods.identify.counter=1;Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants});Element._attributeTranslations={write:{names:{className:'class',htmlFor:'for'},values:{}}};if(Prototype.Browser.Opera){Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(proceed,element,style){switch(style){case'left':case'top':case'right':case'bottom':if(proceed(element,'position')==='static')return null;case'height':case'width':if(!Element.visible(element))return null;var dim=parseInt(proceed(element,style),10);if(dim!==element['offset'+style.capitalize()])
return dim+'px';var properties;if(style==='height'){properties=['border-top-width','padding-top','padding-bottom','border-bottom-width'];}
else{properties=['border-left-width','padding-left','padding-right','border-right-width'];}
return properties.inject(dim,function(memo,property){var val=proceed(element,property);return val===null?memo:memo-parseInt(val,10);})+'px';default:return proceed(element,style);}});Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(proceed,element,attribute){if(attribute==='title')return element.title;return proceed(element,attribute);});}
else if(Prototype.Browser.IE){Element.Methods.getOffsetParent=Element.Methods.getOffsetParent.wrap(function(proceed,element){element=$(element);try{element.offsetParent}
catch(e){return $(document.body)}
var position=element.getStyle('position');if(position!=='static')return proceed(element);element.setStyle({position:'relative'});var value=proceed(element);element.setStyle({position:position});return value;});$w('positionedOffset viewportOffset').each(function(method){Element.Methods[method]=Element.Methods[method].wrap(function(proceed,element){element=$(element);try{element.offsetParent}
catch(e){return Element._returnOffset(0,0)}
var position=element.getStyle('position');if(position!=='static')return proceed(element);var offsetParent=element.getOffsetParent();if(offsetParent&&offsetParent.getStyle('position')==='fixed')
offsetParent.setStyle({zoom:1});element.setStyle({position:'relative'});var value=proceed(element);element.setStyle({position:position});return value;});});Element.Methods.cumulativeOffset=Element.Methods.cumulativeOffset.wrap(function(proceed,element){try{element.offsetParent}
catch(e){return Element._returnOffset(0,0)}
return proceed(element);});Element.Methods.getStyle=function(element,style){element=$(element);style=(style=='float'||style=='cssFloat')?'styleFloat':style.camelize();var value=element.style[style];if(!value&&element.currentStyle)value=element.currentStyle[style];if(style=='opacity'){if(value=(element.getStyle('filter')||'').match(/alpha\(opacity=(.*)\)/))
if(value[1])return parseFloat(value[1])/100;return 1.0;}
if(value=='auto'){if((style=='width'||style=='height')&&(element.getStyle('display')!='none'))
return element['offset'+style.capitalize()]+'px';return null;}
return value;};Element.Methods.setOpacity=function(element,value){function stripAlpha(filter){return filter.replace(/alpha\([^\)]*\)/gi,'');}
element=$(element);var currentStyle=element.currentStyle;if((currentStyle&&!currentStyle.hasLayout)||(!currentStyle&&element.style.zoom=='normal'))
element.style.zoom=1;var filter=element.getStyle('filter'),style=element.style;if(value==1||value===''){(filter=stripAlpha(filter))?style.filter=filter:style.removeAttribute('filter');return element;}else if(value<0.00001)value=0;style.filter=stripAlpha(filter)+'alpha(opacity='+(value*100)+')';return element;};Element._attributeTranslations={read:{names:{'class':'className','for':'htmlFor'},values:{_getAttr:function(element,attribute){return element.getAttribute(attribute,2);},_getAttrNode:function(element,attribute){var node=element.getAttributeNode(attribute);return node?node.value:"";},_getEv:function(element,attribute){attribute=element.getAttribute(attribute);return attribute?attribute.toString().slice(23,-2):null;},_flag:function(element,attribute){return $(element).hasAttribute(attribute)?attribute:null;},style:function(element){return element.style.cssText.toLowerCase();},title:function(element){return element.title;}}}};Element._attributeTranslations.write={names:Object.extend({cellpadding:'cellPadding',cellspacing:'cellSpacing'},Element._attributeTranslations.read.names),values:{checked:function(element,value){element.checked=!!value;},style:function(element,value){element.style.cssText=value?value:'';}}};Element._attributeTranslations.has={};$w('colSpan rowSpan vAlign dateTime accessKey tabIndex '+'encType maxLength readOnly longDesc frameBorder').each(function(attr){Element._attributeTranslations.write.names[attr.toLowerCase()]=attr;Element._attributeTranslations.has[attr.toLowerCase()]=attr;});(function(v){Object.extend(v,{href:v._getAttr,src:v._getAttr,type:v._getAttr,action:v._getAttrNode,disabled:v._flag,checked:v._flag,readonly:v._flag,multiple:v._flag,onload:v._getEv,onunload:v._getEv,onclick:v._getEv,ondblclick:v._getEv,onmousedown:v._getEv,onmouseup:v._getEv,onmouseover:v._getEv,onmousemove:v._getEv,onmouseout:v._getEv,onfocus:v._getEv,onblur:v._getEv,onkeypress:v._getEv,onkeydown:v._getEv,onkeyup:v._getEv,onsubmit:v._getEv,onreset:v._getEv,onselect:v._getEv,onchange:v._getEv});})(Element._attributeTranslations.read.values);}
else if(Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)){Element.Methods.setOpacity=function(element,value){element=$(element);element.style.opacity=(value==1)?0.999999:(value==='')?'':(value<0.00001)?0:value;return element;};}
else if(Prototype.Browser.WebKit){Element.Methods.setOpacity=function(element,value){element=$(element);element.style.opacity=(value==1||value==='')?'':(value<0.00001)?0:value;if(value==1)
if(element.tagName.toUpperCase()=='IMG'&&element.width){element.width++;element.width--;}else try{var n=document.createTextNode(' ');element.appendChild(n);element.removeChild(n);}catch(e){}
return element;};Element.Methods.cumulativeOffset=function(element){var valueT=0,valueL=0;do{valueT+=element.offsetTop||0;valueL+=element.offsetLeft||0;if(element.offsetParent==document.body)
if(Element.getStyle(element,'position')=='absolute')break;element=element.offsetParent;}while(element);return Element._returnOffset(valueL,valueT);};}
if(Prototype.Browser.IE||Prototype.Browser.Opera){Element.Methods.update=function(element,content){element=$(element);if(content&&content.toElement)content=content.toElement();if(Object.isElement(content))return element.update().insert(content);content=Object.toHTML(content);var tagName=element.tagName.toUpperCase();if(tagName in Element._insertionTranslations.tags){$A(element.childNodes).each(function(node){element.removeChild(node)});Element._getContentFromAnonymousElement(tagName,content.stripScripts()).each(function(node){element.appendChild(node)});}
else element.innerHTML=content.stripScripts();content.evalScripts.bind(content).defer();return element;};}
if('outerHTML'in document.createElement('div')){Element.Methods.replace=function(element,content){element=$(element);if(content&&content.toElement)content=content.toElement();if(Object.isElement(content)){element.parentNode.replaceChild(content,element);return element;}
content=Object.toHTML(content);var parent=element.parentNode,tagName=parent.tagName.toUpperCase();if(Element._insertionTranslations.tags[tagName]){var nextSibling=element.next();var fragments=Element._getContentFromAnonymousElement(tagName,content.stripScripts());parent.removeChild(element);if(nextSibling)
fragments.each(function(node){parent.insertBefore(node,nextSibling)});else
fragments.each(function(node){parent.appendChild(node)});}
else element.outerHTML=content.stripScripts();content.evalScripts.bind(content).defer();return element;};}
Element._returnOffset=function(l,t){var result=[l,t];result.left=l;result.top=t;return result;};Element._getContentFromAnonymousElement=function(tagName,html){var div=new Element('div'),t=Element._insertionTranslations.tags[tagName];if(t){div.innerHTML=t[0]+html+t[1];t[2].times(function(){div=div.firstChild});}else div.innerHTML=html;return $A(div.childNodes);};Element._insertionTranslations={before:function(element,node){element.parentNode.insertBefore(node,element);},top:function(element,node){element.insertBefore(node,element.firstChild);},bottom:function(element,node){element.appendChild(node);},after:function(element,node){element.parentNode.insertBefore(node,element.nextSibling);},tags:{TABLE:['<table>','</table>',1],TBODY:['<table><tbody>','</tbody></table>',2],TR:['<table><tbody><tr>','</tr></tbody></table>',3],TD:['<table><tbody><tr><td>','</td></tr></tbody></table>',4],SELECT:['<select>','</select>',1]}};(function(){Object.extend(this.tags,{THEAD:this.tags.TBODY,TFOOT:this.tags.TBODY,TH:this.tags.TD});}).call(Element._insertionTranslations);Element.Methods.Simulated={hasAttribute:function(element,attribute){attribute=Element._attributeTranslations.has[attribute]||attribute;var node=$(element).getAttributeNode(attribute);return!!(node&&node.specified);}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);if(!Prototype.BrowserFeatures.ElementExtensions&&document.createElement('div')['__proto__']){window.HTMLElement={};window.HTMLElement.prototype=document.createElement('div')['__proto__'];Prototype.BrowserFeatures.ElementExtensions=true;}
Element.extend=(function(){if(Prototype.BrowserFeatures.SpecificElementExtensions)
return Prototype.K;var Methods={},ByTag=Element.Methods.ByTag;var extend=Object.extend(function(element){if(!element||element._extendedByPrototype||element.nodeType!=1||element==window)return element;var methods=Object.clone(Methods),tagName=element.tagName.toUpperCase(),property,value;if(ByTag[tagName])Object.extend(methods,ByTag[tagName]);for(property in methods){value=methods[property];if(Object.isFunction(value)&&!(property in element))
element[property]=value.methodize();}
element._extendedByPrototype=Prototype.emptyFunction;return element;},{refresh:function(){if(!Prototype.BrowserFeatures.ElementExtensions){Object.extend(Methods,Element.Methods);Object.extend(Methods,Element.Methods.Simulated);}}});extend.refresh();return extend;})();Element.hasAttribute=function(element,attribute){if(element.hasAttribute)return element.hasAttribute(attribute);return Element.Methods.Simulated.hasAttribute(element,attribute);};Element.addMethods=function(methods){var F=Prototype.BrowserFeatures,T=Element.Methods.ByTag;if(!methods){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(Element.Methods.ByTag,{"FORM":Object.clone(Form.Methods),"INPUT":Object.clone(Form.Element.Methods),"SELECT":Object.clone(Form.Element.Methods),"TEXTAREA":Object.clone(Form.Element.Methods)});}
if(arguments.length==2){var tagName=methods;methods=arguments[1];}
if(!tagName)Object.extend(Element.Methods,methods||{});else{if(Object.isArray(tagName))tagName.each(extend);else extend(tagName);}
function extend(tagName){tagName=tagName.toUpperCase();if(!Element.Methods.ByTag[tagName])
Element.Methods.ByTag[tagName]={};Object.extend(Element.Methods.ByTag[tagName],methods);}
function copy(methods,destination,onlyIfAbsent){onlyIfAbsent=onlyIfAbsent||false;for(var property in methods){var value=methods[property];if(!Object.isFunction(value))continue;if(!onlyIfAbsent||!(property in destination))
destination[property]=value.methodize();}}
function findDOMClass(tagName){var klass;var trans={"OPTGROUP":"OptGroup","TEXTAREA":"TextArea","P":"Paragraph","FIELDSET":"FieldSet","UL":"UList","OL":"OList","DL":"DList","DIR":"Directory","H1":"Heading","H2":"Heading","H3":"Heading","H4":"Heading","H5":"Heading","H6":"Heading","Q":"Quote","INS":"Mod","DEL":"Mod","A":"Anchor","IMG":"Image","CAPTION":"TableCaption","COL":"TableCol","COLGROUP":"TableCol","THEAD":"TableSection","TFOOT":"TableSection","TBODY":"TableSection","TR":"TableRow","TH":"TableCell","TD":"TableCell","FRAMESET":"FrameSet","IFRAME":"IFrame"};if(trans[tagName])klass='HTML'+trans[tagName]+'Element';if(window[klass])return window[klass];klass='HTML'+tagName+'Element';if(window[klass])return window[klass];klass='HTML'+tagName.capitalize()+'Element';if(window[klass])return window[klass];window[klass]={};window[klass].prototype=document.createElement(tagName)['__proto__'];return window[klass];}
if(F.ElementExtensions){copy(Element.Methods,HTMLElement.prototype);copy(Element.Methods.Simulated,HTMLElement.prototype,true);}
if(F.SpecificElementExtensions){for(var tag in Element.Methods.ByTag){var klass=findDOMClass(tag);if(Object.isUndefined(klass))continue;copy(T[tag],klass.prototype);}}
Object.extend(Element,Element.Methods);delete Element.ByTag;if(Element.extend.refresh)Element.extend.refresh();Element.cache={};};document.viewport={getDimensions:function(){var dimensions={},B=Prototype.Browser;$w('width height').each(function(d){var D=d.capitalize();if(B.WebKit&&!document.evaluate){dimensions[d]=self['inner'+D];}else if(B.Opera&&parseFloat(window.opera.version())<9.5){dimensions[d]=document.body['client'+D]}else{dimensions[d]=document.documentElement['client'+D];}});return dimensions;},getWidth:function(){return this.getDimensions().width;},getHeight:function(){return this.getDimensions().height;},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop);}};var Selector=Class.create({initialize:function(expression){this.expression=expression.strip();if(this.shouldUseSelectorsAPI()){this.mode='selectorsAPI';}else if(this.shouldUseXPath()){this.mode='xpath';this.compileXPathMatcher();}else{this.mode="normal";this.compileMatcher();}},shouldUseXPath:function(){if(!Prototype.BrowserFeatures.XPath)return false;var e=this.expression;if(Prototype.Browser.WebKit&&(e.include("-of-type")||e.include(":empty")))
return false;if((/(\[[\w-]*?:|:checked)/).test(e))
return false;return true;},shouldUseSelectorsAPI:function(){if(!Prototype.BrowserFeatures.SelectorsAPI)return false;if(!Selector._div)Selector._div=new Element('div');try{Selector._div.querySelector(this.expression);}catch(e){return false;}
return true;},compileMatcher:function(){var e=this.expression,ps=Selector.patterns,h=Selector.handlers,c=Selector.criteria,le,p,m;if(Selector._cache[e]){this.matcher=Selector._cache[e];return;}
this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in ps){p=ps[i];if(m=e.match(p)){this.matcher.push(Object.isFunction(c[i])?c[i](m):new Template(c[i]).evaluate(m));e=e.replace(m[0],'');break;}}}
this.matcher.push("return h.unique(n);\n}");eval(this.matcher.join('\n'));Selector._cache[this.expression]=this.matcher;},compileXPathMatcher:function(){var e=this.expression,ps=Selector.patterns,x=Selector.xpath,le,m;if(Selector._cache[e]){this.xpath=Selector._cache[e];return;}
this.matcher=['.//*'];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in ps){if(m=e.match(ps[i])){this.matcher.push(Object.isFunction(x[i])?x[i](m):new Template(x[i]).evaluate(m));e=e.replace(m[0],'');break;}}}
this.xpath=this.matcher.join('');Selector._cache[this.expression]=this.xpath;},findElements:function(root){root=root||document;var e=this.expression,results;switch(this.mode){case'selectorsAPI':if(root!==document){var oldId=root.id,id=$(root).identify();e="#"+id+" "+e;}
results=$A(root.querySelectorAll(e)).map(Element.extend);root.id=oldId;return results;case'xpath':return document._getElementsByXPath(this.xpath,root);default:return this.matcher(root);}},match:function(element){this.tokens=[];var e=this.expression,ps=Selector.patterns,as=Selector.assertions;var le,p,m;while(e&&le!==e&&(/\S/).test(e)){le=e;for(var i in ps){p=ps[i];if(m=e.match(p)){if(as[i]){this.tokens.push([i,Object.clone(m)]);e=e.replace(m[0],'');}else{return this.findElements(document).include(element);}}}}
var match=true,name,matches;for(var i=0,token;token=this.tokens[i];i++){name=token[0],matches=token[1];if(!Selector.assertions[name](element,matches)){match=false;break;}}
return match;},toString:function(){return this.expression;},inspect:function(){return"#<Selector:"+this.expression.inspect()+">";}});Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:'/following-sibling::*',tagName:function(m){if(m[1]=='*')return'';return"[local-name()='"
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/xd/xd.ajax.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/xd/xd.core.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 02 Jun 2011 20:29:20 GMT
ETag: "1c6d-4de7f2a0"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 7277
---Content---
function addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			if (oldonload) {
				oldonload();
			}
			func();
		}
	}
};

function menuFix() {
	$$('ul#root').each(function(link){
		link.setStyle({visibility:'visible'});
	});
	var hlink;
	var shlink;
	var holdsublink;
	var navExists = false
	var tempPath = readCookie("mainPage");
	if (!tempPath){
		tempPath = "/";
	}
    if (tempPath.length > 1){
    if (tempPath.substring(tempPath.length-1, tempPath.length) == "/")
        tempPath = tempPath.substring(0, tempPath.length-1);
	}
    var fullPath = tempPath;
	while (tempPath.length > 0 && navExists == false) {
		$$('#root li a.mainNav').each(function(link){
        	hlink = link.readAttribute('href').split('#');
        	hlink = hlink[0];
			if (hlink.length > 1){
				if (hlink.substring(hlink.length-1, hlink.length) == "/")
					hlink = hlink.substring(0, hlink.length-1);
			}
        	if(hlink == tempPath){
                link.up(0).addClassName('highlight');
                if (link.next('ul')) {
                    link.next('ul').addClassName('subStay');
                    navExists = true;
                    var arr = link.next('ul').descendants();
                    arr.each(function(subLink){
                        subLink.select('a').each(function(subLinkA){
							//shlink = subLinkA.readAttribute('href');
							shlink = subLinkA.readAttribute('href').split('#');
							shlink = shlink[0];
							if (shlink != null && shlink.length > 1){
								if (shlink.substring(shlink.length-1, shlink.length) == "/")
									shlink = shlink.substring(0, shlink.length-1);
								}
                            if(shlink == fullPath){
                                subLinkA.up(0).addClassName('highlight');
                            }
                        });
                    });
                };
            }
		});
        tempPath = tempPath.substr(0,tempPath.lastIndexOf("/"));

	}
	if (navExists == false) {
		$$('#root li a.mainNav').each(function(link){
	        //hlink = link.readAttribute('href');
	        hlink = link.readAttribute('href').split('#');
	        hlink = hlink[0];
			if (hlink.length > 1){
				if (hlink.substring(hlink.length-1, hlink.length) == "/")
					hlink = hlink.substring(0, hlink.length-1);
			}
	        if(hlink == "/"){
                link.up(0).addClassName('highlight');
                if (link.next('ul')) {
                    link.next('ul').addClassName('subStay');
                    var arr = link.next('ul').descendants();
                    arr.each(function(subLink){
                        subLink.select('a').each(function(subLinkA){
                        	holdsublink = subLinkA.readAttribute('href').split('#');
        					holdsublink = holdsublink[0];
                              	//if(subLinkA.readAttribute('href') == tempPath){
                              	if(holdsublink == tempPath){
                                subLinkA.up(0).addClassName('highlight');
                            }
                        });
                    });
                }
			}
	    });
		eraseCookie("mainPage");
		createCookie("mainPage","/","1");
	}
}

function tribHover() {
	var timeout = 600;
	var cssClass = "highlight";
	var thisPage = readCookie("mainPage");
	if (!thisPage){
		thisPage = "/";
	}

	var queue = [];
	var reCSS = new RegExp("\\b" + cssClass + "\\b");
	var tribEls = document.getElementById("root").getElementsByTagName("li");
	
	var holdlink = "";
	var holdsublink = "";

 	for (var i=0; i<tribEls.length; i++) {
	 	if(/subStay/.test(tribEls[i].parentNode.className))
	  	{

		} else {

		// mouseover and mouseout handlers for regular mouse based interface.
		tribEls[i].onmouseover = function() {
			queueFlush();
			this.className += " " + cssClass;
			$$('#root li a.mainNav').each(function(link){
				holdlink = link.readAttribute('href').split('#');
        		holdlink = holdlink[0];
				if (holdlink.length > 1){
					if (holdlink.substring(holdlink.length-1, holdlink.length) == "/")
						holdlink = holdlink.substring(0, holdlink.length-1);
				}
	        		//if(link.readAttribute('href') == thisPage ){
				if(holdlink == thisPage ){
					link.up(0).removeClassName(cssClass);
				}
		    });
		}
		tribEls[i].onmouseout = function() {
			queue.push([setTimeout(queueTimeout, timeout), this]);
		}
		// focus and blur handlers for keyboard based navigation.
		tribEls[i].onfocus = function() {
			queueFlush();
			this.className += " " + cssClass;
		}
		tribEls[i].onblur = function() {
			queue.push([setTimeout(queueTimeout, timeout), this]);

			// click event handler needed for tablet type interfaces (e.g. Apple iPhone).
			tribEls[i].onclick = function(e) {
				if (this.className.search(reCSS) == -1) {
					// CSS not set, so clear all sibling (and decendants) menus, and then set CSS on this menu...
					var elems = this.parentNode.getElementsByTagName("li");
					for (var i=0; i<elems.length; i++) {
						elems[i].className = elems[i].className.replace(reCSS, "");
					}
					this.className += " " + cssClass;
				} else {
					// CSS already set, so clear all decendant menus and then this menu...
					var elems = this.getElementsByTagName("li");
					for (var i=0; i<elems.length; i++) {
						elems[i].className = elems[i].className.replace(reCSS, "");
					}
					this.className = this.className.replace(reCSS, "");
				}
				if (e && e.stopPropagation)
					e.stopPropagation();
				else
					window.event.cancelBubble = true;
			}
		}

		queueFlush = function () {
			while (queue.length) {
				clearTimeout(queue[0][0]);
				queueTimeout();
			}
		}

		queueTimeout = function() {
			if (queue.length) {
				var el = queue.shift()[1];
				el.className = el.className.replace(reCSS, "");
				$$('#root li a.mainNav').each(function(link){
					holdlink = link.readAttribute('href').split('#');
        			holdlink = holdlink[0];
					if (holdlink.length > 1){
						if (holdlink.substring(holdlink.length-1, holdlink.length) == "/")
							holdlink = holdlink.substring(0, holdlink.length-1);
					}
			        //if(link.readAttribute('href') == thisPage){
					if(holdlink == thisPage){
						link.up(0).addClassName(cssClass);
                        if (link.next('ul')) {
                            var arr = link.next('ul').descendants();
                            arr.each(function(subLink){
                                subLink.select('a').each(function(subLinkA){
                                	holdsublink = subLinkA.readAttribute('href').split('#');
        							holdsublink = holdsublink[0];
									if (holdsublink.length > 1){
										if (holdsublink.substring(holdsublink.length-1, holdsublink.length) == "/")
											holdsublink = holdsublink.substring(0, holdsublink.length-1);
									}
                                	//if(subLinkA.readAttribute('href') == thisPage){
                                	if(holdsublink == thisPage){
                                    	subLinkA.up(0).addClassName(cssClass);
                                    }
                                });
                            });
                        }
					}
			    });
			}
		}
	}
}
}

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/jquery.cookies.2.1.0.min.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Wed, 18 May 2011 21:19:46 GMT
ETag: "164cd-4dd437f2"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Length: 31979
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/signon/tribbit.js?v=2012s1 HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@3a6eb176
---Content---
/*!
 * jQuery JavaScript Library v1.6.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu May 12 15:04:36 2011 -0400
 */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!cj[a]){var b=f("<"+a+">").appendTo("body"),d=b.css("display");b.remove();if(d==="none"||d===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),c.body.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write("<!doctype><html><body></body></html>");b=cl.createElement(a),cl.body.appendChild(b),d=f.css(b,"display"),c.body.removeChild(ck)}cj[a]=d}return cj[a]}function cu(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function ct(){cq=b}function cs(){setTimeout(ct,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bF.test(a)?d(a,e):b_(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)b_(a+"["+e+"]",b[e],c,d);else d(a,b)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bU,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bQ),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bD(a,b,c){var d=b==="width"?bx:by,e=b==="width"?a.offsetWidth:a.offsetHeight;if(c==="border")return e;f.each(d,function(){c||(e-=parseFloat(f.css(a,"padding"+this))||0),c==="margin"?e+=parseFloat(f.css(a,"margin"+this))||0:e-=parseFloat(f.css(a,"border"+this+"Width"))||0});return e}function bn(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bm(a){f.nodeName(a,"input")?bl(a):a.getElementsByTagName&&f.grep(a.getElementsByTagName("input"),bl)}function bl(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bk(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function bj(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bi(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c=f.expando,d=f.data(a),e=f.data(b,d);if(d=d[c]){var g=d.events;e=e[c]=f.extend({},d);if(g){delete e.handle,e.events={};for(var h in g)for(var i=0,j=g[h].length;i<j;i++)f.event.add(b,h+(g[h][i].namespace?".":"")+g[h][i].namespace,g[h][i],g[h][i].data)}}}}function bh(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function X(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(S.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function W(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function O(a,b){return(a&&a!=="*"?a+".":"")+b.replace(A,"`").replace(B,"&")}function N(a){var b,c,d,e,g,h,i,j,k,l,m,n,o,p=[],q=[],r=f._data(this,"events");if(!(a.liveFired===this||!r||!r.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(n=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),a.liveFired=this;var s=r.live.slice(0);for(i=0;i<s.length;i++)g=s[i],g.origType.replace(y,"")===a.type?q.push(g.selector):s.splice(i--,1);e=f(a.target).closest(q,a.currentTarget);for(j=0,k=e.length;j<k;j++){m=e[j];for(i=0;i<s.length;i++){g=s[i];if(m.selector===g.selector&&(!n||n.test(g.namespace))&&!m.elem.disabled){h=m.elem,d=null;if(g.preType==="mouseenter"||g.preType==="mouseleave")a.type=g.preType,d=f(a.relatedTarget).closest(g.selector)[0],d&&f.contains(h,d)&&(d=h);(!d||d!==h)&&p.push({elem:h,handleObj:g,level:m.level})}}}for(j=0,k=p.length;j<k;j++){e=p[j];if(c&&e.level>c)break;a.currentTarget=e.elem,a.data=e.handleObj.data,a.handleObj=e.handleObj,o=e.handleObj.origHandler.apply(e.elem,arguments);if(o===!1||a.isPropagationStopped()){c=e.level,o===!1&&(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function L(a,c,d){var e=f.extend({},d[0]);e.type=a,e.originalEvent={},e.liveFired=b,f.event.handle.call(c,e),e.isDefaultPrevented()&&d[0].preventDefault()}function F(){return!0}function E(){return!1}function m(a,c,d){var e=c+"defer",g=c+"queue",h=c+"mark",i=f.data(a,e,b,!0);i&&(d==="queue"||!f.data(a,g,b,!0))&&(d==="mark"||!f.data(a,h,b,!0))&&setTimeout(function(){!f.data(a,g,b,!0)&&!f.data(a,h,b,!0)&&(f.removeData(a,e,!0),i.resolve())},0)}function l(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function k(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(j,"$1-$2").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNaN(d)?i.test(d)?f.parseJSON(d):d:parseFloat(d)}catch(g){}f.data(a,c,d)}else d=b}return d}var c=a.document,d=a.navigator,e=a.location,f=function(){function H(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(H,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/\d/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,w=d.userAgent,x,y,z,A=Object.prototype.toString,B=Object.prototype.hasOwnProperty,C=Array.prototype.push,D=Array.prototype.slice,E=String.prototype.trim,F=Array.prototype.indexOf,G={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=n.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?C.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),y.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:C,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;y.resolveWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").unbind("ready")}},bindReady:function(){if(!y){y=e._Deferred();if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",z,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",z),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&H()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNaN:function(a){return a==null||!m.test(a)||isNaN(a)},type:function(a){return a==null?String(a):G[A.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;if(a.constructor&&!B.call(a,"constructor")&&!B.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a);return c===b||B.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(o.test(b.replace(p,"@").replace(q,"]").replace(r,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(b,c,d){a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)),d=c.documentElement,(!d||!d.nodeName||d.nodeName==="parsererror")&&e.error("Invalid XML: "+b);return c},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:E?function(a){return a==null?"":E.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?C.call(c,a):e.merge(c,a)}return c},inArray:function(a,b){if(F)return F.call(b,a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=D.call(arguments,2),g=function(){return a.apply(c,f.concat(D.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=s.exec(a)||t.exec(a)||u.exec(a)||a.indexOf("compatible")<0&&v.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){G["[object "+b+"]"]=b.toLowerCase()}),x=e.uaMatch(w),x.browser&&(e.browser[x.browser]=!0,e.browser.version=x.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?z=function(){c.removeEventListener("DOMContentLoaded",z,!1),e.ready()}:c.attachEvent&&(z=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",z),e.ready())});return e}(),g="done fail isResolved isRejected promise then always pipe".split(" "),h=[].slice;f.extend({_Deferred:function(){var a=[],b,c,d,e={done:function(){if(!d){var c=arguments,g,h,i,j,k;b&&(k=b,b=0);for(g=0,h=c.length;g<h;g++)i=c[g],j=f.type(i),j==="array"?e.done.apply(e,i):j==="function"&&a.push(i);k&&e.resolveWith(k[0],k[1])}return this},resolveWith:function(e,f){if(!d&&!b&&!c){f=f||[],c=1;try{while(a[0])a.shift().apply(e,f)}finally{b=[e,f],c=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return!!c||!!b},cancel:function(){d=1,a=[];return this}};return e},Deferred:function(a){var b=f._Deferred(),c=f._Deferred(),d;f.extend(b,{then:function(a,c){b.done(a).fail(c);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,pipe:function(a,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[c,"reject"]},function(a,c){var e=c[0],g=c[1],h;f.isFunction(e)?b[a](function(){h=e.apply(this,arguments),h&&f.isFunction(h.promise)?h.promise().then(d.resolve,d.reject):d[g](h)}):b[a](d[g])})}).promise()},promise:function(a){if(a==null){if(d)return d;d=a={}}var c=g.length;while(c--)a[g[c]]=b[g[c]];return a}}),b.done(c.cancel).fail(b.cancel),delete b.cancel,a&&a.call(b,b);return b},when:function(a){function i(a){return function(c){b[a]=arguments.length>1?h.call(arguments,0):c,--e||g.resolveWith(g,h.call(b,0))}}var b=arguments,c=0,d=b.length,e=d,g=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred();if(d>1){for(;c<d;c++)b[c]&&f.isFunction(b[c].promise)?b[c].promise().then(i(c),g.reject):--e;e||g.resolveWith(g,b)}else g!==a&&g.resolveWith(g,d?[a]:[]);return g.promise()}}),f.support=function(){var a=c.createElement("div"),b=c.documentElement,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;a.setAttribute("className","t"),a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=a.getElementsByTagName("*"),e=a.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};f=c.createElement("select"),g=f.appendChild(c.createElement("option")),h=a.getElementsByTagName("input")[0],j={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:a.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},h.checked=!0,j.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,j.optDisabled=!g.disabled;try{delete a.test}catch(s){j.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function b(){j.noCloneEvent=!1,a.detachEvent("onclick",b)}),a.cloneNode(!0).fireEvent("onclick")),h=c.createElement("input"),h.value="t",h.setAttribute("type","radio"),j.radioValue=h.value==="t",h.setAttribute("checked","checked"),a.appendChild(h),k=c.createDocumentFragment(),k.appendChild(a.firstChild),j.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML="",a.style.width=a.style.paddingLeft="1px",l=c.createElement("body"),m={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(q in m)l.style[q]=m[q];l.appendChild(a),b.insertBefore(l,b.firstChild),j.appendChecked=h.checked,j.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,j.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",j.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",n=a.getElementsByTagName("td"),r=n[0].offsetHeight===0,n[0].style.display="",n[1].style.display="none",j.reliableHiddenOffsets=r&&n[0].offsetHeight===0,a.innerHTML="",c.defaultView&&c.defaultView.getComputedStyle&&(i=c.createElement("div"),i.style.width="0",i.style.marginRight="0",a.appendChild(i),j.reliableMarginRight=(parseInt((c.defaultView.getComputedStyle(i,null)||{marginRight:0}).marginRight,10)||0)===0),l.innerHTML="",b.removeChild(l);if(a.attachEvent)for(q in{submit:1,change:1,focusin:1})p="on"+q,r=p in a,r||(a.setAttribute(p,"return;"),r=typeof a[p]=="function"),j[q+"Bubbles"]=r;return j}(),f.boxModel=f.support.boxModel;var i=/^(?:\{.*\}|\[.*\])$/,j=/([a-z])([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!l(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g=f.expando,h=typeof c=="string",i,j=a.nodeType,k=j?f.cache:a,l=j?a[f.expando]:a[f.expando]&&f.expando;if((!l||e&&l&&!k[l][g])&&h&&d===b)return;l||(j?a[f.expando]=l=++f.uuid:l=f.expando),k[l]||(k[l]={},j||(k[l].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?k[l][g]=f.extend(k[l][g],c):k[l]=f.extend(k[l],c);i=k[l],e&&(i[g]||(i[g]={}),i=i[g]),d!==b&&(i[f.camelCase(c)]=d);if(c==="events"&&!i[c])return i[g]&&i[g].events;return h?i[f.camelCase(c)]:i}},removeData:function(b,c,d){if(!!f.acceptData(b)){var e=f.expando,g=b.nodeType,h=g?f.cache:b,i=g?b[f.expando]:f.expando;if(!h[i])return;if(c){var j=d?h[i][e]:h[i];if(j){delete j[c];if(!l(j))return}}if(d){delete h[i][e];if(!l(h[i]))return}var k=h[i][e];f.support.deleteExpando||h!=a?delete h[i]:h[i]=null,k?(h[i]={},g||(h[i].toJSON=f.noop),h[i][e]=k):g&&(f.support.deleteExpando?delete b[f.expando]:b.removeAttribute?b.removeAttribute(f.expando):b[f.expando]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d=null;if(typeof a=="undefined"){if(this.length){d=f.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,g;for(var h=0,i=e.length;h<i;h++)g=e[h].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),k(this[0],g,d[g]))}}return d}if(typeof a=="object")return this.each(function(){f.data(this,a)});var j=a.split(".");j[1]=j[1]?"."+j[1]:"";if(c===b){d=this.triggerHandler("getData"+j[1]+"!",[j[0]]),d===b&&this.length&&(d=f.data(this[0],a),d=k(this[0],a,d));return d===b&&j[1]?this.data(j[0]):d}return this.each(function(){var b=f(this),d=[j[0],c];b.triggerHandler("setData"+j[1]+"!",d),f.data(this,a,c),b.triggerHandler("changeData"+j[1]+"!",d)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",f.data(a,c,(f.data(a,c,b,!0)||0)+1,!0))},_unmark:function(a,c,d){a!==!0&&(d=c,c=a,a=!1);if(c){d=d||"fx";var e=d+"mark",g=a?0:(f.data(c,e,b,!0)||1)-1;g?f.data(c,e,g,!0):(f.removeData(c,e,!0),m(c,d,"mark"))}},queue:function(a,c,d){if(a){c=(c||"fx")+"queue";var e=f.data(a,c,b,!0);d&&(!e||f.isArray(d)?e=f.data(a,c,f.makeArray(d),!0):e.push(d));return e||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e;d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),d.call(a,function(){f.dequeue(a,b)})),c.length||(f.removeData(a,b+"queue",!0),m(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(){var c=this;setTimeout(function(){f.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f._Deferred(),!0))h++,l.done(m);m();return d.promise()}});var n=/[\n\t\r]/g,o=/\s+/,p=/\r/g,q=/^(?:button|input)$/i,r=/^(?:button|input|object|select|textarea)$/i,s=/^a(?:rea)?$/i,t=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,u=/\:/,v,w;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.addClass(a.call(this,b,c.attr("class")||""))});if(a&&typeof a=="string"){var b=(a||"").split(o);for(var c=0,d=this.length;c<d;c++){var e=this[c];if(e.nodeType===1)if(!e.className)e.className=a;else{var g=" "+e.className+" ",h=e.className;for(var i=0,j=b.length;i<j;i++)g.indexOf(" "+b[i]+" ")<0&&(h+=" "+b[i]);e.className=f.trim(h)}}}return this},removeClass:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&typeof a=="string"||a===b){var c=(a||"").split(o);for(var d=0,e=this.length;d<e;d++){var g=this[d];if(g.nodeType===1&&g.className)if(a){var h=(" "+g.className+" ").replace(n," ");for(var i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){var d=f(this);d.toggleClass(a.call(this,c,d.attr("class"),b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(o);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if((" "+this[c].className+" ").replace(n," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e=this[0];if(!arguments.length){if(e){c=f.valHooks[e.nodeName.toLowerCase()]||f.valHooks[e.type];if(c&&"get"in c&&(d=c.get(e,"value"))!==b)return d;return(e.value||"").replace(p,"")}return b}var g=f.isFunction(a);return this.each(function(d){var e=f(this),h;if(this.nodeType===1){g?h=a.call(this,d,e.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c=a.selectedIndex,d=[],e=a.options,g=a.type==="select-one";if(c<0)return null;for(var h=g?c:0,i=g?c+1:e.length;h<i;h++){var j=e[h];if(j.selected&&(f.support.optDisabled?!j.disabled:j.getAttribute("disabled")===null)&&(!j.parentNode.disabled||!f.nodeName(j.parentNode,"optgroup"))){b=f(j).val();if(g)return b;d.push(b)}}if(g&&!d.length&&e.length)return f(e[c]).val();return d},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,c,d,e){var g=a.nodeType;if(!a||g===3||g===8||g===2)return b;if(e&&c in f.attrFn)return f(a)[c](d);if(!("getAttribute"in a))return f.prop(a,c,d);var h,i,j=g!==1||!f.isXMLDoc(a);c=j&&f.attrFix[c]||c,i=f.attrHooks[c],i||(!t.test(c)||typeof d!="boolean"&&d!==b&&d.toLowerCase()!==c.toLowerCase()?v&&(f.nodeName(a,"form")||u.test(c))&&(i=v):i=w);if(d!==b){if(d===null){f.removeAttr(a,c);return b}if(i&&"set"in i&&j&&(h=i.set(a,d,c))!==b)return h;a.setAttribute(c,""+d);return d}if(i&&"get"in i&&j)return i.get(a,c);h=a.getAttribute(c);return h===null?b:h},removeAttr:function(a,b){var c;a.nodeType===1&&(b=f.attrFix[b]||b,f.support.getSetAttribute?a.removeAttribute(b):(f.attr(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))),t.test(b)&&(c=f.propFix[b]||b)in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(q.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},tabIndex:{get:function(a){var c=a.getAttributeNode("tabIndex");return c&&c.specified?parseInt(c.value,10):r.test(a.nodeName)||s.test(a.nodeName)&&a.href?0:b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e=a.nodeType;if(!a||e===3||e===8||e===2)return b;var g,h,i=e!==1||!f.isXMLDoc(a);c=i&&f.propFix[c]||c,h=f.propHooks[c];return d!==b?h&&"set"in h&&(g=h.set(a,d,c))!==b?g:a[c]=d:h&&"get"in h&&(g=h.get(a,c))!==b?g:a[c]},propHooks:{}}),w={get:function(a,c){return a[f.propFix[c]||c]?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=b),a.setAttribute(c,c.toLowerCase()));return c}},f.attrHooks.value={get:function(a,b){if(v&&f.nodeName(a,"button"))return v.get(a,b);return a.value},set:function(a,b,c){if(v&&f.nodeName(a,"button"))return v.set(a,b,c);a.value=b}},f.support.getSetAttribute||(f.attrFix=f.propFix,v=f.attrHooks.name=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&d.nodeValue!==""?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);if(d){d.nodeValue=b;return b}}},f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})})),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}})),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var x=Object.prototype.hasOwnProperty,y=/\.(.*)$/,z=/^(?:textarea|input|select)$/i,A=/\./g,B=/ /g,C=/[^\w\s.|`]/g,D=function(a){return a.replace(C,"\\$&")};f.event={add:function(a,c,d,e){if(a.nodeType!==3&&a.nodeType!==8){if(d===!1)d=E;else if(!d)return;var g,h;d.handler&&(g=d,d=g.handler),d.guid||(d.guid=f.guid++);var i=f._data(a);if(!i)return;var j=i.events,k=i.handle;j||(i.events=j={}),k||(i.handle=k=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.handle.apply(k.elem,arguments):b}),k.elem=a,c=c.split(" ");var l,m=0,n;while(l=c[m++]){h=g?f.extend({},g):{handler:d,data:e},l.indexOf(".")>-1?(n=l.split("."),l=n.shift(),h.namespace=n.slice(0).sort().join(".")):(n=[],h.namespace=""),h.type=l,h.guid||(h.guid=d.guid);var o=j[l],p=f.event.special[l]||{};if(!o){o=j[l]=[];if(!p.setup||p.setup.call(a,e,n,k)===!1)a.addEventListener?a.addEventListener(l,k,!1):a.attachEvent&&a.attachEvent("on"+l,k)}p.add&&(p.add.call(a,h),h.handler.guid||(h.handler.guid=d.guid)),o.push(h),f.event.global[l]=!0}a=null}},global:{},remove:function(a,c,d,e){if(a.nodeType!==3&&a.nodeType!==8){d===!1&&(d=E);var g,h,i,j,k=0,l,m,n,o,p,q,r,s=f.hasData(a)&&f._data(a),t=s&&s.events;if(!s||!t)return;c&&c.type&&(d=c.handler,c=c.type);if(!c||typeof c=="string"&&c.charAt(0)==="."){c=c||"";for(h in t)f.event.remove(a,h+c);return}c=c.split(" ");while(h=c[k++]){r=h,q=null,l=h.indexOf(".")<0,m=[],l||(m=h.split("."),h=m.shift(),n=new RegExp("(^|\\.)"+f.map(m.slice(0).sort(),D).join("\\.(?:.*\\.)?")+"(\\.|$)")),p=t[h];if(!p)continue;if(!d){for(j=0;j<p.length;j++){q=p[j];if(l||n.test(q.namespace))f.event.remove(a,r,q.handler,j),p.splice(j--,1)}continue}o=f.event.special[h]||{};for(j=e||0;j<p.length;j++){q=p[j];if(d.guid===q.guid){if(l||n.test(q.namespace))e==null&&p.splice(j--,1),o.remove&&o.remove.call(a,q);if(e!=null)break}}if(p.length===0||e!=null&&p.length===1)(!o.teardown||o.teardown.call(a,m)===!1)&&f.removeEvent(a,h,s.handle),g=null,delete t[h]}if(f.isEmptyObject(t)){var u=s.handle;u&&(u.elem=null),delete s.events,delete s.handle,f.isEmptyObject(s)&&f.removeData(a,b,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){var h=c.type||c,i=[],j;h.indexOf("!")>=0&&(h=h.slice(0,-1),j=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if(!!e&&!f.event.customEvent[h]||!!f.event.global[h]){c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.exclusive=j,c.namespace=i.join("."),c.namespace_re=new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)");if(g||!e)c.preventDefault(),c.stopPropagation();if(!e){f.each(f.cache,function(){var a=f.expando,b=this[a];b&&b.events&&b.events[h]&&f.event.trigger(c,d,b.handle.elem
)});return}if(e.nodeType===3||e.nodeType===8)return;c.result=b,c.target=e,d=d?f.makeArray(d):[],d.unshift(c);var k=e,l=h.indexOf(":")<0?"on"+h:"";do{var m=f._data(k,"handle");c.currentTarget=k,m&&m.apply(k,d),l&&f.acceptData(k)&&k[l]&&k[l].apply(k,d)===!1&&(c.result=!1,c.preventDefault()),k=k.parentNode||k.ownerDocument||k===c.target.ownerDocument&&a}while(k&&!c.isPropagationStopped());if(!c.isDefaultPrevented()){var n,o=f.event.special[h]||{};if((!o._default||o._default.call(e.ownerDocument,c)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)){try{l&&e[h]&&(n=e[l],n&&(e[l]=null),f.event.triggered=h,e[h]())}catch(p){}n&&(e[l]=n),f.event.triggered=b}}return c.result}},handle:function(c){c=f.event.fix(c||a.event);var d=((f._data(this,"events")||{})[c.type]||[]).slice(0),e=!c.exclusive&&!c.namespace,g=Array.prototype.slice.call(arguments,0);g[0]=c,c.currentTarget=this;for(var h=0,i=d.length;h<i;h++){var j=d[h];if(e||c.namespace_re.test(j.namespace)){c.handler=j.handler,c.data=j.data,c.handleObj=j;var k=j.handler.apply(this,g);k!==b&&(c.result=k,k===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[f.expando])return a;var d=a;a=f.Event(d);for(var e=this.props.length,g;e;)g=this.props[--e],a[g]=d[g];a.target||(a.target=a.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var h=a.target.ownerDocument||c,i=h.documentElement,j=h.body;a.pageX=a.clientX+(i&&i.scrollLeft||j&&j.scrollLeft||0)-(i&&i.clientLeft||j&&j.clientLeft||0),a.pageY=a.clientY+(i&&i.scrollTop||j&&j.scrollTop||0)-(i&&i.clientTop||j&&j.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1e8,proxy:f.proxy,special:{ready:{setup:f.bindReady,teardown:f.noop},live:{add:function(a){f.event.add(this,O(a.origType,a.selector),f.extend({},a,{handler:N,guid:a.handler.guid}))},remove:function(a){f.event.remove(this,O(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!this.preventDefault)return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?F:E):this.type=a,b&&f.extend(this,b),this.timeStamp=f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=F;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=F;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=F,this.stopPropagation()},isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E};var G=function(a){var b=a.relatedTarget;a.type=a.data;try{if(b&&b!==c&&!b.parentNode)return;while(b&&b!==this)b=b.parentNode;b!==this&&f.event.handle.apply(this,arguments)}catch(d){}},H=function(a){a.type=a.data,f.event.handle.apply(this,arguments)};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={setup:function(c){f.event.add(this,b,c&&c.selector?H:G,a)},teardown:function(a){f.event.remove(this,b,a&&a.selector?H:G)}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(a,b){if(!f.nodeName(this,"form"))f.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;(c==="submit"||c==="image")&&f(b).closest("form").length&&L("submit",this,arguments)}),f.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;(c==="text"||c==="password")&&f(b).closest("form").length&&a.keyCode===13&&L("submit",this,arguments)});else return!1},teardown:function(a){f.event.remove(this,".specialSubmit")}});if(!f.support.changeBubbles){var I,J=function(a){var b=a.type,c=a.value;b==="radio"||b==="checkbox"?c=a.checked:b==="select-multiple"?c=a.selectedIndex>-1?f.map(a.options,function(a){return a.selected}).join("-"):"":f.nodeName(a,"select")&&(c=a.selectedIndex);return c},K=function(c){var d=c.target,e,g;if(!!z.test(d.nodeName)&&!d.readOnly){e=f._data(d,"_change_data"),g=J(d),(c.type!=="focusout"||d.type!=="radio")&&f._data(d,"_change_data",g);if(e===b||g===e)return;if(e!=null||g)c.type="change",c.liveFired=b,f.event.trigger(c,arguments[1],d)}};f.event.special.change={filters:{focusout:K,beforedeactivate:K,click:function(a){var b=a.target,c=f.nodeName(b,"input")?b.type:"";(c==="radio"||c==="checkbox"||f.nodeName(b,"select"))&&K.call(this,a)},keydown:function(a){var b=a.target,c=f.nodeName(b,"input")?b.type:"";(a.keyCode===13&&!f.nodeName(b,"textarea")||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")&&K.call(this,a)},beforeactivate:function(a){var b=a.target;f._data(b,"_change_data",J(b))}},setup:function(a,b){if(this.type==="file")return!1;for(var c in I)f.event.add(this,c+".specialChange",I[c]);return z.test(this.nodeName)},teardown:function(a){f.event.remove(this,".specialChange");return z.test(this.nodeName)}},I=f.event.special.change.filters,I.focus=I.beforeactivate}f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){function e(a){var c=f.event.fix(a);c.type=b,c.originalEvent={},f.event.trigger(c,null,c.target),c.isDefaultPrevented()&&a.preventDefault()}var d=0;f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.each(["bind","one"],function(a,c){f.fn[c]=function(a,d,e){var g;if(typeof a=="object"){for(var h in a)this[c](h,d,a[h],e);return this}if(arguments.length===2||d===!1)e=d,d=b;c==="one"?(g=function(a){f(this).unbind(a,g);return e.apply(this,arguments)},g.guid=e.guid||f.guid++):g=e;if(a==="unload"&&c!=="one")this.one(a,d,e);else for(var i=0,j=this.length;i<j;i++)f.event.add(this[i],a,g,d);return this}}),f.fn.extend({unbind:function(a,b){if(typeof a=="object"&&!a.preventDefault)for(var c in a)this.unbind(c,a[c]);else for(var d=0,e=this.length;d<e;d++)f.event.remove(this[d],a,b);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f.data(this,"lastToggle"+a.guid)||0)%d;f.data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var M={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};f.each(["live","die"],function(a,c){f.fn[c]=function(a,d,e,g){var h,i=0,j,k,l,m=g||this.selector,n=g?this:f(this.context);if(typeof a=="object"&&!a.preventDefault){for(var o in a)n[c](o,d,a[o],m);return this}if(c==="die"&&!a&&g&&g.charAt(0)==="."){n.unbind(g);return this}if(d===!1||f.isFunction(d))e=d||E,d=b;a=(a||"").split(" ");while((h=a[i++])!=null){j=y.exec(h),k="",j&&(k=j[0],h=h.replace(y,""));if(h==="hover"){a.push("mouseenter"+k,"mouseleave"+k);continue}l=h,M[h]?(a.push(M[h]+k),h=h+k):h=(M[h]||h)+k;if(c==="live")for(var p=0,q=n.length;p<q;p++)f.event.add(n[p],"live."+O(h,m),{data:d,selector:m,handler:e,origType:h,origHandler:e,preType:l});else n.unbind("live."+O(h,m),e)}return this}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.bind(b,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0)}),function(){function u(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1){f||(i.sizcache=c,i.sizset=g);if(typeof b!="string"){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}}i=i[a]}d[g]=j}}}function t(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=0,e=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){h=!1;return 0});var k=function(b,d,f,g){f=f||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return f;var i,j,n,o,q,r,s,t,u=!0,w=k.isXML(d),x=[],y=b;do{a.exec(""),i=a.exec(y);if(i){y=i[3],x.push(i[1]);if(i[2]){o=i[3];break}}}while(i);if(x.length>1&&m.exec(b))if(x.length===2&&l.relative[x[0]])j=v(x[0]+x[1],d);else{j=l.relative[x[0]]?[d]:k(x.shift(),d);while(x.length)b=x.shift(),l.relative[b]&&(b+=x.shift()),j=v(b,j)}else{!g&&x.length>1&&d.nodeType===9&&!w&&l.match.ID.test(x[0])&&!l.match.ID.test(x[x.length-1])&&(q=k.find(x.shift(),d,w),d=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]);if(d){q=g?{expr:x.pop(),set:p(g)}:k.find(x.pop(),x.length===1&&(x[0]==="~"||x[0]==="+")&&d.parentNode?d.parentNode:d,w),j=q.expr?k.filter(q.expr,q.set):q.set,x.length>0?n=p(j):u=!1;while(x.length)r=x.pop(),s=r,l.relative[r]?s=x.pop():r="",s==null&&(s=d),l.relative[r](n,s,w)}else n=x=[]}n||(n=j),n||k.error(r||b);if(e.call(n)==="[object Array]")if(!u)f.push.apply(f,n);else if(d&&d.nodeType===1)for(t=0;n[t]!=null;t++)n[t]&&(n[t]===!0||n[t].nodeType===1&&k.contains(d,n[t]))&&f.push(j[t]);else for(t=0;n[t]!=null;t++)n[t]&&n[t].nodeType===1&&f.push(j[t]);else p(n,f);o&&(k(o,h,f,g),k.uniqueSort(f));return f};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c);if(d!=null){a=a.replace(l.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},k.filter=function(a,c,d,e){var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);while(a&&c.length){for(var n in l.filter)if((f=l.leftMatch[n].exec(a))!=null&&f[2]){var o,p,q=l.filter[n],r=f[1];g=!1,f.splice(1,1);if(r.substr(r.length-1)==="\\")continue;j===i&&(i=[]);if(l.preFilter[n]){f=l.preFilter[n](f,j,d,i,e,m);if(!f)g=o=!0;else if(f===!0)continue}if(f)for(var s=0;(p=j[s])!=null;s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&o!=null?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){d||(j=i),a=a.replace(l.match[n],"");if(!g)return[];break}}if(a===h)if(g==null)k.error(a);else break;h=a}return j},k.error=function(a){throw"Syntax error, unrecognized expression:
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/registration_signin/registration-global.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/signon/carnival.js?v=2012s1 HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Wed, 08 Dec 2010 21:23:26 GMT
ETag: "7e1b-4cfff74e"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:02 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 32283
---Content---
var currentTab = new Array();
var playing = new Array();
var delayTime = 5000; // seconds*1000=delayTime
var timeOutFunction = new Array();
var maxTabs = new Array();
var galleryMax;

//example: 'popular', 'tab01', 'popular-tab01.jsp'
function tabPress(group, tabId, file) {

	
	var skipDate = true;
	if(!currentTab[group]) {
		currentTab[group] = group + "-tab01";
	}
	
	document.getElementById(currentTab[group]).className = "";
	document.getElementById(group + "-" + tabId).className = "current";
	currentTab[group] = group + "-" + tabId;
	var div = document.getElementById(group + "-tabs");
	if(file=="main-tab01.front" || file=="main-tab02.front" || file=="main-tab03.front"|| file=="main-tab04.front"  || file=="main-tab05.front") {
		skipDate = false;
	}
	
	// Begin AJAX request
	var http_request = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
       http_request = new XMLHttpRequest();
       if (http_request.overrideMimeType) {
       	  http_request.overrideMimeType('text/xml');
       }
    } 
	else if (window.ActiveXObject) { // IE
      try {
           http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } 
	  catch (e) {
          try {
               http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } 
		  catch (e) {
		  }
      }
    }
    
    if (!http_request) {
       return false;
    }
    http_request.onreadystatechange = function() { printContent(http_request, div, skipDate); };
    
	var now = new Date();
	var timestamp = now.getTime();
	if(file.indexOf("?") == -1 ) {
    	var filenamed = "/modules/mostpopular/" + file + "?time=" + timestamp;
	} else {
		var filenamed = "/modules/mostpopular/" + file + "&time=" + timestamp;
	}
		    	
    http_request.open('GET', filenamed, true);
    http_request.send(null);

}

function printContent(http_request, div, skipDate) {
	if (http_request.readyState == 4) {
        if (http_request.status == 200) {
            div.innerHTML = http_request.responseText;
			if(!skipDate){
				getTheDate("last-updated");
				getTheDate("last-updated-related");
			}
        } else {
            alert('There was a problem with the request.');
        }
    }
}


function playTab(div) {
    if(!playing[div]){
        playing[div] = true;
        slideShow(div);
    }
}

function pauseTab(div) {
    if(playing[div]){
        playing[div] = false;
        clearTimeout(timeOutFunction[div]);
    }
}

function slideShow(div) {
    var finalNextTab;
    var finalNextFile;
	    
    for(var i=1; i<=maxTabs[div]; i++) {
        var thisTabNum = "tab0" + i;
        var thisTab = div + "-" + thisTabNum;
        
        var nextI = i + 1;
        if(nextI > maxTabs[div]) {
            nextI = 1;
        }
        var nextTab = "tab0" + nextI;
        var nextFile = div + "-tab0" + nextI + ".front";
        
        if(currentTab[div] == thisTab){
            finalNextTab = nextTab;
            finalNextFile = nextFile;
        }
    }
    
    tabPress(div, finalNextTab, finalNextFile);
    
    if(playing[div]){
        timeOutFunction[div] = setTimeout('slideShow(\''+div+'\')', delayTime);
    }
}

function setTab(tabId, group, tabs) {
    currentTab[group] = group + "-" + tabId;
	maxTabs[group] = tabs;
}

// divNameRoot = "last-updated" or "last-updated-related"
function getTheDate(divNameRoot) {
    var i=1;
    for (i=1; i<16; i++) {
        var divString = divNameRoot + "-" + i;
        var dateContent =  document.getElementById(divString);
        if(dateContent == null) {
                        break;
        }
        var lastModTime = (new Date(dateContent.innerHTML)).getTime();
        var nowTime = (new Date()).getTime();
        var minutesAgo = Math.round(((nowTime - lastModTime)/1000)/60);
        if (minutesAgo < 60 && minutesAgo > 0) {
            if (minutesAgo <= 1) {
                document.getElementById(divString).innerHTML = '<p class="last-updated">Updated: less than a minute ago<p>';
				document.getElementById(divString).className = "";
            } else {
                document.getElementById(divString).innerHTML = '<p class="last-updated">Updated: ' + minutesAgo + ' minutes ago</p>';
				document.getElementById(divString).className = "";
            }
        }
        else if (minutesAgo <= 180 && minutesAgo > 0){
            var lastModTime = (new Date(dateContent.innerHTML));
            var hours = lastModTime.getHours();
            var minutes = lastModTime.getMinutes();
            var dateString = "";
            if(minutes < 10) {
                minutes = '0' + minutes;
            }
            if(hours == 0) {
                dateString = dateString + '12:' + minutes + ' a.m.';
            }
            else if(hours == 12) {
                dateString = dateString + '12:' + minutes + ' p.m.';
            }
            else if(hours > 12) {
                dateString = dateString + hours-12 + ':' + minutes + ' p.m.';
            }            
            else {
                dateString = dateString + hours + ':' + minutes + ' a.m.';
            }
            document.getElementById(divString).innerHTML = '<p class="last-updated">Updated: ' + dateString + ' </p>';
			document.getElementById(divString).className = "";
        }
        
    }
}

function generateDate(fullDate, shortDate, text, timestampAlways) {
	var lastModTime = (new Date(fullDate)).getTime();
    var nowTime = (new Date()).getTime();
    var minutesAgo = Math.round(((nowTime - lastModTime)/1000)/60);
    if (minutesAgo < 60 && minutesAgo > 0 && timestampAlways != 'true') {
        if (minutesAgo <= 1) {
            document.write('<span>' + text + ' less than a minute ago</span>');
        } else {
            document.write('<span>' + text + ' ' + minutesAgo + ' minutes ago</span>');
        }
    } else if ( (minutesAgo <= 180 && minutesAgo > 0 && shortDate != "") || timestampAlways == 'true') {
		var dateLength = shortDate.length;
    	var shortDateSub = shortDate.substring(0, dateLength-2);
   		    		
   		if (shortDate.substring(dateLength-2) == 'AM')
   		    document.write('<span>' + text + ' ' + shortDateSub + 'a.m.' + '</span>');
   		else
   		    document.write('<span>' + text + ' ' + shortDateSub + 'p.m.' + '</span>');
	}
}
function generateDateShort(fullDate, shortDate) {
	var lastModTime = (new Date(fullDate)).getTime();
    var nowTime = (new Date()).getTime();
    var minutesAgo = Math.round(((nowTime - lastModTime)/1000)/60);
    if (minutesAgo < 60 && minutesAgo > 0) {
        if (minutesAgo <= 1) {
            document.write('<span class="short-date">less than a min</span>');
        } else {
            document.write('<span class="short-date">' + minutesAgo + ' mins ago</span>');
        }
    }
	else if (minutesAgo <= 180 && minutesAgo > 0) {
		if(shortDate != "") {	
    		var dateLength = shortDate.length;
    		var shortDateSub = shortDate.substring(0, dateLength-2);
    		    		
    		if (shortDate.substring(dateLength-2) == 'AM')
    		    document.write('<span class="short-date">' + shortDateSub + 'a.m.' + '</span>');
    		else
    		    document.write('<span class="short-date">' + shortDateSub + 'p.m.' + '</span>');
	    }
	}
}

function generateDateShowAlways(fullDate, shortDate, printDate, text, timeStampAlways) {
	var lastModTime = (new Date(fullDate)).getTime();
    var nowTime = (new Date()).getTime();
    var minutesAgo = Math.round(((nowTime - lastModTime)/1000)/60);
    if (minutesAgo < 60 && minutesAgo > 0 && timeStampAlways != 'true') {
        if (minutesAgo <= 1) {
            document.write('<span>' + text + ' less than a minute ago</span>');
        } else {
            document.write('<span>' + text + ' ' + minutesAgo + ' minutes ago</span>');
        }
    }
	else if (minutesAgo <= 720 && minutesAgo > 0 && shortDate != "" && timeStampAlways != 'true') {
		var dateLength = shortDate.length;
    	var shortDateSub = shortDate.substring(0, dateLength-2);
   		    		
   		if (shortDate.substring(dateLength-2) == 'AM')
   		    document.write('<span>' + text + ' ' + shortDateSub + 'a.m.' + '</span>');
   		else
   		    document.write('<span>' + text + ' ' + shortDateSub + 'p.m.' + '</span>');
	} else if (minutesAgo <= 1440 && minutesAgo > 0 && timeStampAlways != 'true') {
		var hoursAgo = Math.round(minutesAgo/60);
		document.write('<span>' + text + ' ' + hoursAgo + ' hours ago</span>');
	} else if (minutesAgo > 1440 && printDate != "") {
	 	document.write('<span>' + text + ' ' + printDate + '</span>');
	} else if(minutesAgo <= 1440 && minutesAgo > 0 && timeStampAlways == 'true' && shortDate != ""){
		var shortDateSub = shortDate.substring(0, shortDate.length-2);		
   		if (shortDate.substring(shortDate.length-2) == 'AM')
   		    shortDateSub = shortDateSub + 'a.m.';
   		else
   		    shortDateSub = shortDateSub + 'p.m.';
		document.write('<span>' + text + ' ' + shortDateSub + '</span>');
	}
}
//Lead Content Rotating
var currentStory = 0;
var playingRotation = false;
var totalItems = 0;
var rotations = 0;

function storyRotationLoad(itemIndex) {
	
	// Begin AJAX request
	var http_request = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
       http_request = new XMLHttpRequest();
       if (http_request.overrideMimeType) {
       	  http_request.overrideMimeType('text/xml');
       }
    } 
	else if (window.ActiveXObject) { // IE
      try {
           http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } 
	  catch (e) {
          try {
               http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } 
		  catch (e) {
		  }
      }
    }    
    if (!http_request) {
       return false;
    }	
    http_request.onreadystatechange = function() { printContent(http_request, document.getElementById('module-lead-content'), false); };
    
	var now = new Date();
	var timestamp = now.getTime();
	var filenamed = "story-rotation.front?index=" + itemIndex + "&time=" + timestamp + "&coll=" + itemColl;
			
    http_request.open('GET', filenamed, true);
    http_request.send(null);
}

function nextStoryRotation() {
	currentStory++;
	if(currentStory > totalItems) {
		currentStory = 1
		rotations+=1;
	}
	storyRotationLoad(currentStory);
}
function previousStoryRotation() {
	currentStory--;
	if(currentStory <= 0) {
		currentStory = totalItems
	}
	storyRotationLoad(currentStory);
}
function rotationPrev() {
	clearTimeout(rotationTimeout);
	previousStoryRotation();
}
function rotationStart(items, collection) {
	totalItems = items;
	itemColl = collection;
	if(currentStory == 1 || currentStory == 0){
		rotations = 0;
	} else {
		rotations = -1;
	}
	if(playingRotation) {
		clearTimeout(rotationTimeout);
	}
	rotateStory();
}
function rotateStory() {
	if(rotations<3){
		nextStoryRotation()
		rotationTimeout = setTimeout('rotateStory()', 10000);
		playingRotation = true;
	}
}
function rotationStop() {
	clearTimeout(rotationTimeout);
}

//functions for promo rotation

var promoMax;

function promoRotationNext(promoIndex, promoColl) {
	promoIndex++;
	if(promoIndex > promoMax) {
		promoIndex = 1;
	}
	promoRotationLoad(promoIndex, promoColl);
}

function promoRotationPrev(promoIndex, promoColl) {
	promoIndex--;
	if(promoIndex <= 0) {
		promoIndex = promoMax;
	}
	promoRotationLoad(promoIndex, promoColl);
}

function promoRotationLoad(promoItemIndex, promoItemColl) {
	
	// Begin AJAX request
	var http_request = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
       http_request = new XMLHttpRequest();
       if (http_request.overrideMimeType) {
       	  http_request.overrideMimeType('text/xml');
       }
    } 
	else if (window.ActiveXObject) { // IE
      try {
           http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } 
	  catch (e) {
          try {
               http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } 
		  catch (e) {
		  }
      }
    }    
    if (!http_request) {
       return false;
    }	
    http_request.onreadystatechange = function() { printContent(http_request, document.getElementById('module-promo'), false); };
    
	var now = new Date();
	var timestamp = now.getTime();
	var filenamed = "promo-rotation.front?index=" + promoItemIndex + "&time=" + timestamp + "&coll=" + promoItemColl;
			
    http_request.open('GET', filenamed, true);
    http_request.send(null);
}

//Functions for Photo Gallery Display 

function galleryRotationNext(promoIndex, promoColl) {
	promoIndex++;
	if(promoIndex > galleryMax) {
		promoIndex = 1;
	}
	galleryRotationLoad(promoIndex, promoColl);
}

function galleryRotationPrev(promoIndex, promoColl) {
	promoIndex--;
	if(promoIndex <= 0) {
		promoIndex = galleryMax;
	}
	galleryRotationLoad(promoIndex, promoColl);
}

function galleryRotationLoad(promoItemIndex, promoItemColl) {
	
	// Begin AJAX request
	var http_request = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
       http_request = new XMLHttpRequest();
       if (http_request.overrideMimeType) {
       	  http_request.overrideMimeType('text/xml');
       }
    } 
	else if (window.ActiveXObject) { // IE
      try {
           http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } 
	  catch (e) {
          try {
               http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } 
		  catch (e) {
		  }
      }
    }    
    if (!http_request) {
       return false;
    }	
    http_request.onreadystatechange = function() { printContent(http_request, document.getElementById('gallery-module'), false); };
    
	var now = new Date();
	var timestamp = now.getTime();
	var filenamed = "gallery-rotation.front?index=" + promoItemIndex + "&max=" + galleryMax + "&item=" + promoItemColl;
			
    http_request.open('GET', filenamed, true);
    http_request.send(null);
}

//Health Lead Content

function itemRotationLoad(itemIndex) {
	
	// Begin AJAX request
	var http_request = false;
    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
       http_request = new XMLHttpRequest();
       if (http_request.overrideMimeType) {
       	  http_request.overrideMimeType('text/xml');
       }
    } 
	else if (window.ActiveXObject) { // IE
      try {
           http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } 
	  catch (e) {
          try {
               http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } 
		  catch (e) {
		  }
      }
    }    
    if (!http_request) {
       return false;
    }	
    http_request.onreadystatechange = function() { printContent(http_request, document.getElementById('lead-content-single-item'), false); applyImagesToLeadContent(itemIndex); };
    
	var filenamed = "health-lead-content-1.front?index=" + itemIndex + "&coll=" + itemColl + "&limit=" + healthLeadCount;
			
    http_request.open('GET', filenamed, true);
    http_request.send(null);
	
	
}

function nextItemRotation() {
	currentStory++;
	if(currentStory > totalLeadItems) {
		currentStory = 1
		rotations+=1;
	}
	itemRotationLoad(currentStory);
}
function previousItemRotation() {
	currentStory--;
	if(currentStory <= 0) {
		currentStory = totalLeadItems
	}
	itemRotationLoad(currentStory);
}
function itemRotationPrev() {
	clearTimeout(rotationTimeout);
	previousItemRotation();
}
function itemRotationStart(collection, leadItemCount) {
	totalLeadItems = leadItemCount;
	itemColl = collection;
	healthLeadCount = leadItemCount;
	if(currentStory == 1 || currentStory == 0){
		rotations = 0;
	} else {
		rotations = -1;
	}
	if(playingRotation) {
		clearTimeout(rotationTimeout);
	}
	rotateItem();
}
function rotateItem() {
	if(rotations<3){
		nextItemRotation()
		rotationTimeout = setTimeout('rotateItem()', 10000);
		playingRotation = true;
	}
}

function gotoLeadItem(collection) {
	collCode = collection;
	clearTimeout(rotationTimeout);
	itemRotationLoad(collCode);
}

function applyImagesToLeadContent(imageIndex) {
	theClass = "slide-" + imageIndex;
	var controlDiv = document.getElementById('lead-content-controls');
	linkTags = controlDiv.getElementsByTagName('a');
	for (i=0; i<linkTags.length; i++) {
		if (linkTags[i].className==theClass) {
			linkTags[i].className='lead-slide-index-active';
		}
	}
}
		


function popUp(URL) {
	day = new Date();
	id = day.getTime();
	eval("page" + id + " = window.open(URL, '" + id + "', 'toolbar=1,scrollbars=1,location=1,statusbar=1,menubar=1,resizable=1,width=1024,height=768,left = 0,top = 0');");
}
function playRelatedVideo(url) {
	var iFrame = document.getElementById('worldnowFrame526x375');
	if(iFrame != null) {
		if(url.indexOf("?") == -1 ) {
   			iFrame.src = url + "?size=526x389";
		} else {
			iFrame.src = url + "&size=526x389";
		}
		return false;
	} else {
		iFrame = document.getElementById('worldnowFrame300x665');
		if(iFrame != null ) {
			if(url.indexOf("?") == -1 ) {
    			iFrame.src = url + "?size=300x665";
			} else {
				iFrame.src = url + "&size=300x665";
			}
			return false;
		} else {
			return true;
		}
	}
}
function playRelatedVideoSmall(url) {
	var iFrame = document.getElementById('worldnowFrame300x265');
	if(iFrame != null) {
		if(url.indexOf("?") == -1 ) {
   			iFrame.src = url + "?size=300x265";
		} else {
			iFrame.src = url + "&size=300x265";
		}
		return false;
	} 
}
function clickOmni(tabId) {

		    var s=s_gi('tribsunsentinel');
		    s.linkTrackVars='eVar23,server';
		    s.eVar23='Sun-Sentinel.com:' + tabId;
		    s.server='sun-sentinel.com';
		    s.tl(true,'o', tabId );
}
function reSort(x){
	if (document.sort_form.jumpmenu.value != "null") {
		document.location.href = x
	}
}
function advReSort(target){
		document.adv_results_form.sortby.value=document.adv_results_form.jumpmenu.value;
		performSearch(document.adv_results_form,target);
}
function setMaxHeight(obj){
    var maxHeight = 0;
    obj.select('.tabDisplay').each(
		function(tab){
			if(tab.getHeight() > maxHeight){
				maxHeight = tab.getHeight();
			}
		}
	);
	obj.select('.tabDisplay').each(
	    function(e){
	        e.setStyle({height: maxHeight+"px"});
		});
}
function contentSwitch(tabNum, elm, num) {
    var obj = $(elm);
	var width = obj.up('.tabModuleContainer').down('.tabContentContainer').getWidth();
	var holder = obj.up('.tabModuleContainer').down('.tabContentHolder');
	holder.setStyle({left: (width * num * -1) + 'px'});
	
	obj.up('.tabModuleContainer').select('.tab').each(
        function(e){
        if(obj.up('.tab') == e && !e.hasClassName('curTab'))
            e.addClassName('curTab');
        else if(obj.up('.tab') != e && e.hasClassName('curTab'))
            e.removeClassName('curTab');
    });
};
function updateTabDisplay(target, elm){
    var obj = $(elm);
    obj.up('.tabModuleContainer').select('.tabDisplay').each(
        function(tab){
        if(tab.hasClassName(target) && !tab.hasClassName('currentTabDisplay')){
            tab.addClassName('currentTabDisplay');
        } else if(!tab.hasClassName(target)) {
            tab.removeClassName('currentTabDisplay');
        }
    });
    obj.up('.tabModuleContainer').select('.tab').each(
        function(e){
        if(obj.up('.tab') == e && !e.hasClassName('curTab'))
            e.addClassName('curTab');
        else if(obj.up('.tab') != e && e.hasClassName('curTab'))
            e.removeClassName('curTab');
    });
}
function checkForm(searchForm) {
	var valid;
	function trim(s) {
		s = s.replace(/(^\s*)|(\s*$)/gi,"");
		s = s.replace(/[ ]{2,}/gi," ");
		s = s.replace(/\n /,"\n");
		return s;
	}
	var srchVal=trim(searchForm.Query.value);	
	if(srchVal == "" || srchVal == "Search") {
		alert("Please Enter a Search Term");
		searchForm.Query.focus();
		if(window.event)
		    window.event.returnValue=false;
		valid = false;
	}
	return valid;
}
function trim(elm) {
    return elm.replace(/\s+$/, '');
}
function setContentDisplay(cntnt, elm){
    currentContent = cntnt;
    var obj = $(elm);
	var pages = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent').select('.tabContent').size();	
	var modSize = obj.up('.tabModuleContainer').down('.tabContentContainer').getWidth();
    var show = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent');
	var clear = obj.up('.tabModuleContainer').down('.tabContentHolder').children;
    var holder = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent').down('.tabHolder');
	var currentPosition = holder.getStyle('right') == null ? "0" : holder.getStyle('right').sub('px', '');
	
	for (i=0; i<clear.length; i++) 
    	clear.item(i).style.visibility='hidden' 

	show.style.visibility='visible'
	
	if (currentPosition == "0") {
		if (pages <= 1) {
			document.getElementById('nextTab').className='disable'; 
			document.getElementById('prevTab').className='disable'; 
		} else {
			document.getElementById('nextTab').className=''; 
			document.getElementById('prevTab').className='disable'; 
		}
	} else {
		if (((currentPosition / modSize) + 1) == (pages)) {
			document.getElementById('nextTab').className='disable'; 
			document.getElementById('prevTab').className=''; 
		} else if ((currentPosition / modSize) == 0) {
			document.getElementById('nextTab').className='';  
			document.getElementById('prevTab').className='disable'; 	
		} else {
			document.getElementById('nextTab').className='';  
			document.getElementById('prevTab').className=''; 	
		}
	}
}
	
function showNext(elm){
    var obj = $(elm);
	var pages = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent').select('.tabContent').size();
	var modSize = obj.up('.tabModuleContainer').down('.tabContentContainer').getWidth();
	var maxLength = modSize * (pages-1);
    var holder = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent').down('.tabHolder');
	var currentPosition = holder.getStyle('right') == null ? "0" : holder.getStyle('right').sub('px', '');
	var slide = modSize + parseInt(currentPosition);
	
	if (((currentPosition / modSize) + 1) >= (pages - 1)) {
		document.getElementById('nextTab').className='disable';  
		document.getElementById('prevTab').className='';  	
	} else {
		document.getElementById('nextTab').className='';  
		document.getElementById('prevTab').className='';  		
	}  
	
	if(slide <= maxLength){
		holder.setStyle({right: slide + 'px'});
	}
}

function showPrevious(elm){
    var obj = $(elm);
	var pages = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent').select('.tabContent').size();	
	var modSize = obj.up('.tabModuleContainer').down('.tabContentContainer').getWidth();
    var holder = obj.up('.tabModuleContainer').down('.' + currentContent + 'TabContent').down('.tabHolder');
	var currentPosition = holder.getStyle('right') == null ? "0" : holder.getStyle('right').sub('px', '');
	var slide = Math.abs(modSize - parseInt(currentPosition));
	
	if ((currentPosition / modSize) <= 1) {
		document.getElementById('nextTab').className='';  
		document.getElementById('prevTab').className='disable'; 	
	} else {
		document.getElementById('nextTab').className='';  
		document.getElementById('prevTab').className='';  
	}  
	
	if(currentPosition != '0'){
		holder.setStyle({right: slide + 'px'});
	}
}
(function() {

	// Dan Krecichwost

	var window = this,
	doc = window.document,
	undefined,
	health,
	utils,
	tabs,
	tabsConfig;

	window.health = health = window.health || {};

	/* UTILS */

	health.utils = utils = {

		replaceHtml : function(el, html) {

			// Steven Levithan, http://blog.stevenlevithan.com/archives/faster-than-innerhtml

			var oldEl = typeof el === "string" ? doc.getElementById(el) : el;

			/*@cc_on // Pure innerHTML is slightly faster in IE
				oldEl.innerHTML = html;
				return oldEl;
			@*/

			var newEl = oldEl.cloneNode(false);
			newEl.innerHTML = html;
			oldEl.parentNode.replaceChild(newEl, oldEl);
			return newEl;
		},
		
		applyAttributes : function(parent, objects, attributes) {
			var x, i, l = objects.length;
			for (x in attributes) {
				for (i = 1; i <= l; i++) {
					objects[i-1][x] = attributes[x](parent, i);
				}
			}
		},
		
		isFunction : function(func) {
			return typeof func == 'function';
		}
	};


/* TABS */

	health.tabs = tabs = function tabs(tabsetName, tabsetConfiguration) {
		
		var t = this,
		tabset = t.tabset = tabsetConfiguration || (tabset = tabs.config[tabsetName]) ? tabset() : null,
		defaultConfig = tabsConfig.__defaultConfig(),
		x;
		
		if (!(tabset && tabset.panel)) {
			return false;
		}
		
		for (x in tabset) {
			t[x] = tabset[x];
		}

		var panel = t.panel,
		tab = t.tab,
		startIndex = t.index = t.startIndex || defaultConfig.startIndex;

		t.tabsetName = tabsetName;
		t.collection[tabsetName] = t;
		
		function buildCollection(object) {
			if (object) {
				object.collection = object.collection || $$(object.selector);
				object.current = object.collection[startIndex-1];
				if (object.events) {
					utils.applyAttributes(t, object.collection, object.events);
				}
			}
		}
		
		buildCollection(panel);
		buildCollection(tab);

		for (x in defaultConfig) {
			if (!t[x]) {
				t[x] = utils.isFunction(defaultConfig[x]) ? defaultConfig[x](t) : defaultConfig[x];
			}
		}

		if (t.autoStart) {
			t.startRotation();
		}
	};
	
	tabs.collection = tabs.prototype.collection = {};

	tabs.prototype.rotate = function(t, index, instant) {
	
		if (!t) {
			t = this;
		}
		
		t.index = index || (t.index % t.indexTotal + 1);
		
		if (t.tab) {
			t.switchTab();
		}

		if (t.panel) {
			if (instant) {
				t.switchPanelInstant();
			} else {
				t.switchPanel();
			}
		}
	};

	tabs.prototype.startRotation = function() {

		var t = this,
		callback = t.rotate;

		/*@cc_on
			callback = function(t) {
				return function() {
					t.rotate();
				};
			}(t);
		@*/

		t.timeout = window.setInterval(callback, t.interval, t, null, null);

		t = callback = null;
	};

	tabs.prototype.stopRotation = function() {

		if (this.timeout) {
			window.clearInterval(this.timeout);
			this.timeout = null;
		}
	};
	
	tabs.prototype.switchTab = function(t) {
		
		t = t || this;
		var tab = t.tab,
		indexTab = tab.collection[t.index-1],
		currentTab = tab.current;
		
		if (indexTab && currentTab && currentTab != indexTab) {

			$(currentTab).removeClassName(tab.selectedClass);
			$(indexTab).addClassName(tab.selectedClass);

			tab.current = indexTab;
		}
		t = indexTab = currentTab = null;
	};
	
	tabs.prototype.switchPanel = function(t) {
		
		t = t || this;
		var panel = t.panel,
		indexPanel = panel.collection[t.index-1],
		currentPanel = panel.current;

		if (indexPanel && currentPanel && currentPanel != indexPanel) {

			$(currentPanel).removeClassName(panel.selectedClass);
			$(indexPanel).addClassName(panel.selectedClass);

			window.Effect[t.effect](indexPanel, { duration: t.effectDuration / 1000 });
			currentPanel.style.display = 'block';

			if (panel.timeout) {
				window.clearTimeout(panel.timeout);
			}

			panel.timeout = window.setTimeout(function() { currentPanel.style.display = 'none'; panel.timeout = currentPanel = null; }, t.effectDuration + 100);

			panel.current = indexPanel;
		}
		t = indexPanel = null;
	};
	
	tabs.prototype.switchPanelInstant = function(t) {

		t = t || this;
		var panel = t.panel,
		indexPanel = panel.collection[t.index-1],
		currentPanel = panel.current;

		if (indexPanel && currentPanel && currentPanel != indexPanel) {

			$(currentPanel).removeClassName(panel.selectedClass);
			$(indexPanel).addClassName(panel.selectedClass);

			currentPanel.style.display = 'none';
			panel.collection[t.index-1].style.display = 'block';
			
			panel.current = indexPanel;
		}
		t = indexPanel = currentPanel = null;
	};
	
	// configurations prefixed with a double underscore are not meant to be used as arguments to the tabs constructor
	tabs.config = tabsConfig = {

		__defaultConfig : function() {

			return {
				startIndex : 1,
				indexTotal : function(t) { 
					return t.panel.collection.length;
				},
				interval : 5000,
				autoStart : false,
				effect : 'Appear',
				effectDuration : 1000
			};
		},

		scrollTabs : function() {

			return {
				panel : {
					selector : '#hlt-scrollTabs-area > ul',
					selectedClass : 'hlt-scrollTabs-panel-selected'
				},
				tab : {
					selector : '#hlt-scrollTabs-nav > li',
					selectedClass : 'hlt-scrollTabs-nav-selected',
					events : {
						onclick : function(t, i) {
							return function() { 
								t.rotate(t, i, false);
								return false;
							};
						}
					}
				},
				autoStart : false,
				effect : 'Appear',
				effectDuration : 300
			};
		},

		leadContent : function() {

			return {
				panel : {
					selector : '#hlt-leadContent-imgArea > li',
					selectedClass : 'hlt-leadContent-img-selected'
				},
				tab : {
					selector : '#hlt-leadContent-nav-ul > li',
					selectedClass : 'hlt-leadContent-nav-selected',
					events : {
						onclick : function(t, i) {
							return function() {
								t.stopRotation();
								t.rotate(t, i, true);
								return false;
							};
						}
					}
				},
				interval : 12000,
				autoStart : true,
				effect : 'Appear',
				effectDuration : 1000
			};
		},

		newsRotator : function() {

			return {
				panel : {
					selector : '#hlt-newsRotator-list > li',
					selectedClass : 'hlt-newsRotator-item-selected'
				},
				interval : 5000,
				autoStart : true,
				effect : 'Appear',
				effectDuration : 1000
			};
		},

		__azIndex : function(type) {

			function displayResults(panel, letter) {
				new window.Ajax.Request("/encyclo-results.front?index=" + letter + "&type=" + type, {
					method : 'get',
					onCreate : function(transport){
						panel.innerHTML = '<div class="loading-image"><img src="/common/images/loading.gif"></div>';
					},
					onSuccess : function(transport){
						panel.innerHTML = transport.responseText;
					}
				});
			};

			return {
				panel : {
					selector : '#hlt-enc-results'
				},
				tab : {
					selector : '#hlt-enc-letters > a',
					events : {
						onclick : function(t, i) {
							return function() {
								displayResults(t.panel.current, String.fromCharCode(96 + i));
								return false;
							};
						}
					}
				},
				interval : 5000,
				autoStart : true,
				effect : 'Appear',
				effectDuration : 1000,
				startRotation : function() {
	
					var indexParam = gup('index');
					if (indexParam) {
						displayResults(this.panel.current, indexParam);
					}
				}
			};
		},
		
		azIndex1 : function() {
			return tabsConfig.__azIndex(1);
		},
		
		azIndex2 : function() {
			return tabsConfig.__azIndex(2);
		}
	}
})();
function initRotater(elm, delay, bullets){
    var obj = $(elm);
    setTimeout(function() { runRotater(obj, delay); }, delay*1000);
    if(bullets == 'yes'){
        setTimeout(function() { runRotaterBullets(obj, delay); }, delay*1000);
    }
}
function runRotater(elm, delay) {
    var obj = $(elm);
    
    var current = obj.down('.rotatingHeadlines').down('.active');
    var next = current.next() != null ? next = current.next() : next = obj.down('.rotatingHeadlines').down();
    
    Effect.Fade(current, {duration: 0.25});
    current.setStyle({display: 'none'});
    current.removeClassName('active');
    Effect.Appear(next, {duration: 0.25});
    next.addClassName('active');
    next.setStyle({display: 'block'});
    setTimeout(function() { runRotater(obj, delay); }, delay*1000);
}
function runRotaterBullets(elm, delay) {
    var obj = $(elm);
    
    var currentBullet = obj.down('.rotatingHeadlinesBullets').down('.active');
    var nextBullet = currentBullet.next() != null ? nextBullet = currentBullet.next() : nextBullet = obj.down('.rotatingHeadlinesBullets').down();
    
    currentBullet.removeClassName('active');
    nextBullet.addClassName('active');
    setTimeout(function() { runRotaterBullets(obj, delay); }, delay*1000);
}
function rh_jump(index, elm){
    var obj = $(elm);
    var i = 1;
    obj.select('.rotatingHeadlines li').each(
        function(tab){
        if(i == index){
            tab.addClassName('active');
            tab.setStyle({display: 'block'});
        } else {
            tab.removeClassName('active');
            tab.setStyle({display: 'none'});
        }
        i++;
    });
    i = 1;
    obj.select('.rotatingHeadlinesBullets li').each(
        function(tab){
        if(i == index){
            tab.addClassName('active');
        } else {
            tab.removeClassName('active');
        }
        i++;
    });
}
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@71e2e969
---Content---
/*
 * jQuery JavaScript Library v1.3.2
 * http://jquery.com/
 *
 * Copyright (c) 2009 John Resig
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Date: 2009-02-19 17:34:21 -0500 (Thu, 19 Feb 2009)
 * Revision: 6246
 */
(function(){var l=this,g,y=l.jQuery,p=l.$,o=l.jQuery=l.$=function(E,F){return new o.fn.init(E,F)},D=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,f=/^.[^:#\[\.,]*$/;o.fn=o.prototype={init:function(E,H){E=E||document;if(E.nodeType){this[0]=E;this.length=1;this.context=E;return this}if(typeof E==="string"){var G=D.exec(E);if(G&&(G[1]||!H)){if(G[1]){E=o.clean([G[1]],H)}else{var I=document.getElementById(G[3]);if(I&&I.id!=G[3]){return o().find(E)}var F=o(I||[]);F.context=document;F.selector=E;return F}}else{return o(H).find(E)}}else{if(o.isFunction(E)){return o(document).ready(E)}}if(E.selector&&E.context){this.selector=E.selector;this.context=E.context}return this.setArray(o.isArray(E)?E:o.makeArray(E))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(E){return E===g?Array.prototype.slice.call(this):this[E]},pushStack:function(F,H,E){var G=o(F);G.prevObject=this;G.context=this.context;if(H==="find"){G.selector=this.selector+(this.selector?" ":"")+E}else{if(H){G.selector=this.selector+"."+H+"("+E+")"}}return G},setArray:function(E){this.length=0;Array.prototype.push.apply(this,E);return this},each:function(F,E){return o.each(this,F,E)},index:function(E){return o.inArray(E&&E.jquery?E[0]:E,this)},attr:function(F,H,G){var E=F;if(typeof F==="string"){if(H===g){return this[0]&&o[G||"attr"](this[0],F)}else{E={};E[F]=H}}return this.each(function(I){for(F in E){o.attr(G?this.style:this,F,o.prop(this,E[F],G,I,F))}})},css:function(E,F){if((E=="width"||E=="height")&&parseFloat(F)<0){F=g}return this.attr(E,F,"curCSS")},text:function(F){if(typeof F!=="object"&&F!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(F))}var E="";o.each(F||this,function(){o.each(this.childNodes,function(){if(this.nodeType!=8){E+=this.nodeType!=1?this.nodeValue:o.fn.text([this])}})});return E},wrapAll:function(E){if(this[0]){var F=o(E,this[0].ownerDocument).clone();if(this[0].parentNode){F.insertBefore(this[0])}F.map(function(){var G=this;while(G.firstChild){G=G.firstChild}return G}).append(this)}return this},wrapInner:function(E){return this.each(function(){o(this).contents().wrapAll(E)})},wrap:function(E){return this.each(function(){o(this).wrapAll(E)})},append:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.appendChild(E)}})},prepend:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.insertBefore(E,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this)})},after:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this.nextSibling)})},end:function(){return this.prevObject||o([])},push:[].push,sort:[].sort,splice:[].splice,find:function(E){if(this.length===1){var F=this.pushStack([],"find",E);F.length=0;o.find(E,this[0],F);return F}else{return this.pushStack(o.unique(o.map(this,function(G){return o.find(E,G)})),"find",E)}},clone:function(G){var E=this.map(function(){if(!o.support.noCloneEvent&&!o.isXMLDoc(this)){var I=this.outerHTML;if(!I){var J=this.ownerDocument.createElement("div");J.appendChild(this.cloneNode(true));I=J.innerHTML}return o.clean([I.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}else{return this.cloneNode(true)}});if(G===true){var H=this.find("*").andSelf(),F=0;E.find("*").andSelf().each(function(){if(this.nodeName!==H[F].nodeName){return}var I=o.data(H[F],"events");for(var K in I){for(var J in I[K]){o.event.add(this,K,I[K][J],I[K][J].data)}}F++})}return E},filter:function(E){return this.pushStack(o.isFunction(E)&&o.grep(this,function(G,F){return E.call(G,F)})||o.multiFilter(E,o.grep(this,function(F){return F.nodeType===1})),"filter",E)},closest:function(E){var G=o.expr.match.POS.test(E)?o(E):null,F=0;return this.map(function(){var H=this;while(H&&H.ownerDocument){if(G?G.index(H)>-1:o(H).is(E)){o.data(H,"closest",F);return H}H=H.parentNode;F++}})},not:function(E){if(typeof E==="string"){if(f.test(E)){return this.pushStack(o.multiFilter(E,this,true),"not",E)}else{E=o.multiFilter(E,this)}}var F=E.length&&E[E.length-1]!==g&&!E.nodeType;return this.filter(function(){return F?o.inArray(this,E)<0:this!=E})},add:function(E){return this.pushStack(o.unique(o.merge(this.get(),typeof E==="string"?o(E):o.makeArray(E))))},is:function(E){return !!E&&o.multiFilter(E,this).length>0},hasClass:function(E){return !!E&&this.is("."+E)},val:function(K){if(K===g){var E=this[0];if(E){if(o.nodeName(E,"option")){return(E.attributes.value||{}).specified?E.value:E.text}if(o.nodeName(E,"select")){var I=E.selectedIndex,L=[],M=E.options,H=E.type=="select-one";if(I<0){return null}for(var F=H?I:0,J=H?I+1:M.length;F<J;F++){var G=M[F];if(G.selected){K=o(G).val();if(H){return K}L.push(K)}}return L}return(E.value||"").replace(/\r/g,"")}return g}if(typeof K==="number"){K+=""}return this.each(function(){if(this.nodeType!=1){return}if(o.isArray(K)&&/radio|checkbox/.test(this.type)){this.checked=(o.inArray(this.value,K)>=0||o.inArray(this.name,K)>=0)}else{if(o.nodeName(this,"select")){var N=o.makeArray(K);o("option",this).each(function(){this.selected=(o.inArray(this.value,N)>=0||o.inArray(this.text,N)>=0)});if(!N.length){this.selectedIndex=-1}}else{this.value=K}}})},html:function(E){return E===g?(this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null):this.empty().append(E)},replaceWith:function(E){return this.after(E).remove()},eq:function(E){return this.slice(E,+E+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(E){return this.pushStack(o.map(this,function(G,F){return E.call(G,F,G)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(J,M,L){if(this[0]){var I=(this[0].ownerDocument||this[0]).createDocumentFragment(),F=o.clean(J,(this[0].ownerDocument||this[0]),I),H=I.firstChild;if(H){for(var G=0,E=this.length;G<E;G++){L.call(K(this[G],H),this.length>1||G>0?I.cloneNode(true):I)}}if(F){o.each(F,z)}}return this;function K(N,O){return M&&o.nodeName(N,"table")&&o.nodeName(O,"tr")?(N.getElementsByTagName("tbody")[0]||N.appendChild(N.ownerDocument.createElement("tbody"))):N}}};o.fn.init.prototype=o.fn;function z(E,F){if(F.src){o.ajax({url:F.src,async:false,dataType:"script"})}else{o.globalEval(F.text||F.textContent||F.innerHTML||"")}if(F.parentNode){F.parentNode.removeChild(F)}}function e(){return +new Date}o.extend=o.fn.extend=function(){var J=arguments[0]||{},H=1,I=arguments.length,E=false,G;if(typeof J==="boolean"){E=J;J=arguments[1]||{};H=2}if(typeof J!=="object"&&!o.isFunction(J)){J={}}if(I==H){J=this;--H}for(;H<I;H++){if((G=arguments[H])!=null){for(var F in G){var K=J[F],L=G[F];if(J===L){continue}if(E&&L&&typeof L==="object"&&!L.nodeType){J[F]=o.extend(E,K||(L.length!=null?[]:{}),L)}else{if(L!==g){J[F]=L}}}}}return J};var b=/z-?index|font-?weight|opacity|zoom|line-?height/i,q=document.defaultView||{},s=Object.prototype.toString;o.extend({noConflict:function(E){l.$=p;if(E){l.jQuery=y}return o},isFunction:function(E){return s.call(E)==="[object Function]"},isArray:function(E){return s.call(E)==="[object Array]"},isXMLDoc:function(E){return E.nodeType===9&&E.documentElement.nodeName!=="HTML"||!!E.ownerDocument&&o.isXMLDoc(E.ownerDocument)},globalEval:function(G){if(G&&/\S/.test(G)){var F=document.getElementsByTagName("head")[0]||document.documentElement,E=document.createElement("script");E.type="text/javascript";if(o.support.scriptEval){E.appendChild(document.createTextNode(G))}else{E.text=G}F.insertBefore(E,F.firstChild);F.removeChild(E)}},nodeName:function(F,E){return F.nodeName&&F.nodeName.toUpperCase()==E.toUpperCase()},each:function(G,K,F){var E,H=0,I=G.length;if(F){if(I===g){for(E in G){if(K.apply(G[E],F)===false){break}}}else{for(;H<I;){if(K.apply(G[H++],F)===false){break}}}}else{if(I===g){for(E in G){if(K.call(G[E],E,G[E])===false){break}}}else{for(var J=G[0];H<I&&K.call(J,H,J)!==false;J=G[++H]){}}}return G},prop:function(H,I,G,F,E){if(o.isFunction(I)){I=I.call(H,F)}return typeof I==="number"&&G=="curCSS"&&!b.test(E)?I+"px":I},className:{add:function(E,F){o.each((F||"").split(/\s+/),function(G,H){if(E.nodeType==1&&!o.className.has(E.className,H)){E.className+=(E.className?" ":"")+H}})},remove:function(E,F){if(E.nodeType==1){E.className=F!==g?o.grep(E.className.split(/\s+/),function(G){return !o.className.has(F,G)}).join(" "):""}},has:function(F,E){return F&&o.inArray(E,(F.className||F).toString().split(/\s+/))>-1}},swap:function(H,G,I){var E={};for(var F in G){E[F]=H.style[F];H.style[F]=G[F]}I.call(H);for(var F in G){H.style[F]=E[F]}},css:function(H,F,J,E){if(F=="width"||F=="height"){var L,G={position:"absolute",visibility:"hidden",display:"block"},K=F=="width"?["Left","Right"]:["Top","Bottom"];function I(){L=F=="width"?H.offsetWidth:H.offsetHeight;if(E==="border"){return}o.each(K,function(){if(!E){L-=parseFloat(o.curCSS(H,"padding"+this,true))||0}if(E==="margin"){L+=parseFloat(o.curCSS(H,"margin"+this,true))||0}else{L-=parseFloat(o.curCSS(H,"border"+this+"Width",true))||0}})}if(H.offsetWidth!==0){I()}else{o.swap(H,G,I)}return Math.max(0,Math.round(L))}return o.curCSS(H,F,J)},curCSS:function(I,F,G){var L,E=I.style;if(F=="opacity"&&!o.support.opacity){L=o.attr(E,"opacity");return L==""?"1":L}if(F.match(/float/i)){F=w}if(!G&&E&&E[F]){L=E[F]}else{if(q.getComputedStyle){if(F.match(/float/i)){F="float"}F=F.replace(/([A-Z])/g,"-$1").toLowerCase();var M=q.getComputedStyle(I,null);if(M){L=M.getPropertyValue(F)}if(F=="opacity"&&L==""){L="1"}}else{if(I.currentStyle){var J=F.replace(/\-(\w)/g,function(N,O){return O.toUpperCase()});L=I.currentStyle[F]||I.currentStyle[J];if(!/^\d+(px)?$/i.test(L)&&/^\d/.test(L)){var H=E.left,K=I.runtimeStyle.left;I.runtimeStyle.left=I.currentStyle.left;E.left=L||0;L=E.pixelLeft+"px";E.left=H;I.runtimeStyle.left=K}}}}return L},clean:function(F,K,I){K=K||document;if(typeof K.createElement==="undefined"){K=K.ownerDocument||K[0]&&K[0].ownerDocument||document}if(!I&&F.length===1&&typeof F[0]==="string"){var H=/^<(\w+)\s*\/?>$/.exec(F[0]);if(H){return[K.createElement(H[1])]}}var G=[],E=[],L=K.createElement("div");o.each(F,function(P,S){if(typeof S==="number"){S+=""}if(!S){return}if(typeof S==="string"){S=S.replace(/(<(\w+)[^>]*?)\/>/g,function(U,V,T){return T.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?U:V+"></"+T+">"});var O=S.replace(/^\s+/,"").substring(0,10).toLowerCase();var Q=!O.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!O.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||O.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!O.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!O.indexOf("<td")||!O.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!O.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!o.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];L.innerHTML=Q[1]+S+Q[2];while(Q[0]--){L=L.lastChild}if(!o.support.tbody){var R=/<tbody/i.test(S),N=!O.indexOf("<table")&&!R?L.firstChild&&L.firstChild.childNodes:Q[1]=="<table>"&&!R?L.childNodes:[];for(var M=N.length-1;M>=0;--M){if(o.nodeName(N[M],"tbody")&&!N[M].childNodes.length){N[M].parentNode.removeChild(N[M])}}}if(!o.support.leadingWhitespace&&/^\s/.test(S)){L.insertBefore(K.createTextNode(S.match(/^\s*/)[0]),L.firstChild)}S=o.makeArray(L.childNodes)}if(S.nodeType){G.push(S)}else{G=o.merge(G,S)}});if(I){for(var J=0;G[J];J++){if(o.nodeName(G[J],"script")&&(!G[J].type||G[J].type.toLowerCase()==="text/javascript")){E.push(G[J].parentNode?G[J].parentNode.removeChild(G[J]):G[J])}else{if(G[J].nodeType===1){G.splice.apply(G,[J+1,0].concat(o.makeArray(G[J].getElementsByTagName("script"))))}I.appendChild(G[J])}}return E}return G},attr:function(J,G,K){if(!J||J.nodeType==3||J.nodeType==8){return g}var H=!o.isXMLDoc(J),L=K!==g;G=H&&o.props[G]||G;if(J.tagName){var F=/href|src|style/.test(G);if(G=="selected"&&J.parentNode){J.parentNode.selectedIndex}if(G in J&&H&&!F){if(L){if(G=="type"&&o.nodeName(J,"input")&&J.parentNode){throw"type property can't be changed"}J[G]=K}if(o.nodeName(J,"form")&&J.getAttributeNode(G)){return J.getAttributeNode(G).nodeValue}if(G=="tabIndex"){var I=J.getAttributeNode("tabIndex");return I&&I.specified?I.value:J.nodeName.match(/(button|input|object|select|textarea)/i)?0:J.nodeName.match(/^(a|area)$/i)&&J.href?0:g}return J[G]}if(!o.support.style&&H&&G=="style"){return o.attr(J.style,"cssText",K)}if(L){J.setAttribute(G,""+K)}var E=!o.support.hrefNormalized&&H&&F?J.getAttribute(G,2):J.getAttribute(G);return E===null?g:E}if(!o.support.opacity&&G=="opacity"){if(L){J.zoom=1;J.filter=(J.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(K)+""=="NaN"?"":"alpha(opacity="+K*100+")")}return J.filter&&J.filter.indexOf("opacity=")>=0?(parseFloat(J.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}G=G.replace(/-([a-z])/ig,function(M,N){return N.toUpperCase()});if(L){J[G]=K}return J[G]},trim:function(E){return(E||"").replace(/^\s+|\s+$/g,"")},makeArray:function(G){var E=[];if(G!=null){var F=G.length;if(F==null||typeof G==="string"||o.isFunction(G)||G.setInterval){E[0]=G}else{while(F){E[--F]=G[F]}}}return E},inArray:function(G,H){for(var E=0,F=H.length;E<F;E++){if(H[E]===G){return E}}return -1},merge:function(H,E){var F=0,G,I=H.length;if(!o.support.getAll){while((G=E[F++])!=null){if(G.nodeType!=8){H[I++]=G}}}else{while((G=E[F++])!=null){H[I++]=G}}return H},unique:function(K){var F=[],E={};try{for(var G=0,H=K.length;G<H;G++){var J=o.data(K[G]);if(!E[J]){E[J]=true;F.push(K[G])}}}catch(I){F=K}return F},grep:function(F,J,E){var G=[];for(var H=0,I=F.length;H<I;H++){if(!E!=!J(F[H],H)){G.push(F[H])}}return G},map:function(E,J){var F=[];for(var G=0,H=E.length;G<H;G++){var I=J(E[G],G);if(I!=null){F[F.length]=I}}return F.concat.apply([],F)}});var C=navigator.userAgent.toLowerCase();o.browser={version:(C.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(C),opera:/opera/.test(C),msie:/msie/.test(C)&&!/opera/.test(C),mozilla:/mozilla/.test(C)&&!/(compatible|webkit)/.test(C)};o.each({parent:function(E){return E.parentNode},parents:function(E){return o.dir(E,"parentNode")},next:function(E){return o.nth(E,2,"nextSibling")},prev:function(E){return o.nth(E,2,"previousSibling")},nextAll:function(E){return o.dir(E,"nextSibling")},prevAll:function(E){return o.dir(E,"previousSibling")},siblings:function(E){return o.sibling(E.parentNode.firstChild,E)},children:function(E){return o.sibling(E.firstChild)},contents:function(E){return o.nodeName(E,"iframe")?E.contentDocument||E.contentWindow.document:o.makeArray(E.childNodes)}},function(E,F){o.fn[E]=function(G){var H=o.map(this,F);if(G&&typeof G=="string"){H=o.multiFilter(G,H)}return this.pushStack(o.unique(H),E,G)}});o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(E,F){o.fn[E]=function(G){var J=[],L=o(G);for(var K=0,H=L.length;K<H;K++){var I=(K>0?this.clone(true):this).get();o.fn[F].apply(o(L[K]),I);J=J.concat(I)}return this.pushStack(J,E,G)}});o.each({removeAttr:function(E){o.attr(this,E,"");if(this.nodeType==1){this.removeAttribute(E)}},addClass:function(E){o.className.add(this,E)},removeClass:function(E){o.className.remove(this,E)},toggleClass:function(F,E){if(typeof E!=="boolean"){E=!o.className.has(this,F)}o.className[E?"add":"remove"](this,F)},remove:function(E){if(!E||o.filter(E,[this]).length){o("*",this).add([this]).each(function(){o.event.remove(this);o.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){o(this).children().remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(E,F){o.fn[E]=function(){return this.each(F,arguments)}});function j(E,F){return E[0]&&parseInt(o.curCSS(E[0],F,true),10)||0}var h="jQuery"+e(),v=0,A={};o.extend({cache:{},data:function(F,E,G){F=F==l?A:F;var H=F[h];if(!H){H=F[h]=++v}if(E&&!o.cache[H]){o.cache[H]={}}if(G!==g){o.cache[H][E]=G}return E?o.cache[H][E]:H},removeData:function(F,E){F=F==l?A:F;var H=F[h];if(E){if(o.cache[H]){delete o.cache[H][E];E="";for(E in o.cache[H]){break}if(!E){o.removeData(F)}}}else{try{delete F[h]}catch(G){if(F.removeAttribute){F.removeAttribute(h)}}delete o.cache[H]}},queue:function(F,E,H){if(F){E=(E||"fx")+"queue";var G=o.data(F,E);if(!G||o.isArray(H)){G=o.data(F,E,o.makeArray(H))}else{if(H){G.push(H)}}}return G},dequeue:function(H,G){var E=o.queue(H,G),F=E.shift();if(!G||G==="fx"){F=E[0]}if(F!==g){F.call(H)}}});o.fn.extend({data:function(E,G){var H=E.split(".");H[1]=H[1]?"."+H[1]:"";if(G===g){var F=this.triggerHandler("getData"+H[1]+"!",[H[0]]);if(F===g&&this.length){F=o.data(this[0],E)}return F===g&&H[1]?this.data(H[0]):F}else{return this.trigger("setData"+H[1]+"!",[H[0],G]).each(function(){o.data(this,E,G)})}},removeData:function(E){return this.each(function(){o.removeData(this,E)})},queue:function(E,F){if(typeof E!=="string"){F=E;E="fx"}if(F===g){return o.queue(this[0],E)}return this.each(function(){var G=o.queue(this,E,F);if(E=="fx"&&G.length==1){G[0].call(this)}})},dequeue:function(E){return this.each(function(){o.dequeue(this,E)})}});
/*
 * Sizzle CSS Selector Engine - v0.9.3
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var R=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,L=0,H=Object.prototype.toString;var F=function(Y,U,ab,ac){ab=ab||[];U=U||document;if(U.nodeType!==1&&U.nodeType!==9){return[]}if(!Y||typeof Y!=="string"){return ab}var Z=[],W,af,ai,T,ad,V,X=true;R.lastIndex=0;while((W=R.exec(Y))!==null){Z.push(W[1]);if(W[2]){V=RegExp.rightContext;break}}if(Z.length>1&&M.exec(Y)){if(Z.length===2&&I.relative[Z[0]]){af=J(Z[0]+Z[1],U)}else{af=I.relative[Z[0]]?[U]:F(Z.shift(),U);while(Z.length){Y=Z.shift();if(I.relative[Y]){Y+=Z.shift()}af=J(Y,af)}}}else{var ae=ac?{expr:Z.pop(),set:E(ac)}:F.find(Z.pop(),Z.length===1&&U.parentNode?U.parentNode:U,Q(U));af=F.filter(ae.expr,ae.set);if(Z.length>0){ai=E(af)}else{X=false}while(Z.length){var ah=Z.pop(),ag=ah;if(!I.relative[ah]){ah=""}else{ag=Z.pop()}if(ag==null){ag=U}I.relative[ah](ai,ag,Q(U))}}if(!ai){ai=af}if(!ai){throw"Syntax error, unrecognized expression: "+(ah||Y)}if(H.call(ai)==="[object Array]"){if(!X){ab.push.apply(ab,ai)}else{if(U.nodeType===1){for(var aa=0;ai[aa]!=null;aa++){if(ai[aa]&&(ai[aa]===true||ai[aa].nodeType===1&&K(U,ai[aa]))){ab.push(af[aa])}}}else{for(var aa=0;ai[aa]!=null;aa++){if(ai[aa]&&ai[aa].nodeType===1){ab.push(af[aa])}}}}}else{E(ai,ab)}if(V){F(V,U,ab,ac);if(G){hasDuplicate=false;ab.sort(G);if(hasDuplicate){for(var aa=1;aa<ab.length;aa++){if(ab[aa]===ab[aa-1]){ab.splice(aa--,1)}}}}}return ab};F.matches=function(T,U){return F(T,null,null,U)};F.find=function(aa,T,ab){var Z,X;if(!aa){return[]}for(var W=0,V=I.order.length;W<V;W++){var Y=I.order[W],X;if((X=I.match[Y].exec(aa))){var U=RegExp.leftContext;if(U.substr(U.length-1)!=="\\"){X[1]=(X[1]||"").replace(/\\/g,"");Z=I.find[Y](X,T,ab);if(Z!=null){aa=aa.replace(I.match[Y],"");break}}}}if(!Z){Z=T.getElementsByTagName("*")}return{set:Z,expr:aa}};F.filter=function(ad,ac,ag,W){var V=ad,ai=[],aa=ac,Y,T,Z=ac&&ac[0]&&Q(ac[0]);while(ad&&ac.length){for(var ab in I.filter){if((Y=I.match[ab].exec(ad))!=null){var U=I.filter[ab],ah,af;T=false;if(aa==ai){ai=[]}if(I.preFilter[ab]){Y=I.preFilter[ab](Y,aa,ag,ai,W,Z);if(!Y){T=ah=true}else{if(Y===true){continue}}}if(Y){for(var X=0;(af=aa[X])!=null;X++){if(af){ah=U(af,Y,X,aa);var ae=W^!!ah;if(ag&&ah!=null){if(ae){T=true}else{aa[X]=false}}else{if(ae){ai.push(af);T=true}}}}}if(ah!==g){if(!ag){aa=ai}ad=ad.replace(I.match[ab],"");if(!T){return[]}break}}}if(ad==V){if(T==null){throw"Syntax error, unrecognized expression: "+ad}else{break}}V=ad}return aa};var I=F.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(T){return T.getAttribute("href")}},relative:{"+":function(aa,T,Z){var X=typeof T==="string",ab=X&&!/\W/.test(T),Y=X&&!ab;if(ab&&!Z){T=T.toUpperCase()}for(var W=0,V=aa.length,U;W<V;W++){if((U=aa[W])){while((U=U.previousSibling)&&U.nodeType!==1){}aa[W]=Y||U&&U.nodeName===T?U||false:U===T}}if(Y){F.filter(T,aa,true)}},">":function(Z,U,aa){var X=typeof U==="string";if(X&&!/\W/.test(U)){U=aa?U:U.toUpperCase();for(var V=0,T=Z.length;V<T;V++){var Y=Z[V];if(Y){var W=Y.parentNode;Z[V]=W.nodeName===U?W:false}}}else{for(var V=0,T=Z.length;V<T;V++){var Y=Z[V];if(Y){Z[V]=X?Y.parentNode:Y.parentNode===U}}if(X){F.filter(U,Z,true)}}},"":function(W,U,Y){var V=L++,T=S;if(!U.match(/\W/)){var X=U=Y?U:U.toUpperCase();T=P}T("parentNode",U,V,W,X,Y)},"~":function(W,U,Y){var V=L++,T=S;if(typeof U==="string"&&!U.match(/\W/)){var X=U=Y?U:U.toUpperCase();T=P}T("previousSibling",U,V,W,X,Y)}},find:{ID:function(U,V,W){if(typeof V.getElementById!=="undefined"&&!W){var T=V.getElementById(U[1]);return T?[T]:[]}},NAME:function(V,Y,Z){if(typeof Y.getElementsByName!=="undefined"){var U=[],X=Y.getElementsByName(V[1]);for(var W=0,T=X.length;W<T;W++){if(X[W].getAttribute("name")===V[1]){U.push(X[W])}}return U.length===0?null:U}},TAG:function(T,U){return U.getElementsByTagName(T[1])}},preFilter:{CLASS:function(W,U,V,T,Z,aa){W=" "+W[1].replace(/\\/g,"")+" ";if(aa){return W}for(var X=0,Y;(Y=U[X])!=null;X++){if(Y){if(Z^(Y.className&&(" "+Y.className+" ").indexOf(W)>=0)){if(!V){T.push(Y)}}else{if(V){U[X]=false}}}}return false},ID:function(T){return T[1].replace(/\\/g,"")},TAG:function(U,T){for(var V=0;T[V]===false;V++){}return T[V]&&Q(T[V])?U[1]:U[1].toUpperCase()},CHILD:function(T){if(T[1]=="nth"){var U=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(T[2]=="even"&&"2n"||T[2]=="odd"&&"2n+1"||!/\D/.test(T[2])&&"0n+"+T[2]||T[2]);T[2]=(U[1]+(U[2]||1))-0;T[3]=U[3]-0}T[0]=L++;return T},ATTR:function(X,U,V,T,Y,Z){var W=X[1].replace(/\\/g,"");if(!Z&&I.attrMap[W]){X[1]=I.attrMap[W]}if(X[2]==="~="){X[4]=" "+X[4]+" "}return X},PSEUDO:function(X,U,V,T,Y){if(X[1]==="not"){if(X[3].match(R).length>1||/^\w/.test(X[3])){X[3]=F(X[3],null,null,U)}else{var W=F.filter(X[3],U,V,true^Y);if(!V){T.push.apply(T,W)}return false}}else{if(I.match.POS.test(X[0])||I.match.CHILD.test(X[0])){return true}}return X},POS:function(T){T.unshift(true);return T}},filters:{enabled:function(T){return T.disabled===false&&T.type!=="hidden"},disabled:function(T){return T.disabled===true},checked:function(T){return T.checked===true},selected:function(T){T.parentNode.selectedIndex;return T.selected===true},parent:function(T){return !!T.firstChild},empty:function(T){return !T.firstChild},has:function(V,U,T){return !!F(T[3],V).length},header:function(T){return/h\d/i.test(T.nodeName)},text:function(T){return"text"===T.type},radio:function(T){return"radio"===T.type},checkbox:function(T){return"checkbox"===T.type},file:function(T){return"file"===T.type},password:function(T){return"password"===T.type},submit:function(T){return"submit"===T.type},image:function(T){return"image"===T.type},reset:function(T){return"reset"===T.type},button:function(T){return"button"===T.type||T.nodeName.toUpperCase()==="BUTTON"},input:function(T){return/input|select|textarea|button/i.test(T.nodeName)}},setFilters:{first:function(U,T){return T===0},last:function(V,U,T,W){return U===W.length-1},even:function(U,T){return T%2===0},odd:function(U,T){return T%2===1},lt:function(V,U,T){return U<T[3]-0},gt:function(V,U,T){return U>T[3]-0},nth:function(V,U,T){return T[3]-0==U},eq:function(V,U,T){return T[3]-0==U}},filter:{PSEUDO:function(Z,V,W,aa){var U=V[1],X=I.filters[U];if(X){return X(Z,W,V,aa)}else{if(U==="contains"){return(Z.textContent||Z.innerText||"").indexOf(V[3])>=0}else{if(U==="not"){var Y=V[3];for(var W=0,T=Y.length;W<T;W++){if(Y[W]===Z){return false}}return true}}}},CHILD:function(T,W){var Z=W[1],U=T;switch(Z){case"only":case"first":while(U=U.previousSibling){if(U.nodeType===1){return false}}if(Z=="first"){return true}U=T;case"last":while(U=U.nextSibling){if(U.nodeType===1){return false}}return true;case"nth":var V=W[2],ac=W[3];if(V==1&&ac==0){return true}var Y=W[0],ab=T.parentNode;if(ab&&(ab.sizcache!==Y||!T.nodeIndex)){var X=0;for(U=ab.firstChild;U;U=U.nextSibling){if(U.nodeType===1){U.nodeIndex=++X}}ab.sizcache=Y}var aa=T.nodeIndex-ac;if(V==0){return aa==0}else{return(aa%V==0&&aa/V>=0)}}},ID:function(U,T){return U.nodeType===1&&U.getAttribute("id")===T},TAG:function(U,T){return(T==="*"&&U.nodeType===1)||U.nodeName===T},CLASS:function(U,T){return(" "+(U.className||U.getAttribute("class"))+" ").indexOf(T)>-1},ATTR:function(Y,W){var V=W[1],T=I.attrHandle[V]?I.attrHandle[V](Y):Y[V]!=null?Y[V]:Y.getAttribute(V),Z=T+"",X=W[2],U=W[4];return T==null?X==="!=":X==="="?Z===U:X==="*="?Z.indexOf(U)>=0:X==="~="?(" "+Z+" ").indexOf(U)>=0:!U?Z&&T!==false:X==="!="?Z!=U:X==="^="?Z.indexOf(U)===0:X==="$="?Z.substr(Z.length-U.length)===U:X==="|="?Z===U||Z.substr(0,U.length+1)===U+"-":false},POS:function(X,U,V,Y){var T=U[2],W=I.setFilters[T];if(W){return W(X,V,U,Y)}}}};var M=I.match.POS;for(var O in I.match){I.match[O]=RegExp(I.match[O].source+/(?![^\[]*\])(?![^\(]*\))/.source)}var E=function(U,T){U=Array.prototype.slice.call(U);if(T){T.push.apply(T,U);return T}return U};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(N){E=function(X,W){var U=W||[];if(H.call(X)==="[object Array]"){Array.prototype.push.apply(U,X)}else{if(typeof X.length==="number"){for(var V=0,T=X.length;V<T;V++){U.push(X[V])}}else{for(var V=0;X[V];V++){U.push(X[V])}}}return U}}var G;if(document.documentElement.compareDocumentPosition){G=function(U,T){var V=U.compareDocumentPosition(T)&4?-1:U===T?0:1;if(V===0){hasDuplicate=true}return V}}else{if("sourceIndex" in document.documentElement){G=function(U,T){var V=U.sourceIndex-T.sourceIndex;if(V===0){hasDuplicate=true}return V}}else{if(document.createRange){G=function(W,U){var V=W.ownerDocument.createRange(),T=U.ownerDocument.createRange();V.selectNode(W);V.collapse(true);T.selectNode(U);T.collapse(true);var X=V.compareBoundaryPoints(Range.START_TO_END,T);if(X===0){hasDuplicate=true}return X}}}}(function(){var U=document.createElement("form"),V="script"+(new Date).getTime();U.innerHTML="<input name='"+V+"'/>";var T=document.documentElement;T.insertBefore(U,T.firstChild);if(!!document.getElementById(V)){I.find.ID=function(X,Y,Z){if(typeof Y.getElementById!=="undefined"&&!Z){var W=Y.getElementById(X[1]);return W?W.id===X[1]||typeof W.getAttributeNode!=="undefined"&&W.getAttributeNode("id").nodeValue===X[1]?[W]:g:[]}};I.filter.ID=function(Y,W){var X=typeof Y.getAttributeNode!=="undefined"&&Y.getAttributeNode("id");return Y.nodeType===1&&X&&X.nodeValue===W}}T.removeChild(U)})();(function(){var T=document.createElement("div");T.appendChild(document.createComment(""));if(T.getElementsByTagName("*").length>0){I.find.TAG=function(U,Y){var X=Y.getElementsByTagName(U[1]);if(U[1]==="*"){var W=[];for(var V=0;X[V];V++){if(X[V].nodeType===1){W.push(X[V])}}X=W}return X}}T.innerHTML="<a href='#'></a>";if(T.firstChild&&typeof T.firstChild.getAttribute!=="undefined"&&T.firstChild.getAttribute("href")!=="#"){I.attrHandle.href=function(U){return U.getAttribute("href",2)}}})();if(document.querySelectorAll){(function(){var T=F,U=document.createElement("div");U.innerHTML="<p class='TEST'></p>";if(U.querySelectorAll&&U.querySelectorAll(".TEST").length===0){return}F=function(Y,X,V,W){X=X||document;if(!W&&X.nodeType===9&&!Q(X)){try{return E(X.querySelectorAll(Y),V)}catch(Z){}}return T(Y,X,V,W)};F.find=T.find;F.filter=T.filter;F.selectors=T.selectors;F.matches=T.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var T=document.createElement("div");T.innerHTML="<div class='test e'></div><div class='test'></div>";if(T.getElementsByClassName("e").length===0){return}T.lastChild.className="e";if(T.getElementsByClassName("e").length===1){return}I.order.splice(1,0,"CLASS");I.find.CLASS=function(U,V,W){if(typeof V.getElementsByClassName!=="undefined"&&!W){return V.getElementsByClassName(U[1])}}})()}function P(U,Z,Y,ad,aa,ac){var ab=U=="previousSibling"&&!ac;for(var W=0,V=ad.length;W<V;W++){var T=ad[W];if(T){if(ab&&T.nodeType===1){T.sizcache=Y;T.sizset=W}T=T[U];var X=false;while(T){if(T.sizcache===Y){X=ad[T.sizset];break}if(T.nodeType===1&&!ac){T.sizcache=Y;T.sizset=W}if(T.nodeName===Z){X=T;break}T=T[U]}ad[W]=X}}}function S(U,Z,Y,ad,aa,ac){var ab=U=="previousSibling"&&!ac;for(var W=0,V=ad.length;W<V;W++){var T=ad[W];if(T){if(ab&&T.nodeType===1){T.sizcache=Y;T.sizset=W}T=T[U];var X=false;while(T){if(T.sizcache===Y){X=ad[T.sizset];break}if(T.nodeType===1){if(!ac){T.sizcache=Y;T.sizset=W}if(typeof Z!=="string"){if(T===Z){X=true;break}}else{if(F.filter(Z,[T]).length>0){X=T;break}}}T=T[U]}ad[W]=X}}}var K=document.compareDocumentPosition?function(U,T){return U.compareDocumentPosition(T)&16}:function(U,T){return U!==T&&(U.contains?U.contains(T):true)};var Q=function(T){return T.nodeType===9&&T.documentElement.nodeName!=="HTML"||!!T.ownerDocument&&Q(T.ownerDocument)};var J=function(T,aa){var W=[],X="",Y,V=aa.nodeType?[aa]:aa;while((Y=I.match.PSEUDO.exec(T))){X+=Y[0];T=T.replace(I.match.PSEUDO,"")}T=I.relative[T]?T+"*":T;for(var Z=0,U=V.length;Z<U;Z++){F(T,V[Z],W)}return F.filter(X,W)};o.find=F;o.filter=F.filter;o.expr=F.selectors;o.expr[":"]=o.expr.filters;F.selectors.filters.hidden=function(T){return T.offsetWidth===0||T.offsetHeight===0};F.selectors.filters.visible=function(T){return T.offsetWidth>0||T.offsetHeight>0};F.selectors.filters.animated=function(T){return o.grep(o.timers,function(U){return T===U.elem}).length};o.multiFilter=function(V,T,U){if(U){V=":not("+V+")"}return F.matches(V,T)};o.dir=function(V,U){var T=[],W=V[U];while(W&&W!=document){if(W.nodeType==1){T.push(W)}W=W[U]}return T};o.nth=function(X,T,V,W){T=T||1;var U=0;for(;X;X=X[V]){if(X.nodeType==1&&++U==T){break}}return X};o.sibling=function(V,U){var T=[];for(;V;V=V.nextSibling){if(V.nodeType==1&&V!=U){T.push(V)}}return T};return;l.Sizzle=F})();o.event={add:function(I,F,H,K){if(I.nodeType==3||I.nodeType==8){return}if(I.setInterval&&I!=l){I=l}if(!H.guid){H.guid=this.guid++}if(K!==g){var G=H;H=this.proxy(G);H.data=K}var E=o.data(I,"events")||o.data(I,"events",{}),J=o.data(I,"handle")||o.data(I,"handle",function(){return typeof o!=="undefined"&&!o.event.triggered?o.event.handle.apply(arguments.callee.elem,arguments):g});J.elem=I;o.each(F.split(/\s+/),function(M,N){var O=N.split(".");N=O.shift();H.type=O.slice().sort().join(".");var L=E[N];if(o.event.specialAll[N]){o.event.specialAll[N].setup.call(I,K,O)}if(!L){L=E[N]={};if(!o.event.special[N]||o.event.special[N].setup.call(I,K,O)===false){if(I.addEventListener){I.addEventListener(N,J,false)}else{if(I.attachEvent){I.attachEvent("on"+N,J)}}}}L[H.guid]=H;o.event.global[N]=true});I=null},guid:1,global:{},remove:function(K,H,J){if(K.nodeType==3||K.nodeType==8){return}var G=o.data(K,"events"),F,E;if(G){if(H===g||(typeof H==="string"&&H.charAt(0)==".")){for(var I in G){this.remove(K,I+(H||""))}}else{if(H.type){J=H.handler;H=H.type}o.each(H.split(/\s+/),function(M,O){var Q=O.split(".");O=Q.shift();var N=RegExp("(^|\\.)"+Q.slice().sort().join(".*\\.")+"(\\.|$)");if(G[O]){if(J){delete G[O][J.guid]}else{for(var P in G[O]){if(N.test(G[O][P].type)){delete G[O][P]}}}if(o.event.specialAll[O]){o.event.specialAll[O].teardown.call(K,Q)}for(F in G[O]){break}if(!F){if(!o.event.special[O]||o.event.special[O].teardown.call(K,Q)===false){if(K.removeEventListener){K.removeEventListener(O,o.data(K,"handle"),false)}else{if(K.detachEvent){K.detachEvent("on"+O,o.data(K,"handle"))}}}F=null;delete G[O]}}})}for(F in G){break}if(!F){var L=o.data(K,"handle");if(L){L.elem=null}o.removeData(K,"events");o.removeData(K,"handle")}}},trigger:function(I,K,H,E){var G=I.type||I;if(!E){I=typeof I==="object"?I[h]?I:o.extend(o.Event(G),I):o.Event(G);if(G.indexOf("!")>=0){I.type=G=G.slice(0,-1);I.exclusive=true}if(!H){I.stopPropagation();if(this.global[G]){o.each(o.cache,function(){if(this.events&&this.events[G]){o.event.trigger(I,K,this.handle.elem)}})}}if(!H||H.nodeType==3||H.nodeType==8){return g}I.result=g;I.target=H;K=o.makeArray(K);K.unshift(I)}I.currentTarget=H;var J=o.data(H,"handle");if(J){J.apply(H,K)}if((!H[G]||(o.nodeName(H,"a")&&G=="click"))&&H["on"+G]&&H["on"+G].apply(H,K)===false){I.result=false}if(!E&&H[G]&&!I.isDefaultPrevented()&&!(o.nodeName(H,"a")&&G=="click")){this.triggered=true;try{H[G]()}catch(L){}}this.triggered=false;if(!I.isPropagationStopped()){var F=H.parentNode||H.ownerDocument;if(F){o.event.trigger(I,K,F,true)}}},handle:function(K){var J,E;K=arguments[0]=o.event.fix(K||l.event);K.currentTarget=this;var L=K.type.split(".");K.type=L.shift();J=!L.length&&!K.exclusive;var I=RegExp("(^|\\.)"+L.slice().sort().join(".*\\.")+"(\\.|$)");E=(o.data(this,"events")||{})[K.type];for(var G in E){var H=E[G];if(J||I.test(H.type)){K.handler=H;K.data=H.data;var F=H.apply(this,arguments);if(F!==g){K.result=F;if(F===false){K.preventDefault();K.stopPropagation()}}if(K.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(H){if(H[h]){return H}var F=H;H=o.Event(F);for(var G=this.props.length,J;G;){J=this.props[--G];H[J]=F[J]}if(!H.target){H.target=H.srcElement||document}if(H.target.nodeType==3){H.target=H.target.parentNode}if(!H.relatedTarget&&H.fromElement){H.relatedTarget=H.fromElement==H.target?H.toElement:H.fromElement}if(H.pageX==null&&H.clientX!=null){var I=document.documentElement,E=document.body;H.pageX=H.clientX+(I&&I.scrollLeft||E&&E.scrollLeft||0)-(I.clientLeft||0);H.pageY=H.clientY+(I&&I.scrollTop||E&&E.scrollTop||0)-(I.clientTop||0)}if(!H.which&&((H.charCode||H.charCode===0)?H.charCode:H.keyCode)){H.which=H.charCode||H.keyCode}if(!H.metaKey&&H.ctrlKey){H.metaKey=H.ctrlKey}if(!H.which&&H.button){H.which=(H.button&1?1:(H.button&2?3:(H.button&4?2:0)))}return H},proxy:function(F,E){E=E||function(){return F.apply(this,arguments)};E.guid=F.guid=F.guid||E.guid||this.guid++;return E},special:{ready:{setup:B,teardown:function(){}}},specialAll:{live:{setup:function(E,F){o.event.add(this,F[0],c)},teardown:function(G){if(G.length){var E=0,F=RegExp("(^|\\.)"+G[0]+"(\\.|$)");o.each((o.data(this,"events").live||{}),function(){if(F.test(this.type)){E++}});if(E<1){o.event.remove(this,G[0],c)}}}}}};o.Event=function(E){if(!this.preventDefault){return new o.Event(E)}if(E&&E.type){this.originalEvent=E;this.type=E.type}else{this.type=E}this.timeStamp=e();this[h]=true};function k(){return false}function u(){return true}o.Event.prototype={preventDefault:function(){this.isDefaultPrevented=u;var E=this.originalEvent;if(!E){return}if(E.preventDefault){E.preventDefault()}E.returnValue=false},stopPropagation:function(){this.isPropagationStopped=u;var E=this.originalEvent;if(!E){return}if(E.stopPropagation){E.stopPropagation()}E.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};var a=function(F){var E=F.relatedTarget;while(E&&E!=this){try{E=E.parentNode}catch(G){E=this}}if(E!=this){F.type=F.data;o.event.handle.apply(this,arguments)}};o.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(F,E){o.event.special[E]={setup:function(){o.event.add(this,F,a,E)},teardown:function(){o.event.remove(this,F,a)}}});o.fn.extend({bind:function(F,G,E){return F=="unload"?this.one(F,G,E):this.each(function(){o.event.add(this,F,E||G,E&&G)})},one:function(G,H,F){var E=o.event.proxy(F||H,function(I){o(this).unbind(I,E);return(F||H).apply(this,arguments)});return this.each(function(){o.event.add(this,G,E,F&&H)})},unbind:function(F,E){return this.each(function(){o.event.remove(this,F,E)})},trigger:function(E,F){return this.each(function(){o.event.trigger(E,F,this)})},triggerHandler:function(E,G){if(this[0]){var F=o.Event(E);F.preventDefault();F.stopPropagation();o.event.trigger(F,G,this[0]);return F.result}},toggle:function(G){var E=arguments,F=1;while(F<E.length){o.event.proxy(G,E[F++])}return this.click(o.event.proxy(G,function(H){this.lastToggle=(this.lastToggle||0)%F;H.preventDefault();return E[this.lastToggle++].apply(this,arguments)||false}))},hover:function(E,F){return this.mouseenter(E).mouseleave(F)},ready:function(E){B();if(o.isReady){E.call(document,o)}else{o.readyList.push(E)}return this},live:function(G,F){var E=o.event.proxy(F);E.guid+=this.selector+G;o(document).bind(i(G,this.selector),this.selector,E);return this},die:function(F,E){o(document).unbind(i(F,this.selector),E?{guid:E.guid+this.selector+F}:null);return this}});function c(H){var E=RegExp("(^|\\.)"+H.type+"(\\.|$)"),G=true,F=[];o.each(o.data(this,"events").live||[],function(I,J){if(E.test(J.type)){var K=o(H.target).closest(J.data)[0];if(K){F.push({elem:K,fn:J})}}});F.sort(function(J,I){return o.data(J.elem,"closest")-o.data(I.elem,"closest")});o.each(F,function(){if(this.fn.call(this.elem,H,this.fn.data)===false){return(G=false)}});return G}function i(F,E){return["live",F,E.replace(/\./g,"`").replace(/ /g,"|")].join(".")}o.extend({isReady:false,readyList:[],ready:function(){if(!o.isReady){o.isReady=true;if(o.readyList){o.each(o.readyList,function(){this.call(document,o)});o.readyList=null}o(document).triggerHandler("ready")}}});var x=false;function B(){if(x){return}x=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);o.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);o.ready()}});if(document.documentElement.doScroll&&l==l.top){(function(){if(o.isReady){return}try{document.documentElement.doScroll("left")}catch(E){setTimeout(arguments.callee,0);return}o.ready()})()}}}o.event.add(l,"load",o.ready)}o.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","),function(F,E){o.fn[E]=function(G){return G?this.bind(E,G):this.trigger(E)}});o(l).bind("unload",function(){for(var E in o.cache){if(E!=1&&o.cache[E].handle){o.event.remove(o.cache[E].handle.elem)}}});(function(){o.support={};var F=document.documentElement,G=document.createElement("script"),K=document.createElement("div"),J="script"+(new Date).getTime();K.style.display="none";K.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var H=K.getElementsByTagName("*"),E=K.getElementsByTagName("a")[0];if(!H||!H.length||!E){return}o.support={leadingWhitespace:K.firstChild.nodeType==3,tbody:!K.getElementsByTagName("tbody").length,objectAll:!!K.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!K.getElementsByTagName("link").length,style:/red/.test(E.getAttribute("style")),hrefNormalized:E.getAttribute("href")==="/a",opacity:E.style.opacity==="0.5",cssFloat:!!E.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};G.type="text/javascript";try{G.appendChild(document.createTextNode("window."+J+"=1;"))}catch(I){}F.insertBefore(G,F.firstChild);if(l[J]){o.support.scriptEval=true;delete l[J]}F.removeChild(G);if(K.attachEvent&&K.fireEvent){K.attachEvent("onclick",function(){o.support.noCloneEvent=false;K.detachEvent("onclick",arguments.callee)});K.cloneNode(true).fireEvent("onclick")}o(function(){var L=document.createElement("div");L.style.width=L.style.paddingLeft="1px";document.body.appendChild(L);o.boxModel=o.support.boxModel=L.offsetWidth===2;document.body.removeChild(L).style.display="none"})})();var w=o.support.cssFloat?"cssFloat":"styleFloat";o.props={"for":"htmlFor","class":"className","float":w,cssFloat:w,styleFloat:w,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};o.fn.extend({_load:o.fn.load,load:function(G,J,K){if(typeof G!=="string"){return this._load(G)}var I=G.indexOf(" ");if(I>=0){var E=G.slice(I,G.length);G=G.slice(0,I)}var H="GET";if(J){if(o.isFunction(J)){K=J;J=null}else{if(typeof J==="object"){J=o.param(J);H="POST"}}}var F=this;o.ajax({url:G,type:H,dataType:"html",data:J,complete:function(M,L){if(L=="success"||L=="notmodified"){F.html(E?o("<div/>").append(M.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(E):M.responseText)}if(K){F.each(K,[M.responseText,L,M])}}});return this},serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?o.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(E,F){var G=o(this).val();return G==null?null:o.isArray(G)?o.map(G,function(I,H){return{name:F.name,value:I}}):{name:F.name,value:G}}).get()}});o.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(E,F){o.fn[F]=function(G){return this.bind(F,G)}});var r=e();o.extend({get:function(E,G,H,F){if(o.isFunction(G)){H=G;G=null}return o.ajax({type:"GET",url:E,data:G,success:H,dataType:F})},getScript:function(E,F){return o.get(E,null,F,"script")},getJSON:function(E,F,G){return o.get(E,F,G,"json")},post:function(E,G,H,F){if(o.isFunction(G)){H=G;G={}}return o.ajax({type:"POST",url:E,data:G,success:H,dataType:F})},ajaxSetup:function(E){o.extend(o.ajaxSettings,E)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return l.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(M){M=o.extend(true,M,o.extend(true,{},o.ajaxSettings,M));var W,F=/=\?(&|$)/g,R,V,G=M.type.toUpperCase();if(M.data&&M.processData&&typeof M.data!=="string"){M.data=o.param(M.data)}if(M.dataType=="jsonp"){if(G=="GET"){if(!M.url.match(F)){M.url+=(M.url.match(/\?/)?"&":"?")+(M.jsonp||"callback")+"=?"}}else{if(!M.data||!M.data.match(F)){M.data=(M.data?M.data+"&":"")+(M.jsonp||"callback")+"=?"}}M.dataType="json"}if(M.dataType=="json"&&(M.data&&M.data.match(F)||M.url.match(F))){W="jsonp"+r++;if(M.data){M.data=(M.data+"").replace(F,"="+W+"$1")}M.url=M.url.replace(F,"="+W+"$1");M.dataType="script";l[W]=function(X){V=X;I();L();l[W]=g;try{delete l[W]}catch(Y){}if(H){H.removeChild(T)}}}if(M.dataType=="script"&&M.cache==null){M.cache=false}if(M.cache===false&&G=="GET"){var E=e();var U=M.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+E+"$2");M.url=U+((U==M.url)?(M.url.match(/\?/)?"&":"?")+"_="+E:"")}if(M.data&&G=="GET"){M.url+=(M.url.match(/\?/)?"&":"?")+M.data;M.data=null}if(M.global&&!o.active++){o.event.trigger("ajaxStart")}var Q=/^(\w+:)?\/\/([^\/?#]+)/.exec(M.url);if(M.dataType=="script"&&G=="GET"&&Q&&(Q[1]&&Q[1]!=location.protocol||Q[2]!=location.host)){var H=document.getElementsByTagName("head")[0];var T=document.createElement("script");T.src=M.url;if(M.scriptCharset){T.charset=M.scriptCharset}if(!W){var O=false;T.onload=T.onreadystatechange=function(){if(!O&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){O=true;I();L();T.onload=T.onreadystatechange=null;H.removeChild(T)}}}H.appendChild(T);return g}var K=false;var J=M.xhr();if(M.username){J.open(G,M.url,M.async,M.username,M.password)}else{J.open(G,M.url,M.async)}try{if(M.data){J.setRequestHeader("Content-Type",M.contentType)}if(M.ifModified){J.setRequestHeader("If-Modified-Since",o.lastModified[M.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}J.setRequestHeader("X-Requested-With","XMLHttpRequest");J.setRequestHeader("Accept",M.dataType&&M.accepts[M.dataType]?M.accepts[M.dataType]+", */*":M.accepts._default)}catch(S){}if(M.beforeSend&&M.beforeSend(J,M)===false){if(M.global&&!--o.active){o.event.trigger("ajaxStop")}J.abort();return false}if(M.global){o.event.trigger("ajaxSend",[J,M])}var N=function(X){if(J.readyState==0){if(P){clearInterval(P);P=null;if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}}else{if(!K&&J&&(J.readyState==4||X=="timeout")){K=true;if(P){clearInterval(P);P=null}R=X=="timeout"?"timeout":!o.httpSuccess(J)?"error":M.ifModified&&o.httpNotModified(J,M.url)?"notmodified":"success";if(R=="success"){try{V=o.httpData(J,M.dataType,M)}catch(Z){R="parsererror"}}if(R=="success"){var Y;try{Y=J.getResponseHeader("Last-Modified")}catch(Z){}if(M.ifModified&&Y){o.lastModified[M.url]=Y}if(!W){I()}}else{o.handleError(M,J,R)}L();if(X){J.abort()}if(M.async){J=null}}}};if(M.async){var P=setInterval(N,13);if(M.timeout>0){setTimeout(function(){if(J&&!K){N("timeout")}},M.timeout)}}try{J.send(M.data)}catch(S){o.handleError(M,J,null,S)}if(!M.async){N()}function I(){if(M.success){M.success(V,R)}if(M.global){o.event.trigger("ajaxSuccess",[J,M])}}function L(){if(M.complete){M.complete(J,R)}if(M.global){o.event.trigger("ajaxComplete",[J,M])}if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}return J},handleError:function(F,H,E,G){if(F.error){F.error(H,E,G)}if(F.global){o.event.trigger("ajaxError",[H,F,G])}},active:0,httpSuccess:function(F){try{return !F.status&&location.protocol=="file:"||(F.status>=200&&F.status<300)||F.status==304||F.status==1223}catch(E){}return false},httpNotModified:function(G,E){try{var H=G.getResponseHeader("Last-Modified");return G.status==304||H==o.lastModified[E]}catch(F){}return false},httpData:function(J,H,G){var F=J.getResponseHeader("content-type"),E=H=="xml"||!H&&F&&F.indexOf("xml")>=0,I=E?J.responseXML:J.responseText;if(E&&I.documentElement.tagName=="parsererror"){throw"parsererror"}if(G&&G
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@684a26e8
---Content---
+m[1].toLowerCase()+"' or local-name()='"+m[1].toUpperCase()+"']";},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:function(m){m[1]=m[1].toLowerCase();return new Template("[@#{1}]").evaluate(m);},attr:function(m){m[1]=m[1].toLowerCase();m[3]=m[5]||m[6];return new Template(Selector.xpath.operators[m[2]]).evaluate(m);},pseudo:function(m){var h=Selector.xpath.pseudos[m[1]];if(!h)return'';if(Object.isFunction(h))return h(m);return new Template(Selector.xpath.pseudos[m[1]]).evaluate(m);},operators:{'=':"[@#{1}='#{3}']",'!=':"[@#{1}!='#{3}']",'^=':"[starts-with(@#{1}, '#{3}')]",'$=':"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']",'*=':"[contains(@#{1}, '#{3}')]",'~=':"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]",'|=':"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{'first-child':'[not(preceding-sibling::*)]','last-child':'[not(following-sibling::*)]','only-child':'[not(preceding-sibling::* or following-sibling::*)]','empty':"[count(*) = 0 and (count(text()) = 0)]",'checked':"[@checked]",'disabled':"[(@disabled) and (@type!='hidden')]",'enabled':"[not(@disabled) and (@type!='hidden')]",'not':function(m){var e=m[6],p=Selector.patterns,x=Selector.xpath,le,v;var exclusion=[];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in p){if(m=e.match(p[i])){v=Object.isFunction(x[i])?x[i](m):new Template(x[i]).evaluate(m);exclusion.push("("+v.substring(1,v.length-1)+")");e=e.replace(m[0],'');break;}}}
return"[not("+exclusion.join(" and ")+")]";},'nth-child':function(m){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",m);},'nth-last-child':function(m){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",m);},'nth-of-type':function(m){return Selector.xpath.pseudos.nth("position() ",m);},'nth-last-of-type':function(m){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",m);},'first-of-type':function(m){m[6]="1";return Selector.xpath.pseudos['nth-of-type'](m);},'last-of-type':function(m){m[6]="1";return Selector.xpath.pseudos['nth-last-of-type'](m);},'only-of-type':function(m){var p=Selector.xpath.pseudos;return p['first-of-type'](m)+p['last-of-type'](m);},nth:function(fragment,m){var mm,formula=m[6],predicate;if(formula=='even')formula='2n+0';if(formula=='odd')formula='2n+1';if(mm=formula.match(/^(\d+)$/))
return'['+fragment+"= "+mm[1]+']';if(mm=formula.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(mm[1]=="-")mm[1]=-1;var a=mm[1]?Number(mm[1]):1;var b=mm[2]?Number(mm[2]):0;predicate="[((#{fragment} - #{b}) mod #{a} = 0) and "+"((#{fragment} - #{b}) div #{a} >= 0)]";return new Template(predicate).evaluate({fragment:fragment,a:a,b:b});}}}},criteria:{tagName:'n = h.tagName(n, r, "#{1}", c);      c = false;',className:'n = h.className(n, r, "#{1}", c);    c = false;',id:'n = h.id(n, r, "#{1}", c);           c = false;',attrPresence:'n = h.attrPresence(n, r, "#{1}", c); c = false;',attr:function(m){m[3]=(m[5]||m[6]);return new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}", c); c = false;').evaluate(m);},pseudo:function(m){if(m[6])m[6]=m[6].replace(/"/g,'\\"');return new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(m);},descendant:'c = "descendant";',child:'c = "child";',adjacent:'c = "adjacent";',laterSibling:'c = "laterSibling";'},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|(?=\s|[:+~>]))/,attrPresence:/^\[((?:[\w]+:)?[\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\4]*?)\4|([^'"][^\]]*?)))?\]/},assertions:{tagName:function(element,matches){return matches[1].toUpperCase()==element.tagName.toUpperCase();},className:function(element,matches){return Element.hasClassName(element,matches[1]);},id:function(element,matches){return element.id===matches[1];},attrPresence:function(element,matches){return Element.hasAttribute(element,matches[1]);},attr:function(element,matches){var nodeValue=Element.readAttribute(element,matches[1]);return nodeValue&&Selector.operators[matches[2]](nodeValue,matches[5]||matches[6]);}},handlers:{concat:function(a,b){for(var i=0,node;node=b[i];i++)
a.push(node);return a;},mark:function(nodes){var _true=Prototype.emptyFunction;for(var i=0,node;node=nodes[i];i++)
node._countedByPrototype=_true;return nodes;},unmark:function(nodes){for(var i=0,node;node=nodes[i];i++)
node._countedByPrototype=undefined;return nodes;},index:function(parentNode,reverse,ofType){parentNode._countedByPrototype=Prototype.emptyFunction;if(reverse){for(var nodes=parentNode.childNodes,i=nodes.length-1,j=1;i>=0;i--){var node=nodes[i];if(node.nodeType==1&&(!ofType||node._countedByPrototype))node.nodeIndex=j++;}}else{for(var i=0,j=1,nodes=parentNode.childNodes;node=nodes[i];i++)
if(node.nodeType==1&&(!ofType||node._countedByPrototype))node.nodeIndex=j++;}},unique:function(nodes){if(nodes.length==0)return nodes;var results=[],n;for(var i=0,l=nodes.length;i<l;i++)
if(!(n=nodes[i])._countedByPrototype){n._countedByPrototype=Prototype.emptyFunction;results.push(Element.extend(n));}
return Selector.handlers.unmark(results);},descendant:function(nodes){var h=Selector.handlers;for(var i=0,results=[],node;node=nodes[i];i++)
h.concat(results,node.getElementsByTagName('*'));return results;},child:function(nodes){var h=Selector.handlers;for(var i=0,results=[],node;node=nodes[i];i++){for(var j=0,child;child=node.childNodes[j];j++)
if(child.nodeType==1&&child.tagName!='!')results.push(child);}
return results;},adjacent:function(nodes){for(var i=0,results=[],node;node=nodes[i];i++){var next=this.nextElementSibling(node);if(next)results.push(next);}
return results;},laterSibling:function(nodes){var h=Selector.handlers;for(var i=0,results=[],node;node=nodes[i];i++)
h.concat(results,Element.nextSiblings(node));return results;},nextElementSibling:function(node){while(node=node.nextSibling)
if(node.nodeType==1)return node;return null;},previousElementSibling:function(node){while(node=node.previousSibling)
if(node.nodeType==1)return node;return null;},tagName:function(nodes,root,tagName,combinator){var uTagName=tagName.toUpperCase();var results=[],h=Selector.handlers;if(nodes){if(combinator){if(combinator=="descendant"){for(var i=0,node;node=nodes[i];i++)
h.concat(results,node.getElementsByTagName(tagName));return results;}else nodes=this[combinator](nodes);if(tagName=="*")return nodes;}
for(var i=0,node;node=nodes[i];i++)
if(node.tagName.toUpperCase()===uTagName)results.push(node);return results;}else return root.getElementsByTagName(tagName);},id:function(nodes,root,id,combinator){var targetNode=$(id),h=Selector.handlers;if(!targetNode)return[];if(!nodes&&root==document)return[targetNode];if(nodes){if(combinator){if(combinator=='child'){for(var i=0,node;node=nodes[i];i++)
if(targetNode.parentNode==node)return[targetNode];}else if(combinator=='descendant'){for(var i=0,node;node=nodes[i];i++)
if(Element.descendantOf(targetNode,node))return[targetNode];}else if(combinator=='adjacent'){for(var i=0,node;node=nodes[i];i++)
if(Selector.handlers.previousElementSibling(targetNode)==node)
return[targetNode];}else nodes=h[combinator](nodes);}
for(var i=0,node;node=nodes[i];i++)
if(node==targetNode)return[targetNode];return[];}
return(targetNode&&Element.descendantOf(targetNode,root))?[targetNode]:[];},className:function(nodes,root,className,combinator){if(nodes&&combinator)nodes=this[combinator](nodes);return Selector.handlers.byClassName(nodes,root,className);},byClassName:function(nodes,root,className){if(!nodes)nodes=Selector.handlers.descendant([root]);var needle=' '+className+' ';for(var i=0,results=[],node,nodeClassName;node=nodes[i];i++){nodeClassName=node.className;if(nodeClassName.length==0)continue;if(nodeClassName==className||(' '+nodeClassName+' ').include(needle))
results.push(node);}
return results;},attrPresence:function(nodes,root,attr,combinator){if(!nodes)nodes=root.getElementsByTagName("*");if(nodes&&combinator)nodes=this[combinator](nodes);var results=[];for(var i=0,node;node=nodes[i];i++)
if(Element.hasAttribute(node,attr))results.push(node);return results;},attr:function(nodes,root,attr,value,operator,combinator){if(!nodes)nodes=root.getElementsByTagName("*");if(nodes&&combinator)nodes=this[combinator](nodes);var handler=Selector.operators[operator],results=[];for(var i=0,node;node=nodes[i];i++){var nodeValue=Element.readAttribute(node,attr);if(nodeValue===null)continue;if(handler(nodeValue,value))results.push(node);}
return results;},pseudo:function(nodes,name,value,root,combinator){if(nodes&&combinator)nodes=this[combinator](nodes);if(!nodes)nodes=root.getElementsByTagName("*");return Selector.pseudos[name](nodes,value,root);}},pseudos:{'first-child':function(nodes,value,root){for(var i=0,results=[],node;node=nodes[i];i++){if(Selector.handlers.previousElementSibling(node))continue;results.push(node);}
return results;},'last-child':function(nodes,value,root){for(var i=0,results=[],node;node=nodes[i];i++){if(Selector.handlers.nextElementSibling(node))continue;results.push(node);}
return results;},'only-child':function(nodes,value,root){var h=Selector.handlers;for(var i=0,results=[],node;node=nodes[i];i++)
if(!h.previousElementSibling(node)&&!h.nextElementSibling(node))
results.push(node);return results;},'nth-child':function(nodes,formula,root){return Selector.pseudos.nth(nodes,formula,root);},'nth-last-child':function(nodes,formula,root){return Selector.pseudos.nth(nodes,formula,root,true);},'nth-of-type':function(nodes,formula,root){return Selector.pseudos.nth(nodes,formula,root,false,true);},'nth-last-of-type':function(nodes,formula,root){return Selector.pseudos.nth(nodes,formula,root,true,true);},'first-of-type':function(nodes,formula,root){return Selector.pseudos.nth(nodes,"1",root,false,true);},'last-of-type':function(nodes,formula,root){return Selector.pseudos.nth(nodes,"1",root,true,true);},'only-of-type':function(nodes,formula,root){var p=Selector.pseudos;return p['last-of-type'](p['first-of-type'](nodes,formula,root),formula,root);},getIndices:function(a,b,total){if(a==0)return b>0?[b]:[];return $R(1,total).inject([],function(memo,i){if(0==(i-b)%a&&(i-b)/a>=0)memo.push(i);return memo;});},nth:function(nodes,formula,root,reverse,ofType){if(nodes.length==0)return[];if(formula=='even')formula='2n+0';if(formula=='odd')formula='2n+1';var h=Selector.handlers,results=[],indexed=[],m;h.mark(nodes);for(var i=0,node;node=nodes[i];i++){if(!node.parentNode._countedByPrototype){h.index(node.parentNode,reverse,ofType);indexed.push(node.parentNode);}}
if(formula.match(/^\d+$/)){formula=Number(formula);for(var i=0,node;node=nodes[i];i++)
if(node.nodeIndex==formula)results.push(node);}else if(m=formula.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(m[1]=="-")m[1]=-1;var a=m[1]?Number(m[1]):1;var b=m[2]?Number(m[2]):0;var indices=Selector.pseudos.getIndices(a,b,nodes.length);for(var i=0,node,l=indices.length;node=nodes[i];i++){for(var j=0;j<l;j++)
if(node.nodeIndex==indices[j])results.push(node);}}
h.unmark(nodes);h.unmark(indexed);return results;},'empty':function(nodes,value,root){for(var i=0,results=[],node;node=nodes[i];i++){if(node.tagName=='!'||node.firstChild)continue;results.push(node);}
return results;},'not':function(nodes,selector,root){var h=Selector.handlers,selectorType,m;var exclusions=new Selector(selector).findElements(root);h.mark(exclusions);for(var i=0,results=[],node;node=nodes[i];i++)
if(!node._countedByPrototype)results.push(node);h.unmark(exclusions);return results;},'enabled':function(nodes,value,root){for(var i=0,results=[],node;node=nodes[i];i++)
if(!node.disabled&&(!node.type||node.type!=='hidden'))
results.push(node);return results;},'disabled':function(nodes,value,root){for(var i=0,results=[],node;node=nodes[i];i++)
if(node.disabled)results.push(node);return results;},'checked':function(nodes,value,root){for(var i=0,results=[],node;node=nodes[i];i++)
if(node.checked)results.push(node);return results;}},operators:{'=':function(nv,v){return nv==v;},'!=':function(nv,v){return nv!=v;},'^=':function(nv,v){return nv==v||nv&&nv.startsWith(v);},'$=':function(nv,v){return nv==v||nv&&nv.endsWith(v);},'*=':function(nv,v){return nv==v||nv&&nv.include(v);},'$=':function(nv,v){return nv.endsWith(v);},'*=':function(nv,v){return nv.include(v);},'~=':function(nv,v){return(' '+nv+' ').include(' '+v+' ');},'|=':function(nv,v){return('-'+(nv||"").toUpperCase()+'-').include('-'+(v||"").toUpperCase()+'-');}},split:function(expression){var expressions=[];expression.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(m){expressions.push(m[1].strip());});return expressions;},matchElements:function(elements,expression){var matches=$$(expression),h=Selector.handlers;h.mark(matches);for(var i=0,results=[],element;element=elements[i];i++)
if(element._countedByPrototype)results.push(element);h.unmark(matches);return results;},findElement:function(elements,expression,index){if(Object.isNumber(expression)){index=expression;expression=false;}
return Selector.matchElements(elements,expression||'*')[index||0];},findChildElements:function(element,expressions){expressions=Selector.split(expressions.join(','));var results=[],h=Selector.handlers;for(var i=0,l=expressions.length,selector;i<l;i++){selector=new Selector(expressions[i].strip());h.concat(results,selector.findElements(element));}
return(l>1)?h.unique(results):results;}});if(Prototype.Browser.IE){Object.extend(Selector.handlers,{concat:function(a,b){for(var i=0,node;node=b[i];i++)
if(node.tagName!=="!")a.push(node);return a;},unmark:function(nodes){for(var i=0,node;node=nodes[i];i++)
node.removeAttribute('_countedByPrototype');return nodes;}});}
function $$(){return Selector.findChildElements(document,$A(arguments));}
var Form={reset:function(form){$(form).reset();return form;},serializeElements:function(elements,options){if(typeof options!='object')options={hash:!!options};else if(Object.isUndefined(options.hash))options.hash=true;var key,value,submitted=false,submit=options.submit;var data=elements.inject({},function(result,element){if(!element.disabled&&element.name){key=element.name;value=$(element).getValue();if(value!=null&&element.type!='file'&&(element.type!='submit'||(!submitted&&submit!==false&&(!submit||key==submit)&&(submitted=true)))){if(key in result){if(!Object.isArray(result[key]))result[key]=[result[key]];result[key].push(value);}
else result[key]=value;}}
return result;});return options.hash?data:Object.toQueryString(data);}};Form.Methods={serialize:function(form,options){return Form.serializeElements(Form.getElements(form),options);},getElements:function(form){return $A($(form).getElementsByTagName('*')).inject([],function(elements,child){if(Form.Element.Serializers[child.tagName.toLowerCase()])
elements.push(Element.extend(child));return elements;});},getInputs:function(form,typeName,name){form=$(form);var inputs=form.getElementsByTagName('input');if(!typeName&&!name)return $A(inputs).map(Element.extend);for(var i=0,matchingInputs=[],length=inputs.length;i<length;i++){var input=inputs[i];if((typeName&&input.type!=typeName)||(name&&input.name!=name))
continue;matchingInputs.push(Element.extend(input));}
return matchingInputs;},disable:function(form){form=$(form);Form.getElements(form).invoke('disable');return form;},enable:function(form){form=$(form);Form.getElements(form).invoke('enable');return form;},findFirstElement:function(form){var elements=$(form).getElements().findAll(function(element){return'hidden'!=element.type&&!element.disabled;});var firstByIndex=elements.findAll(function(element){return element.hasAttribute('tabIndex')&&element.tabIndex>=0;}).sortBy(function(element){return element.tabIndex}).first();return firstByIndex?firstByIndex:elements.find(function(element){return['input','select','textarea'].include(element.tagName.toLowerCase());});},focusFirstElement:function(form){form=$(form);form.findFirstElement().activate();return form;},request:function(form,options){form=$(form),options=Object.clone(options||{});var params=options.parameters,action=form.readAttribute('action')||'';if(action.blank())action=window.location.href;options.parameters=form.serialize(true);if(params){if(Object.isString(params))params=params.toQueryParams();Object.extend(options.parameters,params);}
if(form.hasAttribute('method')&&!options.method)
options.method=form.method;return new Ajax.Request(action,options);}};Form.Element={focus:function(element){$(element).focus();return element;},select:function(element){$(element).select();return element;}};Form.Element.Methods={serialize:function(element){element=$(element);if(!element.disabled&&element.name){var value=element.getValue();if(value!=undefined){var pair={};pair[element.name]=value;return Object.toQueryString(pair);}}
return'';},getValue:function(element){element=$(element);var method=element.tagName.toLowerCase();return Form.Element.Serializers[method](element);},setValue:function(element,value){element=$(element);var method=element.tagName.toLowerCase();Form.Element.Serializers[method](element,value);return element;},clear:function(element){$(element).value='';return element;},present:function(element){return $(element).value!='';},activate:function(element){element=$(element);try{element.focus();if(element.select&&(element.tagName.toLowerCase()!='input'||!['button','reset','submit'].include(element.type)))
element.select();}catch(e){}
return element;},disable:function(element){element=$(element);element.disabled=true;return element;},enable:function(element){element=$(element);element.disabled=false;return element;}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers={input:function(element,value){switch(element.type.toLowerCase()){case'checkbox':case'radio':return Form.Element.Serializers.inputSelector(element,value);default:return Form.Element.Serializers.textarea(element,value);}},inputSelector:function(element,value){if(Object.isUndefined(value))return element.checked?element.value:null;else element.checked=!!value;},textarea:function(element,value){if(Object.isUndefined(value))return element.value;else element.value=value;},select:function(element,value){if(Object.isUndefined(value))
return this[element.type=='select-one'?'selectOne':'selectMany'](element);else{var opt,currentValue,single=!Object.isArray(value);for(var i=0,length=element.length;i<length;i++){opt=element.options[i];currentValue=this.optionValue(opt);if(single){if(currentValue==value){opt.selected=true;return;}}
else opt.selected=value.include(currentValue);}}},selectOne:function(element){var index=element.selectedIndex;return index>=0?this.optionValue(element.options[index]):null;},selectMany:function(element){var values,length=element.length;if(!length)return null;for(var i=0,values=[];i<length;i++){var opt=element.options[i];if(opt.selected)values.push(this.optionValue(opt));}
return values;},optionValue:function(opt){return Element.extend(opt).hasAttribute('value')?opt.value:opt.text;}};Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,element,frequency,callback){$super(callback,frequency);this.element=$(element);this.lastValue=this.getValue();},execute:function(){var value=this.getValue();if(Object.isString(this.lastValue)&&Object.isString(value)?this.lastValue!=value:String(this.lastValue)!=String(value)){this.callback(this.element,value);this.lastValue=value;}}});Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element);}});Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element);}});Abstract.EventObserver=Class.create({initialize:function(element,callback){this.element=$(element);this.callback=callback;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=='form')
this.registerFormCallbacks();else
this.registerCallback(this.element);},onElementEvent:function(){var value=this.getValue();if(this.lastValue!=value){this.callback(this.element,value);this.lastValue=value;}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this);},registerCallback:function(element){if(element.type){switch(element.type.toLowerCase()){case'checkbox':case'radio':Event.observe(element,'click',this.onElementEvent.bind(this));break;default:Event.observe(element,'change',this.onElementEvent.bind(this));break;}}}});Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element);}});Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element);}});if(!window.Event)var Event={};Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{},relatedTarget:function(event){var element;switch(event.type){case'mouseover':element=event.fromElement;break;case'mouseout':element=event.toElement;break;default:return null;}
return Element.extend(element);}});Event.Methods=(function(){var isButton;if(Prototype.Browser.IE){var buttonMap={0:1,1:4,2:2};isButton=function(event,code){return event.button==buttonMap[code];};}else if(Prototype.Browser.WebKit){isButton=function(event,code){switch(code){case 0:return event.which==1&&!event.metaKey;case 1:return event.which==1&&event.metaKey;default:return false;}};}else{isButton=function(event,code){return event.which?(event.which===code+1):(event.button===code);};}
return{isLeftClick:function(event){return isButton(event,0)},isMiddleClick:function(event){return isButton(event,1)},isRightClick:function(event){return isButton(event,2)},element:function(event){event=Event.extend(event);var node=event.target,type=event.type,currentTarget=event.currentTarget;if(currentTarget&&currentTarget.tagName){if(type==='load'||type==='error'||(type==='click'&&currentTarget.tagName.toLowerCase()==='input'&&currentTarget.type==='radio'))
node=currentTarget;}
if(node.nodeType==Node.TEXT_NODE)node=node.parentNode;return Element.extend(node);},findElement:function(event,expression){var element=Event.element(event);if(!expression)return element;var elements=[element].concat(element.ancestors());return Selector.findElement(elements,expression,0);},pointer:function(event){var docElement=document.documentElement,body=document.body||{scrollLeft:0,scrollTop:0};return{x:event.pageX||(event.clientX+
(docElement.scrollLeft||body.scrollLeft)-
(docElement.clientLeft||0)),y:event.pageY||(event.clientY+
(docElement.scrollTop||body.scrollTop)-
(docElement.clientTop||0))};},pointerX:function(event){return Event.pointer(event).x},pointerY:function(event){return Event.pointer(event).y},stop:function(event){Event.extend(event);event.preventDefault();event.stopPropagation();event.stopped=true;}};})();Event.extend=(function(){var methods=Object.keys(Event.Methods).inject({},function(m,name){m[name]=Event.Methods[name].methodize();return m;});if(Prototype.Browser.IE){Object.extend(methods,{stopPropagation:function(){this.cancelBubble=true},preventDefault:function(){this.returnValue=false},inspect:function(){return"[object Event]"}});return function(event){if(!event)return false;if(event._extendedByPrototype)return event;event._extendedByPrototype=Prototype.emptyFunction;var pointer=Event.pointer(event);Object.extend(event,{target:event.srcElement,relatedTarget:Event.relatedTarget(event),pageX:pointer.x,pageY:pointer.y});return Object.extend(event,methods);};}else{Event.prototype=Event.prototype||document.createEvent("HTMLEvents")['__proto__'];Object.extend(Event.prototype,methods);return Prototype.K;}})();Object.extend(Event,(function(){var cache=Event.cache;function getEventID(element){if(element._prototypeEventID)return element._prototypeEventID[0];arguments.callee.id=arguments.callee.id||1;return element._prototypeEventID=[++arguments.callee.id];}
function getDOMEventName(eventName){if(eventName&&eventName.include(':'))return"dataavailable";return eventName;}
function getCacheForID(id){return cache[id]=cache[id]||{};}
function getWrappersForEventName(id,eventName){var c=getCacheForID(id);return c[eventName]=c[eventName]||[];}
function createWrapper(element,eventName,handler){var id=getEventID(element);var c=getWrappersForEventName(id,eventName);if(c.pluck("handler").include(handler))return false;var wrapper=function(event){if(!Event||!Event.extend||(event.eventName&&event.eventName!=eventName))
return false;Event.extend(event);handler.call(element,event);};wrapper.handler=handler;c.push(wrapper);return wrapper;}
function findWrapper(id,eventName,handler){var c=getWrappersForEventName(id,eventName);return c.find(function(wrapper){return wrapper.handler==handler});}
function destroyWrapper(id,eventName,handler){var c=getCacheForID(id);if(!c[eventName])return false;c[eventName]=c[eventName].without(findWrapper(id,eventName,handler));}
function destroyCache(){for(var id in cache)
for(var eventName in cache[id])
cache[id][eventName]=null;}
if(window.attachEvent){window.attachEvent("onunload",destroyCache);}
if(Prototype.Browser.WebKit){window.addEventListener('unload',Prototype.emptyFunction,false);}
return{observe:function(element,eventName,handler){element=$(element);var name=getDOMEventName(eventName);var wrapper=createWrapper(element,eventName,handler);if(!wrapper)return element;if(element.addEventListener){element.addEventListener(name,wrapper,false);}else{element.attachEvent("on"+name,wrapper);}
return element;},stopObserving:function(element,eventName,handler){element=$(element);var id=getEventID(element),name=getDOMEventName(eventName);if(!handler&&eventName){getWrappersForEventName(id,eventName).each(function(wrapper){element.stopObserving(eventName,wrapper.handler);});return element;}else if(!eventName){Object.keys(getCacheForID(id)).each(function(eventName){element.stopObserving(eventName);});return element;}
var wrapper=findWrapper(id,eventName,handler);if(!wrapper)return element;if(element.removeEventListener){element.removeEventListener(name,wrapper,false);}else{element.detachEvent("on"+name,wrapper);}
destroyWrapper(id,eventName,handler);return element;},fire:function(element,eventName,memo){element=$(element);if(element==document&&document.createEvent&&!element.dispatchEvent)
element=document.documentElement;var event;if(document.createEvent){event=document.createEvent("HTMLEvents");event.initEvent("dataavailable",true,true);}else{event=document.createEventObject();event.eventType="ondataavailable";}
event.eventName=eventName;event.memo=memo||{};if(document.createEvent){element.dispatchEvent(event);}else{element.fireEvent(event.eventType,event);}
return Event.extend(event);}};})());Object.extend(Event,Event.Methods);Element.addMethods({fire:Event.fire,observe:Event.observe,stopObserving:Event.stopObserving});Object.extend(document,{fire:Element.Methods.fire.methodize(),observe:Element.Methods.observe.methodize(),stopObserving:Element.Methods.stopObserving.methodize(),loaded:false});(function(){var timer;function fireContentLoadedEvent(){if(document.loaded)return;if(timer)window.clearInterval(timer);document.fire("dom:loaded");document.loaded=true;}
if(document.addEventListener){if(Prototype.Browser.WebKit){timer=window.setInterval(function(){if(/loaded|complete/.test(document.readyState))
fireContentLoadedEvent();},0);Event.observe(window,"load",fireContentLoadedEvent);}else{document.addEventListener("DOMContentLoaded",fireContentLoadedEvent,false);}}else{document.write("<script id=__onDOMContentLoaded defer src=//:><\/script>");$("__onDOMContentLoaded").onreadystatechange=function(){if(this.readyState=="complete"){this.onreadystatechange=null;fireContentLoadedEvent();}};}})();Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(element,content){return Element.insert(element,{before:content});},Top:function(element,content){return Element.insert(element,{top:content});},Bottom:function(element,content){return Element.insert(element,{bottom:content});},After:function(element,content){return Element.insert(element,{after:content});}};var $continue=new Error('"throw $continue" is deprecated, use "return" instead');var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},within:function(element,x,y){if(this.includeScrollOffsets)
return this.withinIncludingScrolloffsets(element,x,y);this.xcomp=x;this.ycomp=y;this.offset=Element.cumulativeOffset(element);return(y>=this.offset[1]&&y<this.offset[1]+element.offsetHeight&&x>=this.offset[0]&&x<this.offset[0]+element.offsetWidth);},withinIncludingScrolloffsets:function(element,x,y){var offsetcache=Element.cumulativeScrollOffset(element);this.xcomp=x+offsetcache[0]-this.deltaX;this.ycomp=y+offsetcache[1]-this.deltaY;this.offset=Element.cumulativeOffset(element);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+element.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+element.offsetWidth);},overlap:function(mode,element){if(!mode)return 0;if(mode=='vertical')
return((this.offset[1]+element.offsetHeight)-this.ycomp)/element.offsetHeight;if(mode=='horizontal')
return((this.offset[0]+element.offsetWidth)-this.xcomp)/element.offsetWidth;},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(element){Position.prepare();return Element.absolutize(element);},relativize:function(element){Position.prepare();return Element.relativize(element);},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(source,target,options){options=options||{};return Element.clonePosition(target,source,options);}};if(!document.getElementsByClassName)document.getElementsByClassName=function(instanceMethods){function iter(name){return name.blank()?null:"[contains(concat(' ', @class, ' '), ' "+name+" ')]";}
instanceMethods.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(element,className){className=className.toString().strip();var cond=/\s/.test(className)?$w(className).map(iter).join(''):iter(className);return cond?document._getElementsByXPath('.//*'+cond,element):[];}:function(element,className){className=className.toString().strip();var elements=[],classNames=(/\s/.test(className)?$w(className):null);if(!classNames&&!className)return elements;var nodes=$(element).getElementsByTagName('*');className=' '+className+' ';for(var i=0,child,cn;child=nodes[i];i++){if(child.className&&(cn=' '+child.className+' ')&&(cn.include(className)||(classNames&&classNames.all(function(name){return!name.toString().blank()&&cn.include(' '+name+' ');}))))
elements.push(Element.extend(child));}
return elements;};return function(className,parentElement){return $(parentElement||document.body).getElementsByClassName(className);};}(Element.Methods);Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(element){this.element=$(element);},_each:function(iterator){this.element.className.split(/\s+/).select(function(name){return name.length>0;})._each(iterator);},set:function(className){this.element.className=className;},add:function(classNameToAdd){if(this.include(classNameToAdd))return;this.set($A(this).concat(classNameToAdd).join(' '));},remove:function(classNameToRemove){if(!this.include(classNameToRemove))return;this.set($A(this).without(classNameToRemove).join(' '));},toString:function(){return $A(this).join(' ');}};Object.extend(Element.ClassNames.prototype,Enumerable);Element.addMethods();
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 18 May 2010 02:11:52 GMT
ETag: "21e6-4bf1f768"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 8678
---Content---
var TUGS = {
	tugsURL: "",
	closeUploadForm: function() {
		window.document.getElementById('popUpContent').style.display='none'; 
		window.document.getElementById('hudMask').style.display='none';
		popUp = $('popUpContent');
		popUp.removeChild($('tugsIFrame2'));
	},
	getMostCommented: function(partnerCode) {
		requestURL = TUGS.tugsURL+"/ws/items/topcommented/"+partnerCode+".json";
		var mostComments = "";
		new Ajax.Request(requestURL, {
	        method:'get',
	        onSuccess: function(transport){
	            var response = transport.responseText.evalJSON() || "no response";
				mostComments = '<div id="mostCommentsView">';
			
				for(i=0;i<response.length;i++) {
					if (i == (response.length)-1) {
						mostComments = mostComments+'<div class="uaItem last"><div class="uaIcon"><span class="'+response[i].content_type+'">'+response[i].content_type+'</span></div><div class="uaItemTitle"><a href="'+response[i].url+'">'+response[i].title+' ('+response[i].comment_count+')</a></div></div>';
					} else {
						mostComments = mostComments+'<div class="uaItem"><div class="uaIcon"><span class="'+response[i].content_type+'">'+response[i].content_type+'</span></div><div class="uaItemTitle"><a href="'+response[i].url+'">'+response[i].title+' ('+response[i].comment_count+')</a></div></div>';
					}
				}
				mostComments = mostComments+"</div>";
				$("uaContent").innerHTML = mostComments;
			},
			onFailure: function(){
				alert('Problem getting most commented');
			}
		});
	},
	getHighestRated: function(partnerCode) {
		requestURL = TUGS.tugsURL+"/ws/items/highestrated/"+partnerCode+".json";
		var highRatings = "";
		new Ajax.Request(requestURL, {
	        method:'get',
	        onSuccess: function(transport){
	            var response = transport.responseText.evalJSON() || "no response";
				highRatings = '<div id="highRatingsView">';
				for(i=0;i<response.length;i++) {
					if (i == (response.length)-1) {
						highRatings = highRatings+'<div class="uaItem last"><div class="uaIcon"></div><div class="uaItemTitle"><a href="'+response[i].url+'">'+response[i].title+' ('+response[i].comment_count+')</a></div></div>';
					} else {
						highRatings = highRatings+'<div class="uaItem"><div class="uaIcon"></div><div class="uaItemTitle"><a href="'+response[i].url+'">'+response[i].title+' ('+response[i].comment_count+')</a></div></div>';
					}
				}
				highRatings = highRatings+"</div>";
				firstPiece = ($("uaContent").innerHTML);
				$("uaContent").innerHTML = firstPiece + highRatings;
			},
			onFailure: function(){
				alert('Problem getting highest rated');
			}
		});
	},
	commentsTabUI: function(e) {
		if(this.id == "mostCommented") {
			$('mostCommentsView').style.display = "block";
			$('highRatingsView').style.display = "none";
			this.className = "active"
			$('highestRated').className = "";
		} else if(this.id == "highestRated") {
			$('highRatingsView').style.display = "block";
			$('mostCommentsView').style.display = "none";
			this.className = "active"
			$('mostCommented').className = "";
		}
	}, 
	setInitCount:function(jsonResp) {
		var starResp = jsonResp.evalJSON();
		var message = starResp.message;
		if (message == "Please check your input object.") {
			$('rating_1').innerHTML = "0";
		} else if (message == "No rating." || message == "No item.") {
			$('rating_1').innerHTML = "0";
		} else {
			var rateAVG = ((starResp.rate_summary.total_score) / (starResp.rate_summary.total_count)).toFixed(2);
			rateAVG = (rateAVG/20).toFixed(2);
			$('rating_1').innerHTML = rateAVG;
		} 
	},
	init_starRating: function() {
		var number_of_stars = 5;
		var status;
		var ratings = $('tugsRating').down('.rating');	    
		var rating = ratings.firstChild.nodeValue;
		ratings.removeChild(ratings.firstChild);
		if (rating > number_of_stars || rating < 0) return
		$R(1,number_of_stars).each(function(j) {
			var star = new Element('img');
			if (rating >= 1) {
	            star.setAttribute('src', '/hive/images/ratings/rating_on.jpg');
	            star.className = 'on';
	            rating--;
			} else if(rating > 0.5 && rating < 1) {
	            star.setAttribute('src', '/hive/images/ratings/rating_half.jpg');
	            star.className = 'half';
	            rating = 0;
			} else {
				star.className = 'off';
				star.setAttribute('src', '/hive/images/ratings/rating_off.jpg');
	        }
	        var widgetId = ratings.identify().substr(7);
	        star.writeAttribute('id', 'star_'+widgetId+'_'+j);
	        star.onmouseover = new Function("evt", "TUGS.displayHover("+widgetId+", "+j+");");
	        star.onmouseout = new Function("evt", "TUGS.displayNormal("+widgetId+", "+j+");");	
			ratings.appendChild(star);
		});
   

	    $$('.rating').each(function(n){
			n.immediateDescendants().each(function(c){
				Event.observe(c, 'click', TUGS.submitRating);
			});
		});
	},
	displayHover: function(ratingId, star) {
		$R(1,star).each(function(i) {
			$('star_'+ratingId+'_'+i).setAttribute('src', '/hive/images/ratings/rating_over.jpg');
		});
	},
	displayNormal: function(ratingId, star) {
		$R(1,star).each(function(i) {	
			var IDtoFind = 'star_'+ratingId+'_'+i;
			var status = $(IDtoFind).className;

			$('star_'+ratingId+'_'+i).setAttribute('src', '/hive/images/ratings/rating_'+status+'.jpg');
		});
	},
	submitRating:function(evt) {
		var starID = this.id;
		var voteAmt = starID.substr(7);
		var ratings = $('tugsRating').down('.rating');
		var itemSlug = $('rateMarket').innerHTML;
		//var requestURL = "/getRating.front?slug="+itemSlug;
		var requestURL = "/getRating.front?slug="+itemSlug+"&score="+voteAmt;
		var params = "item_slug="+itemSlug+"&score="+voteAmt+"&jsoncallback=?";
		var number_of_stars = 5;
		//alert(requestURL);
		
		new Ajax.Request(requestURL, {
	        method:'get',
			onLoading: function() {
				ratings.innerHTML = "<img id='loadIMG' src='/hive/images/ratings/ajax-loader.gif' width='16' height='16' />";
			},
	        onSuccess: function(transport){

				response = transport.responseText || "no response";
				firstPos = response.indexOf('{"rate":');
				var pulledJSON2 = response.substr(firstPos);
				endPos = "";
				if(pulledJSON2.indexOf('}}}') > 0) {
					endPos = pulledJSON2.indexOf('}}}')+3;
				} else {
					endPos = pulledJSON2.indexOf('}}')+2;
				}
				var pulledJSON = pulledJSON2.substr(0, endPos);
				finalJSON = pulledJSON.evalJSON();
				rateAVG = ((finalJSON.rate.rate_summary.total_score) / (finalJSON.rate.rate_summary.total_count)).toFixed(2);
				rateAVG = (rateAVG/20).toFixed(2);
				$('starRatingFeedback_1').innerHTML = rateAVG+' from '+finalJSON.rate.rate_summary.total_count+' ratings';
				
				newStars = new Element('span',{ 'id': 'newStars', 'style': 'display:none' });
				$R(1,number_of_stars).each(function(j) {
					var star = new Element('img');
					if (rateAVG >= 1) {
		                star.setAttribute('src', '/hive/images/ratings/rating_on.jpg');
		                star.className = 'on';
		                rateAVG--;
			        } else if(rateAVG == 0.5) {
		                star.setAttribute('src', '/hive/images/ratings/rating_half.jpg');
		                star.className = 'half';
		                rateAVG = 0;
					} else if(rateAVG > 0.5 && rateAVG < 1) {
						star.setAttribute('src', '/hive/images/ratings/rating_half.jpg');
		                star.className = 'half';
		                rateAVG = 0;
					} else {
						star.className = 'off';
						star.setAttribute('src', '/hive/images/ratings/rating_off.jpg');
		            }
		            var widgetId = ratings.identify().substr(7);
		            star.writeAttribute('id', 'star_'+widgetId+'_'+j);
					newStars.appendChild(star);
				});
				ratings.appendChild(newStars);
				ratings.removeChild($('loadIMG'));
				Effect.Appear(newStars, { duration: 0.5 });	
			},
			onFailure: function() {
				alert('Problem getting rating');
			}
		}); 
	},
	displayTugsTip: function() {
		var tipsArray = ["You can help keep the comment boards clean by \"reporting abuse\" on comments that may be spam or offensive to other users", "To reply directly to a comment click on \"reply\" to the right of the comment you would like to reply to", "On the discussions page, you can rate the item you are discussing by clicking on stars above the comment input box", "You can add bulletted lists to your comment by using the \"ordered list\" and \"unordered list\" icons above the text input box"];
		var tipsLength = tipsArray.length;
		var randomTip = Math.floor(Math.random()*tipsLength);
		var returnDisplay = "<div id='tugsTip'><span class='tipTitle'>Did you know?</span><p>"+tipsArray[randomTip]+"</p></div>";
		return document.write(returnDisplay);
		
	}
}

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 20 Apr 2010 05:11:32 GMT
ETag: "1003-4bcd3784"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 4099
---Content---
(function(xd){
	window.xd = xd;
	
	xd._ajaxConf = {};
	
	xd.configure = function(host,key,value){
		if(key){
			if(key.constructor === String){
				if(value!=undefined){
					xd._ajaxConf[host][key] = value;
				}
				return xd._ajaxConf[host][key];
			} else {
				xd._ajaxConf[host] = key;
			}
		} else {
			if(host.constructor === String){
				return xd._ajaxConf[host];
			}
			xd._ajaxConf = host;
			return;
		}
		return xd._ajaxConf[host];
	};
	
	xd.getHost = function(url){
		var re = new RegExp('^((?:f|ht)tp(?:s)?\://(?:[^/]+))', 'im');
		return url.match(re)[1].toString();
	};
	
	xd.ajax = function(args){
		var frame = xd.createIframe(),
			callback = 'cb_'+frame.frameId,
			url = args.url,
			host = xd.getHost(url),
			conf = xd.configure(host),
			scope = args.scope || window,
			success = args.success,
			failure = args.error,
			type = args.type || conf.type || 'GET',
			sender = args.sender || conf.sender,
			receiver = args.receiver || conf.receiver,
			data = args.data,
			kpDelim = xd.core.hashPairDelim()
			valDelim = xd.core.hashValDelim();
		if(!/^http/i.test(receiver)){
			receiver = xd.getHost(document.location.toString())+receiver;
		}
		try{
			if(data != null && typeof data != 'string'){
				data = Object.toJSON? Object.toJSON(data) :  JSON.stringify(data);
			}
		}catch(e){}
		var garbageCollect = function(){
			frame.kill();
			window[callback] = undefined;
			try{delete window[callback];}catch(e){}
		}
		
		window[callback] = {};
		
		if(typeof success === 'function'){
			window[callback]["success"] = function(data){
				success.apply(scope,[xd.parseData(data)]);
				garbageCollect();
			};
		}
		
		if(typeof failure === 'function'){
			window[callback]["failure"] = function(data){
				failure.apply(scope,[xd.parseData(data)]);
				garbageCollect();
			};
		}
		var fsrc = [
			sender, 
			'#receiver',kpDelim,receiver,
			valDelim,'type',kpDelim,type,
			valDelim,'cbFunc',kpDelim,callback,
			valDelim,'url',kpDelim,url,
			valDelim,'data',kpDelim,(data || '')
		].join('');
		frame.getFrame().src = fsrc;
	};
	
	xd.parseData = function(data){
		try{data = (typeof JSON !== 'undefined')? JSON.parse(data) : window.eval('('+data+')');}catch(e){};
		return data;
	};
	
	xd.createIframe = function(){
		return new xdFrame();
	};
	
	var xdFrame = function(){
		var e = document.createElement('div');
		this.frameId = 'xd_frame_'+(new Date).getTime()+Math.floor(Math.random()*1001);
		e.innerHTML =  '<iframe id="'+this.frameId+'" style="display:none;"></iframe>';
		document.body.appendChild(e.firstChild);
		this.frameEl = document.getElementById(this.frameId);
		return this;
	};
	
	xdFrame.prototype = {
		getFrame : function(){
			return this.frameEl;
		},
		kill : function(){
			this.frameEl.parentNode.removeChild(document.getElementById(this.frameId));
		}
	};
	
})(window.xd||{});

// everything below here is optional
if(window.jQuery && window.xd){
jQuery.ajax = (function(_ajax,_xdajax){
	
	var isExternal = function(){
		var protocol = location.protocol,
				hostname = location.hostname,
				exRegex = RegExp('^'+protocol + '//' + hostname);

		var _isExternal = function(url) {
			return !exRegex.test(url) && /^https?:\/\//.test(url);
		};

		return _isExternal;
	}();

	return function(opts){
		if(/callback=\?/.test(opts.url)){
			opts.dataType = 'json';
		}
		if(!opts.type) {opts.type = 'GET';}
		if((!/get/i.test(opts.type) || !/json|script/i.test(opts.dataType)) && isExternal(opts.url)){
			return _xdajax.apply(this,arguments);
		}
		return _ajax.apply(this,arguments);
	};
})(jQuery.ajax,xd.ajax);
}

(function(){
	// initializer will take data between open/close script tags and initialize
	// js client with it.
	var xd_script = document.getElementsByTagName('script');
	xd_script = xd_script[xd_script.length-1];
	// src.match required to protect against deferred or dom injected script loads
	if(xd_script.innerHTML.length && xd_script.src.match(/xd\.ajax\.js/)){
		var text = xd_script.innerHTML;
		try{xd_data = JSON.parse(text);}catch(e){xd_data = window["eval"]("("+text+")");};
		xd.configure(xd_data);
	}
})();

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 27 Jan 2011 21:24:49 GMT
ETag: "66cb-4d41e2a1"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 26315
---Content---
// ------- Plugins ---------

/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Version 2.1.3-pre
*/

(function($){
$.fn.bgiframe = ($.browser.msie && /msie 6\.0/i.test(navigator.userAgent) ? function(s) {
    s = $.extend({
        top : 'auto', // auto == .currentStyle.borderTopWidth
        left : 'auto', // auto == .currentStyle.borderLeftWidth
        width : 'auto', // auto == offsetWidth
        height : 'auto', // auto == offsetHeight
        opacity : true,
        src : 'javascript:false;'
    }, s);
    var html = '<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"'+
                   'style="display:block;position:absolute;z-index:-1;'+
                       (s.opacity !== false?'filter:Alpha(Opacity=\'0\');':'')+
                       'top:'+(s.top=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+\'px\')':prop(s.top))+';'+
                       'left:'+(s.left=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+\'px\')':prop(s.left))+';'+
                       'width:'+(s.width=='auto'?'expression(this.parentNode.offsetWidth+\'px\')':prop(s.width))+';'+
                       'height:'+(s.height=='auto'?'expression(this.parentNode.offsetHeight+\'px\')':prop(s.height))+';'+
                '"/>';
    return this.each(function() {
        if ( $(this).children('iframe.bgiframe').length === 0 )
            this.insertBefore( document.createElement(html), this.firstChild );
    });
} : function() { return this; });
// old alias
$.fn.bgIframe = $.fn.bgiframe;
function prop(n) {
    return n && n.constructor === Number ? n + 'px' : n;
}
})(jQuery);

/*
 * jQuery Tools 1.2.5 - The missing UI library for the Web
 * 
 * [overlay, dateinput, toolbox.expose]
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 * File generated: Tue Oct 12 18:36:21 GMT 2010
 */
(function(a){function t(d,b){var c=this,j=d.add(c),o=a(window),k,f,m,g=a.tools.expose&&(b.mask||b.expose),n=Math.random().toString().slice(10);if(g){if(typeof g=="string")g={color:g};g.closeOnClick=g.closeOnEsc=false}var p=b.target||d.attr("rel");f=p?a(p):d;if(!f.length)throw"Could not find Overlay: "+p;d&&d.index(f)==-1&&d.click(function(e){c.load(e);return e.preventDefault()});a.extend(c,{load:function(e){if(c.isOpened())return c;var h=q[b.effect];if(!h)throw'Overlay: cannot find effect : "'+b.effect+
'"';b.oneInstance&&a.each(s,function(){this.close(e)});e=e||a.Event();e.type="onBeforeLoad";j.trigger(e);if(e.isDefaultPrevented())return c;m=true;jq_tools_overlay_open=true;g&&a(f).expose(g);var i=b.top,r=b.left,u=f.outerWidth({margin:true}),v=f.outerHeight({margin:true});if(typeof i=="string")i=i=="center"?Math.max((o.height()-v)/2,0):parseInt(i,10)/100*o.height();if(r=="center")r=Math.max((o.width()-u)/2,0);h[0].call(c,{top:i,left:r},function(){if(m){e.type="onLoad";j.trigger(e)}});g&&b.closeOnClick&&a.mask.getMask().one("click",
c.close);b.closeOnClick&&a(document).bind("click."+n,function(l){a(l.target).parents(f).length||c.close(l)});b.closeOnEsc&&a(document).bind("keydown."+n,function(l){l.keyCode==27&&c.close(l)});return c},close:function(e){if(!c.isOpened())return c;e=e||a.Event();e.type="onBeforeClose";j.trigger(e);if(!e.isDefaultPrevented()){m=false;jq_tools_overlay_open=false;q[b.effect][1].call(c,function(){e.type="onClose";j.trigger(e)});a(document).unbind("click."+n).unbind("keydown."+n);g&&a.mask.close();return c}},getOverlay:function(){return f},
getTrigger:function(){return d},getClosers:function(){return k},isOpened:function(){return m},getConf:function(){return b}});a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,h){a.isFunction(b[h])&&a(c).bind(h,b[h]);c[h]=function(i){i&&a(c).bind(h,i);return c}});k=f.find(b.close||".close");if(!k.length&&!b.close){k=a('<a class="close"></a>');f.prepend(k)}k.click(function(e){c.close(e)});b.load&&c.load()}a.tools=a.tools||{version:"1.2.5"};a.tools.overlay={addEffect:function(d,
b,c){q[d]=[b,c]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var s=[],q={};a.tools.overlay.addEffect("default",function(d,b){var c=this.getConf(),j=a(window);if(!c.fixed){d.top+=j.scrollTop();d.left+=j.scrollLeft()}d.position=c.fixed?"fixed":"absolute";this.getOverlay().css(d).fadeIn(c.speed,b)},function(d){this.getOverlay().fadeOut(this.getConf().closeSpeed,
d)});a.fn.overlay=function(d){var b=this.data("overlay");if(b)return b;if(a.isFunction(d))d={onBeforeLoad:d};d=a.extend(true,{},a.tools.overlay.conf,d);this.each(function(){b=new t(a(this),d);s.push(b);a(this).data("overlay",b)});return d.api?b:this}})(jQuery);
(function(d){function R(a,c){return 32-(new Date(a,c,32)).getDate()}function S(a,c){a=""+a;for(c=c||2;a.length<c;)a="0"+a;return a}function T(a,c,j){var q=a.getDate(),h=a.getDay(),r=a.getMonth();a=a.getFullYear();var f={d:q,dd:S(q),ddd:B[j].shortDays[h],dddd:B[j].days[h],m:r+1,mm:S(r+1),mmm:B[j].shortMonths[r],mmmm:B[j].months[r],yy:String(a).slice(2),yyyy:a};c=c.replace(X,function(s){return s in f?f[s]:s.slice(1,s.length-1)});return Y.html(c).html()}function v(a){return parseInt(a,10)}function U(a,
c){return a.getFullYear()===c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()}function C(a){if(a){if(a.constructor==Date)return a;if(typeof a=="string"){var c=a.split("-");if(c.length==3)return new Date(v(c[0]),v(c[1])-1,v(c[2]));if(!/^-?\d+$/.test(a))return;a=v(a)}c=new Date;c.setDate(c.getDate()+a);return c}}function Z(a,c){function j(b,e,g){n=b;D=b.getFullYear();E=b.getMonth();G=b.getDate();g=g||d.Event("api");g.type="change";H.trigger(g,[b]);if(!g.isDefaultPrevented()){a.val(T(b,
e.format,e.lang));a.data("date",b);h.hide(g)}}function q(b){b.type="onShow";H.trigger(b);d(document).bind("keydown.d",function(e){if(e.ctrlKey)return true;var g=e.keyCode;if(g==8){a.val("");return h.hide(e)}if(g==27)return h.hide(e);if(d(V).index(g)>=0){if(!w){h.show(e);return e.preventDefault()}var i=d("#"+f.weeks+" a"),t=d("."+f.focus),o=i.index(t);t.removeClass(f.focus);if(g==74||g==40)o+=7;else if(g==75||g==38)o-=7;else if(g==76||g==39)o+=1;else if(g==72||g==37)o-=1;if(o>41){h.addMonth();t=d("#"+
f.weeks+" a:eq("+(o-42)+")")}else if(o<0){h.addMonth(-1);t=d("#"+f.weeks+" a:eq("+(o+42)+")")}else t=i.eq(o);t.addClass(f.focus);return e.preventDefault()}if(g==34)return h.addMonth();if(g==33)return h.addMonth(-1);if(g==36)return h.today();if(g==13)d(e.target).is("select")||d("."+f.focus).click();return d([16,17,18,9]).index(g)>=0});d(document).bind("click.d",function(e){var g=e.target;if(!d(g).parents("#"+f.root).length&&g!=a[0]&&(!L||g!=L[0]))h.hide(e)})}var h=this,r=new Date,f=c.css,s=B[c.lang],
k=d("#"+f.root),M=k.find("#"+f.title),L,I,J,D,E,G,n=a.attr("data-value")||c.value||a.val(),m=a.attr("min")||c.min,p=a.attr("max")||c.max,w;if(m===0)m="0";n=C(n)||r;m=C(m||c.yearRange[0]*365);p=C(p||c.yearRange[1]*365);if(!s)throw"Dateinput: invalid language: "+c.lang;if(a.attr("type")=="date"){var N=d("<input/>");d.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(b,e){N.attr(e,a.attr(e))});a.replaceWith(N);a=N}a.addClass(f.input);var H=
a.add(h);if(!k.length){k=d("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",f.root);k.children().eq(0).attr("id",f.head).end().eq(1).attr("id",f.body).children().eq(0).attr("id",f.days).end().eq(1).attr("id",f.weeks).end().end().end().find("a").eq(0).attr("id",f.prev).end().eq(1).attr("id",f.next);M=k.find("#"+f.head).find("div").attr("id",f.title);if(c.selectors){var z=d("<select/>").attr("id",f.month),A=d("<select/>").attr("id",f.year);M.html(z.add(A))}for(var $=
k.find("#"+f.days),O=0;O<7;O++)$.append(d("<span/>").text(s.shortDays[(O+c.firstDay)%7]));d("body").append(k)}if(c.trigger)L=d("<a/>").attr("href","#").addClass(f.trigger).click(function(b){h.show();return b.preventDefault()}).insertAfter(a);var K=k.find("#"+f.weeks);A=k.find("#"+f.year);z=k.find("#"+f.month);d.extend(h,{show:function(b){if(!(a.attr("readonly")||a.attr("disabled")||w)){b=b||d.Event();b.type="onBeforeShow";H.trigger(b);if(!b.isDefaultPrevented()){d.each(W,function(){this.hide()});
w=true;z.unbind("change").change(function(){h.setValue(A.val(),d(this).val())});A.unbind("change").change(function(){h.setValue(d(this).val(),z.val())});I=k.find("#"+f.prev).unbind("click").click(function(){I.hasClass(f.disabled)||h.addMonth(-1);return false});J=k.find("#"+f.next).unbind("click").click(function(){J.hasClass(f.disabled)||h.addMonth();return false});h.setValue(n);var e=a.offset();if(/iPad/i.test(navigator.userAgent))e.top-=d(window).scrollTop();k.css({top:e.top+a.outerHeight({margins:true})+
c.offset[0],left:e.left+c.offset[1]});if(c.speed)k.show(c.speed,function(){q(b)});else{k.show();q(b)}return h}}},setValue:function(b,e,g){var i=v(e)>=-1?new Date(v(b),v(e),v(g||1)):b||n;if(i<m)i=m;else if(i>p)i=p;b=i.getFullYear();e=i.getMonth();g=i.getDate();if(e==-1){e=11;b--}else if(e==12){e=0;b++}if(!w){j(i,c);return h}E=e;D=b;g=new Date(b,e,1-c.firstDay);g=g.getDay();var t=R(b,e),o=R(b,e-1),P;if(c.selectors){z.empty();d.each(s.months,function(x,F){m<new Date(b,x+1,-1)&&p>new Date(b,x,0)&&z.append(d("<option/>").html(F).attr("value",
x))});A.empty();i=r.getFullYear();for(var l=i+c.yearRange[0];l<i+c.yearRange[1];l++)m<=new Date(l+1,-1,1)&&p>new Date(l,0,0)&&A.append(d("<option/>").text(l));z.val(e);A.val(b)}else M.html(s.months[e]+" "+b);K.empty();I.add(J).removeClass(f.disabled);l=!g?-7:0;for(var u,y;l<(!g?35:42);l++){u=d("<a/>");if(l%7===0){P=d("<div/>").addClass(f.week);K.append(P)}if(l<g){u.addClass(f.off);y=o-g+l+1;i=new Date(b,e-1,y)}else if(l>=g+t){u.addClass(f.off);y=l-t-g+1;i=new Date(b,e+1,y)}else{y=l-g+1;i=new Date(b,
e,y);if(U(n,i))u.attr("id",f.current).addClass(f.focus);else U(r,i)&&u.attr("id",f.today)}m&&i<m&&u.add(I).addClass(f.disabled);p&&i>p&&u.add(J).addClass(f.disabled);jQuery('a#calnext').removeClass();u.attr("href","#"+y).text(y).data("date",i);P.append(u)}K.find("a").click(function(x){var F=d(this);if(!F.hasClass(f.disabled)){d("#"+f.current).removeAttr("id");F.attr("id",f.current);j(F.data("date"),c,x)}return false});f.sunday&&K.find(f.week).each(function(){var x=c.firstDay?7-c.firstDay:0;d(this).children().slice(x,x+1).addClass(f.sunday)});
return h},setMin:function(b,e){m=C(b);e&&n<m&&h.setValue(m);return h},setMax:function(b,e){p=C(b);e&&n>p&&h.setValue(p);return h},today:function(){return h.setValue(r)},addDay:function(b){return this.setValue(D,E,G+(b||1))},addMonth:function(b){return this.setValue(D,E+(b||1),G)},addYear:function(b){return this.setValue(D+(b||1),E,G)},hide:function(b){if(w){b=d.Event();b.type="onHide";H.trigger(b);d(document).unbind("click.d").unbind("keydown.d");if(b.isDefaultPrevented())return;k.hide();w=false}return h},
getConf:function(){return c},getInput:function(){return a},getCalendar:function(){return k},getValue:function(b){return b?T(n,b,c.lang):n},isOpen:function(){return w}});d.each(["onBeforeShow","onShow","change","onHide"],function(b,e){d.isFunction(c[e])&&d(h).bind(e,c[e]);h[e]=function(g){g&&d(h).bind(e,g);return h}});a.bind("focus click",h.show).keydown(function(b){var e=b.keyCode;if(!w&&d(V).index(e)>=0){h.show(b);return b.preventDefault()}return b.shiftKey||b.ctrlKey||b.altKey||e==9?true:b.preventDefault()});
C(a.val())&&j(n,c)}d.tools=d.tools||{version:"1.2.5"};var W=[],Q,V=[75,76,38,39,74,72,40,37],B={};Q=d.tools.dateinput={conf:{format:"mm/dd/yy",selectors:false,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:undefined,max:undefined,trigger:false,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},localize:function(a,c){d.each(c,function(j,q){c[j]=q.split(",")});
B[a]=c}};Q.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var X=/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,Y=d("<a/>");d.expr[":"].date=function(a){var c=a.getAttribute("type");return c&&c=="date"||!!d(a).data("dateinput")};d.fn.dateinput=function(a){if(this.data("dateinput"))return this;
a=d.extend(true,{},Q.conf,a);d.each(a.css,function(j,q){if(!q&&j!="prefix")a.css[j]=(a.css.prefix||"")+(q||j)});var c;this.each(function(){var j=new Z(d(this),a);W.push(j);j=j.getInput().data("dateinput",j);c=c?c.add(j):j});return c?c:this}})(jQuery);
(function(b){function k(){if(b.browser.msie){var a=b(document).height(),d=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-d<20?d:a]}return[b(document).width(),b(document).height()]}function h(a){if(a)return a.call(b.mask)}b.tools=b.tools||{version:"1.2.5"};var l;l=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var c,i,e,g,j;b.mask={load:function(a,d){if(e)return this;if(typeof a=="string")a={color:a};a=a||g;g=a=b.extend(b.extend({},l.conf),a);c=b("#"+a.maskId);if(!c.length){c=b("<div/>").attr("id",a.maskId);b("body").append(c)}var m=k();c.css({position:"absolute",top:0,left:0,width:m[0],height:m[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex});a.color&&c.css("backgroundColor",a.color);if(h(a.onBeforeLoad)===false)return this;a.closeOnEsc&&b(document).bind("keydown.mask",function(f){f.keyCode==
27&&b.mask.close(f)});a.closeOnClick&&c.bind("click.mask",function(f){b.mask.close(f)});b(window).bind("resize.mask",function(){b.mask.fit()});if(d&&d.length){j=d.eq(0).css("zIndex");b.each(d,function(){var f=b(this);/relative|absolute|fixed/i.test(f.css("position"))||f.css("position","relative")});i=d.css({zIndex:Math.max(a.zIndex+1,j=="auto"?0:j)})}c.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){b.mask.fit();h(a.onLoad);e="full"});e=true;return this},close:function(){if(e){if(h(g.onBeforeClose)===
false)return this;c.fadeOut(g.closeSpeed,function(){h(g.onClose);i&&i.css({zIndex:j});e=false});b(document).unbind("keydown.mask");c.unbind("click.mask");b(window).unbind("resize.mask")}return this},fit:function(){if(e){var a=k();c.css({width:a[0],height:a[1]})}},getMask:function(){return c},isLoaded:function(a){return a?e=="full":e},getConf:function(){return g},getExposed:function(){return i}};b.fn.mask=function(a){b.mask.load(a);return this};b.fn.expose=function(a){b.mask.load(a,this);return this}})(jQuery);


//Calendar Initializer/system date generator


var advSearchCal = function($){
    var calArray = new Array(),
    initCal = function(obj, handle, leftOffset){
		if(!leftOffset || leftOffset == null){
		    leftOffset = 0;
		}
		var today=advSearch.dateFmtCal(new Date());
		if(!handle || handle == null){
			$(obj).dateinput({
	        	format: 'mm/dd/yyyy',
	        	min: '1985-01-01',
				max: today,
				offset: [0, leftOffset]
	        });
		}else{
			calArray[handle] = jQuery(obj).dateinput({
	        	format: 'mm/dd/yyyy',
	        	min: '1985-01-01',
				max: today,
				offset: [0, leftOffset]
	        });
		}
    };
    return{
        initCal: initCal,
        calArray: calArray
    }
}(jQuery);

// ------- ADV Search Code ---------

//Jquery tools overlay open/close flag mod
var jq_tools_overlay_open,
    adv_search_modal_link;
//jQuery onReady Function
jQuery(function(){
    advSearch.init();
});
// ADS Object
var advSearch = function($){
    //Private properties/methods
    var search,
        search_input,
        search_pos,
      	search_overlay,
        search_overlay_input,
        adv_search,
        adv_search_input,
        relocated = false,
        radioParentLis,
    //Initialize functionality
    init = function(){
        search = $('#basicsearch');
        search_input = search.find('#searchText');
        search_overlay = search.next();
        adv_search = search_overlay.next();
        
        search_overlay_input = search_overlay.find('input[type=text]').eq(0);
        //default search input events
        search_input.focus(search_focus).click(search_focus);
        //default search submit events
        search.find('input[type=submit]').click(search_focus);
        
        search_pos = search.offset();
        search_overlay.find('#adv_search_open').click(openAdvSearch);
        adv_search.find('input[type=radio]').click(ads_radio_click);
        
        //adjust search pos on resize
        $(window).resize(function() {
          search_pos = search.offset();
        });
        
        //reset search_overlay/adv_search forms
        search_overlay.add(adv_search).find('input[type=text]').val('');
        var date_range_pre =  adv_search.find('#date_range_predefined');
        date_range_pre.find('option').eq(1).attr('selected', 'selected');
        date_range_pre.removeClass('disabled').attr('disabled', '');
        
        adv_search.find('#top_date_range_pre').attr('checked', 'checked');
        
        //initalize calendars
        advSetDateRange('top');
        advSearchCal.initCal('#date_range_custom_from');
        advSearchCal.initCal('#date_range_custom_to', null, -108);
        
        //Store radios parents to reduce lookup on event attachment to come
        radioParentLis = adv_search.find('ul').find('li.fixed_date, li.custom_date');
        
        //Append ADV Search layer
        $('body').append(search_overlay).append(adv_search);
        //Append BG Iframe to widgets for IE z-indexing issues
        search_overlay.add(adv_search).bgiframe();
        //Close layers on any clicks on the page
        $(document).click(function(e){
            if(!$(e.target).parents('#basicsearch,#search_overlay,#adv_search,#calroot').length){
                if($(e.target).attr('rel') != '#adv_search'){
                    $('#search_overlay,#adv_search,#cal_root').hide();
                    search.css('visibility', 'visible');
                }
            }
        });
        //Provide focus to ADS main input
        search_overlay_input.focus();
        
        //Widget close button
        adv_search.find('#adv_search_close').click(close_adv_search);
        
        //Date range toggle
        $('#top_date_range_pre').click(function(){
            $('#top_date_range_cust_div').hide("fast");
            $('#top_date_range_pre_div').show("fast");
        });
        $('#top_date_range_cust').click(function(){
            $('#top_date_range_pre_div').hide("fast");
            $('#top_date_range_cust_div').show("fast");
        });
    },
    //On focus of default search input, hide default search and display ADS
    search_focus = function(){
    	if(typeof $._spiderModalOpen === 'undefined')
    		$._spiderModalOpen = false;
    	else if($._spiderModalOpen)
    		return false;
    	
        if(search_input.val() == "Search" || search_input.val() == "" ){
            var field = $(this);
            search.css('visibility', 'hidden');
            if(search_overlay.next().length){
            	//Inject the ADS bar at the end of the DOM to ensure it 
            	//appears above any 3rd party ads injected above it.
            	$('body').append(search_overlay); 
            }
            //Show ADS, the trans layer and focus on input
            search_overlay.css({top: search_pos.top, left: search_pos.left-290}).show();
            search_overlay_input.focus();
            
            return false;
        }
        
        return true;
    },
    //Open ADV Search widget and close search overlay
    openAdvSearch = function(){
       	search_overlay.hide();
       	adv_search.css({top: search_pos.top, left: search_pos.left-290, position: 'absolute'}).show();
        return false;
    },
    //Toggle disabled states of date selection methods
    ads_radio_click = function(){
        var radio = $(this);
        radioParentLis.find('input[type=text], select').addClass('disabled').attr('disabled', 'disabled');
        radio.parent().parent().find('input[type=text], select').removeClass('disabled').removeAttr('disabled');
    },
    //Close ADS search module and restore default search form
    close_adv_search = function(){
        if(jq_tools_overlay_open){
          adv_search_modal_link.overlay().close();
        }
        adv_search.add('#calroot').hide();
        search.css('visibility', 'visible');
        return false;
    },
    checkAdvForm = function(){
		function trim(s) {
			s = s.replace(/(^\s*)|(\s*$)/gi,"");
			s = s.replace(/[ ]{2,}/gi," ");
			s = s.replace(/\n /,"\n");
			return s;
		}
        var adv_search_action="",
            adv_terms="",
            adv_terms_all=trim($("#include_all").attr("value")),
            adv_terms_any=trim($("#include_any").attr("value")),
            adv_terms_exact=trim($("#include_exact").attr("value")),
            adv_terms_not=trim($("#exclude").attr("value"));
        //string together
        if (adv_terms_not!="") {
            adv_terms_not_array=adv_terms_not.split(" ");
            var adv_not_str="";
            for (var i=0;i<adv_terms_not_array.length;i++){
                adv_not_str+="not "+adv_terms_not_array[i]+" ";
            }
            adv_terms+=adv_not_str;
        }
        if (adv_terms_exact!="")
            adv_terms+='"'+adv_terms_exact+'" ';
        if (adv_terms_all!="")
            adv_terms+=adv_terms_all;
        if (adv_terms_any!="") {
            adv_terms_any_array=adv_terms_any.split(" ");
            var adv_terms_any_str="";
            for (var i=0;i<adv_terms_any_array.length;i++){
                if (adv_terms==""){
                    adv_terms_any_str+=adv_terms_any_array[i];
                }else{
                    adv_terms_any_str+=adv_terms_any_array[i]+" "+adv_terms;
                }
                if (i<adv_terms_any_array.length-1)
                    adv_terms_any_str+=" or ";
            }
            //done with the ors, now replace the main string
            adv_terms=adv_terms_any_str;
        }
        //date range
        var adv_date,    
            dateMode = $('#adv_search').find('input:radio[name=range]:checked').val();
        if (dateMode=="pre"){
            adv_date = $('#adv_search').find('#date_range_predefined').val();
        }else{
    		//make assumptions for blanks & correct date order
    		//similar routine in adv_results.js
    
            function convert(date){
                dd=date.substring(3,5);
                mm=date.substring(0,2);
                yyyy=date.substring(6);
                var newFormat=yyyy+mm+dd;
                return parseInt(newFormat);
            }
    
    		var from = $('#date_range_custom_from').attr("value"),
            to = $('#date_range_custom_to').attr("value");
            
    		//if a field is blank, make an assumption
    		if (to==""){
    			to=dateFmt(new Date());
    			$('#date_range_custom_to').attr("value",to);
    		}
    		if (from==""){
    			from="01/01/1985";
    			$('#date_range_custom_from').attr("value",from);
    		}
    		
    		var fromConv=convert(from),
            toConv=convert(to);
    		
    		if (fromConv>toConv){
    			adv_date=to+"-"+from;		
            }else if (fromConv<=toConv){
                adv_date=from+"-"+to;
            }		
        }
        
        $("#date").attr("value",adv_date);
        $("#Query").attr("value",adv_terms);
        
        var query_val = $("#Query").attr("value");
        
        var srchVal=trim(query_val);
        if(srchVal == "" || srchVal == "Search") {
        	alert("Please Enter a Search Term");
        	if(window.event)
        	    window.event.returnValue=false
        	return false;
        }
        
    },
    dateFmt = function(myDate){
        var tmpDate = new Date(myDate);
        todayMonth=tmpDate.getMonth()+1;
        todayMonth=(todayMonth<10)?'0'+todayMonth:todayMonth;
        todayDate=tmpDate.getDate();
        todayDate=(todayDate<10)?'0'+todayDate:todayDate;
        return todayMonth + '/' + todayDate + '/' + tmpDate.getFullYear();
    },
    dateFmtCal = function(date){
        dd=date.getDate();
        mm=date.getMonth()+1;
        yyyy=date.getFullYear();
        var newFormat=yyyy+"-"+mm+"-"+dd;
        return newFormat;
    },
    advSetDateRange = function(id){
        //populate those date range menus
        var todayPre=new Date(),
    		todayPost=dateFmt(todayPre),
    		today7=new Date(),
    		today30=new Date(),
    		today3=new Date(),
    		today365=new Date(),
    		since85=new Date(),
    		minus7=dateFmt(today7.setDate(today7.getDate()-7))+'-'+todayPost,
            minus30=dateFmt(today30.setDate(today30.getDate()-30))+'-'+todayPost,
            minus3mo=dateFmt(today3.setMonth(today3.getMonth()-3))+'-'+todayPost,
            minus365=dateFmt(today365.setDate(today365.getDate()-365))+'-'+todayPost,
            //since85str=dateFmt(since85.setFullYear(1985,0,1))+'-'+todayPost,
            topObj = $("#date_range_predefined option"),
            leftObj = $('#panel_date_range_predefined option');
        if (id=="top"){
            topObj.eq(0).attr('value',minus7);
            topObj.eq(1).attr('value',minus30);
            topObj.eq(2).attr('value',minus3mo);
            topObj.eq(3).attr('value',minus365);
            //topObj.eq(4).attr('value',since85str);
        } else if (id=="left"){
            leftObj.eq(0).attr('value',minus30);
            leftObj.eq(1).attr('value',minus7);
            leftObj.eq(2).attr('value',minus30);
            leftObj.eq(3).attr('value',minus3mo);
            leftObj.eq(4).attr('value',minus365);
            //leftObj.eq(5).attr('value',since85str);
        }
    };
    //Return public methods
    return{
        init:init,
        search_focus: search_focus,
        checkAdvForm: checkAdvForm,
        dateFmt: dateFmt,
        dateFmtCal: dateFmtCal,
        advSetDateRange: advSetDateRange
    }
}(jQuery);
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/articletools.js HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@57da5e75
---Content---
 "+a};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&k.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!j.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(a,b,c){var e,f=d++,g=u;typeof b=="string"&&!j.test(b)&&(b=b.toLowerCase(),e=b,g=t),g("parentNode",b,f,a,e,c)},"~":function(a,b,c){var e,f=d++,g=u;typeof b=="string"&&!j.test(b)&&(b=b.toLowerCase(),e=b,g=t),g("previousSibling",b,f,a,e,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a,b){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=d++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=k(b[3],null,null,c);else{var g=k.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(l.match.POS.test(b[0])||l.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case"nth":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[o].source.replace(/\\(\d+)/g,n));var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(e.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var f=a.length;c<f;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;c.documentElement.compareDocumentPosition?r=function(a,b){if(a===b){g=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(r=function(a,b){if(a===b){g=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=k.getText(c.childNodes));return b},function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(l.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(l.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=k,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){k=function(b,e,f,g){e=e||c;if(!g&&!k.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return p(e.getElementsByTagName(b),f);if(h[2]&&l.find.CLASS&&e.getElementsByClassName)return p(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return p([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return p([],f);if(i.id===h[3])return p([i],f)}try{return p(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var m=e,n=e.getAttribute("id"),o=n||d,q=e.parentNode,r=/^\s*[+~]/.test(b);n?o=o.replace(/'/g,"\\$&"):e.setAttribute("id",o),r&&q&&(e=e.parentNode);try{if(!r||q)return p(e.querySelectorAll("[id='"+o+"'] "+b),f)}catch(s){}finally{n||m.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)k[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}k.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(a))try{if(e||!l.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return k(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?k.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var v=function(a,b){var c,d=[],e="",f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;for(var g=0,h=f.length;g<h;g++)k(a,f[g],d);return k.filter(e,d)};f.find=k,f.expr=k.selectors,f.expr[":"]=f.expr.filters,f.unique=k.uniqueSort,f.text=k.getText,f.isXMLDoc=k.isXML,f.contains=k.contains}();var P=/Until$/,Q=/^(?:parents|prevUntil|prevAll)/,R=/,/,S=/^.[^:#\[\.,]*$/,T=Array.prototype.slice,U=f.expr.match.POS,V={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(X(this,a,!1),"not",a)},filter:function(a){return this.pushStack(X(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h,i,j={},k=1;if(g&&a.length){for(d=0,e=a.length;d<e;d++)i=a[d],j[i]||(j[i]=U.test(i)?f(i,b||this.context):i);while(g&&g.ownerDocument&&g!==b){for(i in j)h=j[i],(h.jquery?h.index(g)>-1:f(g).is(h))&&c.push({selector:i,elem:g,level:k});g=g.parentNode,k++}}return c}var l=U.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(l?l.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a||typeof a=="string")return f.inArray(this[0],a?f(a):this.parent().children());return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(W(c[0])||W(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c),g=T.call(arguments);P.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!V[a]?f.unique(e):e,(this.length>1||R.test(d))&&Q.test(a)&&(e=e.reverse());return this.pushStack(e,a,g.join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var Y=/ jQuery\d+="(?:\d+|null)"/g,Z=/^\s+/,$=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,_=/<([\w:]+)/,ba=/<tbody/i,bb=/<|&#?\w+;/,bc=/<(?:script|object|embed|option|style)/i,bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){f(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Y,""):null;if(typeof a=="string"&&!bc.test(a)&&(f.support.leadingWhitespace||!Z.test(a))&&!bg[(_.exec(a)||["",""])[1].toLowerCase()]){a=a.replace($,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bh(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bn)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i=b&&b[0]?b[0].ownerDocument||b[0]:c;a.length===1&&typeof a[0]=="string"&&a[0].length<512&&i===c&&a[0].charAt(0)==="<"&&!bc.test(a[0])&&(f.support.checkClone||!bd.test(a[0]))&&(g=!0,h=f.fragments[a[0]],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[a[0]]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,g,h;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bj(a,d),e=bk(a),g=bk(d);for(h=0;e[h];++h)bj(e[h],g[h])}if(b){bi(a,d);if(c){e=bk(a),g=bk(d);for(h=0;e[h];++h)bi(e[h],g[h])}}return d},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||
b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!bb.test(k))k=b.createTextNode(k);else{k=k.replace($,"<$1></$2>");var l=(_.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=ba.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&Z.test(k)&&o.insertBefore(b.createTextNode(Z.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bm(k[i]);else bm(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.expando,g=f.event.special,h=f.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&f.noData[j.nodeName.toLowerCase()])continue;c=j[f.expando];if(c){b=d[c]&&d[c][e];if(b&&b.events){for(var k in b.events)g[k]?f.event.remove(j,k):f.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}h?delete j[f.expando]:j.removeAttribute&&j.removeAttribute(f.expando),delete d[c]}}}});var bo=/alpha\([^)]*\)/i,bp=/opacity=([^)]*)/,bq=/-([a-z])/ig,br=/([A-Z]|^ms)/g,bs=/^-?\d+(?:px)?$/i,bt=/^-?\d/,bu=/^[+\-]=/,bv=/[^+\-\.\de]+/g,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB,bC=function(a,b){return b.toUpperCase()};f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0,widows:!0,orphans:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d;if(h==="number"&&isNaN(d)||d==null)return;h==="string"&&bu.test(d)&&(d=+d.replace(bv,"")+parseFloat(f.css(a,c))),h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(bq,bC)}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){a.offsetWidth!==0?e=bD(a,b,d):f.swap(a,bw,function(){e=bD(a,b,d)});if(e<=0){e=bz(a,b,b),e==="0px"&&bB&&(e=bB(a,b,b));if(e!=null)return e===""||e==="auto"?"0px":e}if(e<0||e==null){e=a.style[b];return e===""||e==="auto"?"0px":e}return typeof e=="string"?e:e+"px"}},set:function(a,b){if(!bs.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bp.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle;c.zoom=1;var e=f.isNaN(b)?"":"alpha(opacity="+b*100+")",g=d&&d.filter||c.filter||"";c.filter=bo.test(g)?g.replace(bo,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,c){var d,e,g;c=c.replace(br,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return b;if(g=e.getComputedStyle(a,null))d=g.getPropertyValue(c),d===""&&!f.contains(a.ownerDocument.documentElement,a)&&(d=f.style(a,c));return d}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;!bs.test(d)&&bt.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":d||0,d=f.pixelLeft+"px",f.left=c,e&&(a.runtimeStyle.left=e));return d===""?"auto":d}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bE=/%20/g,bF=/\[\]$/,bG=/\r?\n/g,bH=/#.*$/,bI=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bJ=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bK=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,bL=/^(?:GET|HEAD)$/,bM=/^\/\//,bN=/\?/,bO=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bP=/^(?:select|textarea)/i,bQ=/\s+/,bR=/([?&])_=[^&]*/,bS=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bT=f.fn.load,bU={},bV={},bW,bX;try{bW=e.href}catch(bY){bW=c.createElement("a"),bW.href="",bW=bW.href}bX=bS.exec(bW.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bT)return bT.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bO,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bP.test(this.nodeName)||bJ.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bG,"\r\n")}}):{name:b.name,value:c.replace(bG,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.bind(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?f.extend(!0,a,f.ajaxSettings,b):(b=a,a=f.extend(!0,f.ajaxSettings,b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in f.ajaxSettings&&(a[c]=f.ajaxSettings[c]);return a},ajaxSettings:{url:bW,isLocal:bK.test(bX[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML}},ajaxPrefilter:bZ(bU),ajaxTransport:bZ(bV),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a?4:0;var o,r,u,w=l?ca(d,v,l):b,x,y;if(a>=200&&a<300||a===304){if(d.ifModified){if(x=v.getResponseHeader("Last-Modified"))f.lastModified[k]=x;if(y=v.getResponseHeader("Etag"))f.etag[k]=y}if(a===304)c="notmodified",o=!0;else try{r=cb(d,w),c="success",o=!0}catch(z){c="parsererror",u=z}}else{u=c;if(!c||a)c="error",a<0&&(a=0)}v.status=a,v.statusText=c,o?h.resolveWith(e,[r,c,v]):h.rejectWith(e,[v,c,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.resolveWith(e,[v,c]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f._Deferred(),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bI.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.done,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bH,"").replace(bM,bX[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bQ),d.crossDomain==null&&(r=bS.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bX[1]&&r[2]==bX[2]&&(r[3]||(r[1]==="http:"?80:443))==(bX[3]||(bX[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bU,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bL.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bN.test(d.url)?"&":"?")+d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bR,"$1_="+x);d.url=y+(y===d.url?(bN.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", */*; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bV,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){status<2?w(-1,z):f.error(z)}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bE,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq,cr=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);for(var d=0,e=this.length;d<e;d++)if(this[d].style){var g=f.css(this[d],"display");g!=="none"&&!f._data(this[d],"olddisplay")&&f._data(this[d],"olddisplay",g)}for(d=0;d<e;d++)this[d].style&&(this[d].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return this[e.queue===!1?"each":"queue"](function(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(f.support.inlineBlockNeedsLayout?(j=cv(this.nodeName),j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)k=new f.fx(this,b,i),h=a[i],cm.test(h)?k[h==="toggle"?d?"show":"hide":h]():(l=cn.exec(h),m=k.cur(),l?(n=parseFloat(l[2]),o=l[3]||(f.cssNumber[i]?"":"px"),o!=="px"&&(f.style(this,i,(n||1)+o),m=(n||1)/k.cur()*m,f.style(this,i,m+o)),l[1]&&(n=(l[1]==="-="?-1:1)*n+m),k.custom(m,n,o)):k.custom(m,h,""));return!0})},stop:function(a,b){a&&this.queue([]),this.each(function(){var a=f.timers,c=a.length;b||f._unmark(!0,this);while(c--)a[c].elem===this&&(b&&a[c](!0),a.splice(c,1))}),b||this.dequeue();return this}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default,d.old=d.complete,d.complete=function(a){d.queue!==!1?f.dequeue(this):a!==!1&&f._unmark(this),f.isFunction(d.old)&&d.old.call(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,c){function h(a){return d.step(a)}var d=this,e=f.fx,g;this.startTime=cq||cs(),this.start=a,this.end=b,this.unit=c||this.unit||(f.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,h.elem=this.elem,h()&&f.timers.push(h)&&!co&&(cr?(co=1,g=function(){co&&(cr(g),e.tick())},cr(g)):co=setInterval(e.tick,e.interval))},show:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=cq||cs(),c=!0,d=this.elem,e=this.options,g,h;if(a||b>=e.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),e.animatedProperties[this.prop]=!0;for(g in e.animatedProperties)e.animatedProperties[g]!==!0&&(c=!1);if(c){e.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){d.style["overflow"+b]=e.overflow[a]}),e.hide&&f(d).hide();if(e.hide||e.show)for(var i in e.animatedProperties)f.style(d,i,e.orig[i]);e.complete.call(d)}return!1}e.duration==Infinity?this.now=b:(h=b-this.startTime,this.state=h/e.duration,this.pos=f.easing[e.animatedProperties[this.prop]](this.state,h,0,1,e.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){for(var a=f.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);f.offset.initialize();var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.offset.supportsFixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.offset.doesNotAddBorder&&(!f.offset.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.offset.supportsFixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={initialize:function(){var a=c.body,b=c.createElement("div"),d,e,g,h,i=parseFloat(f.css(a,"marginTop"))||0,j="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";f.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),b.innerHTML=j,a.insertBefore(b,a.firstChild),d=b.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,this.doesNotAddBorder=e.offsetTop!==5,this.doesAddBorderForTableAndCells=h.offsetTop===5,e.style.position="fixed",e.style.top="20px",this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==i,a.removeChild(b),f.offset.initialize=f.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.offset.initialize(),f.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){return this[0]?parseFloat(f.css(this[0],d,"padding")):null},f.fn["outer"+c]=function(a){return this[0]?parseFloat(f.css(this[0],d,a?"margin":"border")):null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c];return e.document.compatMode==="CSS1Compat"&&g||e.document.body["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var h=f.css(e,d),i=parseFloat(h);return f.isNaN(i)?h:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f})(window);
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/images/logoSmall.png HTTP/1.1
Accept: image/png, image/svg+xml, image/*;q=0.8, */*;q=0.5
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 20 Apr 2010 05:11:32 GMT
ETag: "442-4bcd3784"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 1090
---Content---
(function(xd){
window.xd = xd;
xd.core = function(){
	var _hashPairDelim = '|=|', _hashValDelim = '|&|',
	
	hashPairDelim = function(key){
		if(key!=undefined){
			_hashPairDelim = key;
		}
		return _hashPairDelim;
	},
	hashValDelim = function(key){
		if(key!=undefined){
			_hashValDelim = key;
		}
		return _hashValDelim;
	},
	getHash = function(){
		var pathname = document.URL;
		var hashIndex = pathname.indexOf('#');
		if(hashIndex > 0) {
			return pathname.substring(hashIndex + 1);
		}
		return false;
	},
	getHashVar = function(){
		var vars,
		getVar  = function(key){
			if(!key){return getVars();}
			return getVars()[key];
		},
		getVars = function(){
			if(vars){return vars;}
			vars = {};
			var hashes;
			if(!!(hashes = getHash())) {
				var hash;
				hashes = hashes.split(hashValDelim());
				for(var i=hashes.length;i--;){
					hash = hashes[i].split(hashPairDelim());
					vars[hash[0]] = hash[1];
				}	
			}	
			return vars;
		};
		return getVar;
	}();
	return {
		getHashVar:getHashVar,hashPairDelim:hashPairDelim,hashValDelim:hashValDelim
	}
}();
})(window.xd||{})
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 20 Mar 2012 02:22:53 GMT
ETag: "22bf5-4f67e9fd"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Length: 34665
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/hive/javascripts/signon/ssor.js?v=2012s1 HTTP/1.1
Accept: application/javascript, */*;q=0.8
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.HttpChunk$1@194266e5
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: true)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 20 Mar 2012 02:22:50 GMT
ETag: "3b314-4f67e9fa"
Accept-Ranges: bytes
Vary: Accept-Encoding
Content-Length: 52267
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@7f55c37d
---Content---
.dataFilter){I=G.dataFilter(I,H)}if(typeof I==="string"){if(H=="script"){o.globalEval(I)}if(H=="json"){I=l["eval"]("("+I+")")}}return I},param:function(E){var G=[];function H(I,J){G[G.length]=encodeURIComponent(I)+"="+encodeURIComponent(J)}if(o.isArray(E)||E.jquery){o.each(E,function(){H(this.name,this.value)})}else{for(var F in E){if(o.isArray(E[F])){o.each(E[F],function(){H(F,this)})}else{H(F,o.isFunction(E[F])?E[F]():E[F])}}}return G.join("&").replace(/%20/g,"+")}});var m={},n,d=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function t(F,E){var G={};o.each(d.concat.apply([],d.slice(0,E)),function(){G[this]=F});return G}o.fn.extend({show:function(J,L){if(J){return this.animate(t("show",3),J,L)}else{for(var H=0,F=this.length;H<F;H++){var E=o.data(this[H],"olddisplay");this[H].style.display=E||"";if(o.css(this[H],"display")==="none"){var G=this[H].tagName,K;if(m[G]){K=m[G]}else{var I=o("<"+G+" />").appendTo("body");K=I.css("display");if(K==="none"){K="block"}I.remove();m[G]=K}o.data(this[H],"olddisplay",K)}}for(var H=0,F=this.length;H<F;H++){this[H].style.display=o.data(this[H],"olddisplay")||""}return this}},hide:function(H,I){if(H){return this.animate(t("hide",3),H,I)}else{for(var G=0,F=this.length;G<F;G++){var E=o.data(this[G],"olddisplay");if(!E&&E!=="none"){o.data(this[G],"olddisplay",o.css(this[G],"display"))}}for(var G=0,F=this.length;G<F;G++){this[G].style.display="none"}return this}},_toggle:o.fn.toggle,toggle:function(G,F){var E=typeof G==="boolean";return o.isFunction(G)&&o.isFunction(F)?this._toggle.apply(this,arguments):G==null||E?this.each(function(){var H=E?G:o(this).is(":hidden");o(this)[H?"show":"hide"]()}):this.animate(t("toggle",3),G,F)},fadeTo:function(E,G,F){return this.animate({opacity:G},E,F)},animate:function(I,F,H,G){var E=o.speed(F,H,G);return this[E.queue===false?"each":"queue"](function(){var K=o.extend({},E),M,L=this.nodeType==1&&o(this).is(":hidden"),J=this;for(M in I){if(I[M]=="hide"&&L||I[M]=="show"&&!L){return K.complete.call(this)}if((M=="height"||M=="width")&&this.style){K.display=o.css(this,"display");K.overflow=this.style.overflow}}if(K.overflow!=null){this.style.overflow="hidden"}K.curAnim=o.extend({},I);o.each(I,function(O,S){var R=new o.fx(J,K,O);if(/toggle|show|hide/.test(S)){R[S=="toggle"?L?"show":"hide":S](I)}else{var Q=S.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),T=R.cur(true)||0;if(Q){var N=parseFloat(Q[2]),P=Q[3]||"px";if(P!="px"){J.style[O]=(N||1)+P;T=((N||1)/R.cur(true))*T;J.style[O]=T+P}if(Q[1]){N=((Q[1]=="-="?-1:1)*N)+T}R.custom(T,N,P)}else{R.custom(T,S,"")}}});return true})},stop:function(F,E){var G=o.timers;if(F){this.queue([])}this.each(function(){for(var H=G.length-1;H>=0;H--){if(G[H].elem==this){if(E){G[H](true)}G.splice(H,1)}}});if(!E){this.dequeue()}return this}});o.each({slideDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(E,F){o.fn[E]=function(G,H){return this.animate(F,G,H)}});o.extend({speed:function(G,H,F){var E=typeof G==="object"?G:{complete:F||!F&&H||o.isFunction(G)&&G,duration:G,easing:F&&H||H&&!o.isFunction(H)&&H};E.duration=o.fx.off?0:typeof E.duration==="number"?E.duration:o.fx.speeds[E.duration]||o.fx.speeds._default;E.old=E.complete;E.complete=function(){if(E.queue!==false){o(this).dequeue()}if(o.isFunction(E.old)){E.old.call(this)}};return E},easing:{linear:function(G,H,E,F){return E+F*G},swing:function(G,H,E,F){return((-Math.cos(G*Math.PI)/2)+0.5)*F+E}},timers:[],fx:function(F,E,G){this.options=E;this.elem=F;this.prop=G;if(!E.orig){E.orig={}}}});o.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(o.fx.step[this.prop]||o.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(F){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var E=parseFloat(o.css(this.elem,this.prop,F));return E&&E>-10000?E:parseFloat(o.curCSS(this.elem,this.prop))||0},custom:function(I,H,G){this.startTime=e();this.start=I;this.end=H;this.unit=G||this.unit||"px";this.now=this.start;this.pos=this.state=0;var E=this;function F(J){return E.step(J)}F.elem=this.elem;if(F()&&o.timers.push(F)&&!n){n=setInterval(function(){var K=o.timers;for(var J=0;J<K.length;J++){if(!K[J]()){K.splice(J--,1)}}if(!K.length){clearInterval(n);n=g}},13)}},show:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());o(this.elem).show()},hide:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(H){var G=e();if(H||G>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var E=true;for(var F in this.options.curAnim){if(this.options.curAnim[F]!==true){E=false}}if(E){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(o.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){o(this.elem).hide()}if(this.options.hide||this.options.show){for(var I in this.options.curAnim){o.attr(this.elem.style,I,this.options.orig[I])}}this.options.complete.call(this.elem)}return false}else{var J=G-this.startTime;this.state=J/this.options.duration;this.pos=o.easing[this.options.easing||(o.easing.swing?"swing":"linear")](this.state,J,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};o.extend(o.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(E){o.attr(E.elem.style,"opacity",E.now)},_default:function(E){if(E.elem.style&&E.elem.style[E.prop]!=null){E.elem.style[E.prop]=E.now+E.unit}else{E.elem[E.prop]=E.now}}}});if(document.documentElement.getBoundingClientRect){o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}var G=this[0].getBoundingClientRect(),J=this[0].ownerDocument,F=J.body,E=J.documentElement,L=E.clientTop||F.clientTop||0,K=E.clientLeft||F.clientLeft||0,I=G.top+(self.pageYOffset||o.boxModel&&E.scrollTop||F.scrollTop)-L,H=G.left+(self.pageXOffset||o.boxModel&&E.scrollLeft||F.scrollLeft)-K;return{top:I,left:H}}}else{o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}o.offset.initialized||o.offset.initialize();var J=this[0],G=J.offsetParent,F=J,O=J.ownerDocument,M,H=O.documentElement,K=O.body,L=O.defaultView,E=L.getComputedStyle(J,null),N=J.offsetTop,I=J.offsetLeft;while((J=J.parentNode)&&J!==K&&J!==H){M=L.getComputedStyle(J,null);N-=J.scrollTop,I-=J.scrollLeft;if(J===G){N+=J.offsetTop,I+=J.offsetLeft;if(o.offset.doesNotAddBorder&&!(o.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(J.tagName))){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}F=G,G=J.offsetParent}if(o.offset.subtractsBorderForOverflowNotVisible&&M.overflow!=="visible"){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}E=M}if(E.position==="relative"||E.position==="static"){N+=K.offsetTop,I+=K.offsetLeft}if(E.position==="fixed"){N+=Math.max(H.scrollTop,K.scrollTop),I+=Math.max(H.scrollLeft,K.scrollLeft)}return{top:N,left:I}}}o.offset={initialize:function(){if(this.initialized){return}var L=document.body,F=document.createElement("div"),H,G,N,I,M,E,J=L.style.marginTop,K='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';M={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(E in M){F.style[E]=M[E]}F.innerHTML=K;L.insertBefore(F,L.firstChild);H=F.firstChild,G=H.firstChild,I=H.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(G.offsetTop!==5);this.doesAddBorderForTableAndCells=(I.offsetTop===5);H.style.overflow="hidden",H.style.position="relative";this.subtractsBorderForOverflowNotVisible=(G.offsetTop===-5);L.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=(L.offsetTop===0);L.style.marginTop=J;L.removeChild(F);this.initialized=true},bodyOffset:function(E){o.offset.initialized||o.offset.initialize();var G=E.offsetTop,F=E.offsetLeft;if(o.offset.doesNotIncludeMarginInBodyOffset){G+=parseInt(o.curCSS(E,"marginTop",true),10)||0,F+=parseInt(o.curCSS(E,"marginLeft",true),10)||0}return{top:G,left:F}}};o.fn.extend({position:function(){var I=0,H=0,F;if(this[0]){var G=this.offsetParent(),J=this.offset(),E=/^body|html$/i.test(G[0].tagName)?{top:0,left:0}:G.offset();J.top-=j(this,"marginTop");J.left-=j(this,"marginLeft");E.top+=j(G,"borderTopWidth");E.left+=j(G,"borderLeftWidth");F={top:J.top-E.top,left:J.left-E.left}}return F},offsetParent:function(){var E=this[0].offsetParent||document.body;while(E&&(!/^body|html$/i.test(E.tagName)&&o.css(E,"position")=="static")){E=E.offsetParent}return o(E)}});o.each(["Left","Top"],function(F,E){var G="scroll"+E;o.fn[G]=function(H){if(!this[0]){return null}return H!==g?this.each(function(){this==l||this==document?l.scrollTo(!F?H:o(l).scrollLeft(),F?H:o(l).scrollTop()):this[G]=H}):this[0]==l||this[0]==document?self[F?"pageYOffset":"pageXOffset"]||o.boxModel&&document.documentElement[G]||document.body[G]:this[0][G]}});o.each(["Height","Width"],function(I,G){var E=I?"Left":"Top",H=I?"Right":"Bottom",F=G.toLowerCase();o.fn["inner"+G]=function(){return this[0]?o.css(this[0],F,false,"padding"):null};o.fn["outer"+G]=function(K){return this[0]?o.css(this[0],F,false,K?"margin":"border"):null};var J=G.toLowerCase();o.fn[J]=function(K){return this[0]==l?document.compatMode=="CSS1Compat"&&document.documentElement["client"+G]||document.body["client"+G]:this[0]==document?Math.max(document.documentElement["client"+G],document.body["scroll"+G],document.documentElement["scroll"+G],document.body["offset"+G],document.documentElement["offset"+G]):K===g?(this.length?o.css(this[0],J):null):this.css(J,typeof K==="string"?K:K+"px")}})})();
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@2d03e677
---Content---
/*
  base2 - copyright 2007-2009, Dean Edwards
  http://code.google.com/p/base2/
  http://www.opensource.org/licenses/mit-license.php

  Contributors:
    Doeke Zanstra
*/
var base2={name:"base2",version:"1.1 (alpha1)",exports:"Base,Package,Abstract,Module,Enumerable,Map,Collection,RegGrp,Undefined,Null,This,True,False,assignID,detect,global",namespace:""};new function(_z){/*@cc_on @*/var Undefined=K(),Null=K(null),True=K(true),False=K(false),This=function(){return this};var global=This(),base2=global.base2;var _c=K(),_A=/%([1-9])/g,_j=/^\s\s*/,_k=/\s\s*$/,_l=/([\/()[\]{}|*+-.,^$?\\])/g,_d=/try/.test(detect)?/\bbase\b/:/.*/,_e=["constructor","toString"],_m=detect("(jscript)")?new RegExp("^"+rescape(isNaN).replace(/isNaN/,"\\w+")+"$"):{test:False},_n=1,_3=Array.prototype.slice;_6();function assignID(a,b){if(!b)b=a.nodeType==1?"uniqueID":"base2ID";if(!a[b])a[b]="b2_"+_n++;return a[b]};var _f=function(a,b){base2.__prototyping=this.prototype;var c=new this;if(a)extend(c,a);c.base=function(){};delete base2.__prototyping;var e=c.constructor;function d(){if(!base2.__prototyping){if(this.constructor==d||this.__constructing){this.__constructing=true;e.apply(this,arguments);delete this.__constructing}else{return extend(arguments[0],c)}}return this};c.constructor=d;for(var f in Base)d[f]=this[f];if(b)extend(d,b);d.ancestor=this;d.ancestorOf=Base.ancestorOf;d.base=c.base;d.prototype=c;if(d.init)d.init();return d};var Base=_f.call(Object,{constructor:function(){if(arguments.length>0){this.extend(arguments[0])}},extend:delegate(extend),toString:function(){if(this.constructor.toString==Function.prototype.toString){return"[object base2.Base]"}else{return"[object "+String2.slice(this.constructor,1,-1)+"]"}}},Base={ancestorOf:function(a){return _a(this,a)},extend:_f,forEach:function(a,b,c){_6(this,a,b,c)},implement:function(a){if(typeof a=="function"){a=a.prototype}extend(this.prototype,a);return this}});var Package=Base.extend({constructor:function(e,d){var f=this;f.extend(d);if(f.name&&f.name!="base2"){if(d.parent===undefined)f.parent=base2;if(f.parent)f.parent.addName(f.name,f);f.namespace=format("var %1=%2;",f.name,String2.slice(f,1,-1))}if(e){var g=base2.js?base2.js.namespace:"";var h="var base2=(function(){return this.base2})(),_0=base2.toString;"+base2.namespace+g;var i=csv(f.imports),j;for(var l=0;j=i[l];l++){var m=n(j)||n("js."+j);if(!m)throw new ReferenceError(format("Object not found: '%1'.",j));h+=m.namespace}e.init=function(){if(f.init)f.init()};e.imports=h+lang.namespace+"this.init();";h="";var p=csv(f.exports);for(var l=0;j=p[l];l++){var o=f.name+"."+j;f.namespace+="var "+j+"="+o+";";h+="if(!"+o+")"+o+"="+j+";"}e.exports=h+"this._o"+f.name+"();";var k=String2.slice(f,1,-1);e["_o"+f.name]=function(){for(var a in f){var b=f[a];if(b&&b.ancestorOf==Base.ancestorOf&&a!="constructor"){b.toString=K("["+k+"."+a+"]")}}}}function n(a){a=a.split(".");var b=base2,c=0;while(b&&a[c]!=null){b=b[a[c++]]}return b}},exports:"",imports:"",name:"",namespace:"",parent:null,addName:function(a,b){if(!this[a]){this[a]=b;this.exports+=","+a;this.namespace+=format("var %1=%2.%1;",a,this.name);if(b&&b.ancestorOf==Base.ancestorOf&&a!="constructor"){b.toString=K("["+String2.slice(this,1,-1)+"."+a+"]")}}},addPackage:function(a){this.addName(a,new Package(null,{name:a,parent:this}))},toString:function(){return format("[%1]",this.parent?String2.slice(this.parent,1,-1)+"."+this.name:this.name)}});var Abstract=Base.extend({constructor:function(){throw new TypeError("Abstract class cannot be instantiated.");}});var _p=0;var Module=Abstract.extend(null,{namespace:"",extend:function(a,b){var c=this.base();var e=_p++;c.namespace="";c.partial=this.partial;c.toString=K("[base2.Module["+e+"]]");Module[e]=c;c.implement(this);if(a)c.implement(a);if(b){extend(c,b);if(c.init)c.init()}return c},forEach:function(c,e){_6(Module,this.prototype,function(a,b){if(typeOf(a)=="function"){c.call(e,this[b],b,this)}},this)},implement:function(a){var b=this;var c=b.toString().slice(1,-1);if(typeof a=="function"){if(!_a(a,b)){this.base(a)}if(_a(Module,a)){for(var e in a){if(typeof b[e]=="undefined"){var d=a[e];if(typeof d=="function"&&d.call&&a.prototype[e]){d=_q(a,e)}b[e]=d}}b.namespace+=a.namespace.replace(/base2\.Module\[\d+\]/g,c)}}else{extend(b,a);_g(b,a)}return b},partial:function(){var c=Module.extend();var e=c.toString().slice(1,-1);c.namespace=this.namespace.replace(/(\w+)=b[^\)]+\)/g,"$1="+e+".$1");this.forEach(function(a,b){c[b]=partial(bind(a,c))});return c}});Module.prototype.base=Module.prototype.extend=_c;function _g(a,b){var c=a.prototype;var e=a.toString().slice(1,-1);for(var d in b){var f=b[d],g="";if(d.indexOf("@")==0){if(detect(d.slice(1)))_g(a,f)}else if(!c[d]){if(d==d.toUpperCase()){g="var "+d+"="+e+"."+d+";"}else if(typeof f=="function"&&f.call){g="var "+d+"=base2.lang.bind('"+d+"',"+e+");";c[d]=_r(a,d)}if(a.namespace.indexOf(g)==-1){a.namespace+=g}}}};function _q(a,b){return function(){return a[b].apply(a,arguments)}};function _r(b,c){return function(){var a=_3.call(arguments);a.unshift(this);return b[c].apply(b,a)}};var Enumerable=Module.extend({every:function(c,e,d){var f=true;try{forEach(c,function(a,b){f=e.call(d,a,b,c);if(!f)throw StopIteration;})}catch(error){if(error!=StopIteration)throw error;}return!!f},filter:function(e,d,f){var g=0;return this.reduce(e,function(a,b,c){if(d.call(f,b,c,e)){a[g++]=b}return a},[])},invoke:function(b,c){var e=_3.call(arguments,2);return this.map(b,typeof c=="function"?function(a){return a==null?undefined:c.apply(a,e)}:function(a){return a==null?undefined:a[c].apply(a,e)})},map:function(c,e,d){var f=[],g=0;forEach(c,function(a,b){f[g++]=e.call(d,a,b,c)});return f},pluck:function(b,c){return this.map(b,function(a){return a==null?undefined:a[c]})},reduce:function(c,e,d,f){var g=arguments.length>2;forEach(c,function(a,b){if(g){d=e.call(f,d,a,b,c)}else{d=a;g=true}});return d},some:function(a,b,c){return!this.every(a,not(b),c)}});var _2="#";var Map=Base.extend({constructor:function(a){if(a)this.merge(a)},clear:function(){for(var a in this)if(a.indexOf(_2)==0){delete this[a]}},copy:function(){base2.__prototyping=true;var a=new this.constructor;delete base2.__prototyping;for(var b in this)if(this[b]!==a[b]){a[b]=this[b]}return a},forEach:function(a,b){for(var c in this)if(c.indexOf(_2)==0){a.call(b,this[c],c.slice(1),this)}},get:function(a){return this[_2+a]},getKeys:function(){return this.map(II)},getValues:function(){return this.map(I)},has:function(a){a=_2+a;/*@if(@_jscript_version<5.5)return this[a]!==undefined||$Legacy.has(this,a);@else @*/return a in this;/*@end @*/},merge:function(b){var c=flip(this.put);forEach(arguments,function(a){forEach(a,c,this)},this);return this},put:function(a,b){this[_2+a]=b;return b},remove:function(a){delete this[_2+a]},size:function(){var a=0;for(var b in this)if(b.indexOf(_2)==0)a++;return a},union:function(a){return this.merge.apply(this.copy(),arguments)}});Map.implement(Enumerable);Map.prototype.filter=function(e,d){return this.reduce(function(a,b,c){if(!e.call(d,b,c,this)){a.remove(c)}return a},this.copy(),this)};var _1="~";var Collection=Map.extend({constructor:function(a){this[_1]=new Array2;this.base(a)},add:function(a,b){if(this.has(a))throw"Duplicate key '"+a+"'.";return this.put.apply(this,arguments)},clear:function(){this.base();this[_1].length=0},copy:function(){var a=this.base();a[_1]=this[_1].copy();return a},forEach:function(a,b){var c=this[_1].concat();var e=c.length;for(var d=0;d<e;d++){a.call(b,this[_2+c[d]],c[d],this)}},getAt:function(a){var b=this[_1].item(a);return(b===undefined)?undefined:this[_2+b]},getKeys:function(){return this[_1].copy()},indexOf:function(a){return this[_1].indexOf(String(a))},insertAt:function(a,b,c){if(this[_1].item(a)==null)throw"Index out of bounds.";if(this.has(b))throw"Duplicate key '"+b+"'.";this[_1].insertAt(a,String(b));this[_2+b]=null;return this.put.apply(this,_3.call(arguments,1))},item:function(a){return this[typeof a=="number"?"getAt":"get"](a)},put:function(a,b){var c=this.constructor;if(c.Item&&!instanceOf(b,c.Item)){b=c.create.apply(c,arguments)}if(!this.has(a)){this[_1].push(String(a))}this[_2+a]=b;return b},putAt:function(a,b){arguments[0]=this[_1].item(a);if(arguments[0]==null)throw"Index out of bounds.";return this.put.apply(this,arguments)},remove:function(a){if(this.has(a)){this[_1].remove(String(a));delete this[_2+a]}},removeAt:function(a){var b=this[_1].item(a);if(b!==undefined){this[_1].removeAt(a);delete this[_2+b]}},reverse:function(){this[_1].reverse();return this},size:function(){return this[_1].length},slice:function(a,b){var c=this.copy();if(arguments.length>0){var e=this[_1],d=e;c[_1]=Array2(_3.apply(e,arguments));if(c[_1].length){d=d.slice(0,a);if(arguments.length>1){d=d.concat(e.slice(b))}}for(var f=0;f<d.length;f++){delete c[_2+d[f]]}}return c},sort:function(c){if(c){this[_1].sort(bind(function(a,b){return c(this[_2+a],this[_2+b],a,b)},this))}else this[_1].sort();return this},toString:function(){return"("+(this[_1]||"")+")"}},{Item:null,create:function(a,b){return this.Item?new this.Item(a,b):b},extend:function(a,b){var c=this.base(a);c.create=this.create;if(b)extend(c,b);if(!c.Item){c.Item=this.Item}else if(typeof c.Item!="function"){c.Item=(this.Item||Base).extend(c.Item)}if(c.init)c.init();return c}});var _s=/\\(\d+)/g,_t=/\\./g,_u=/\(\?[:=!]|\[[^\]]+\]/g,_v=/\(/g,_w=/\$(\d+)/,_x=/^\$\d+$/;var RegGrp=Collection.extend({constructor:function(a,b){this.base(a);this.ignoreCase=!!b},ignoreCase:false,exec:function(g,h){g+="";var i=this,j=this[_1];if(!j.length)return g;if(h==RegGrp.IGNORE)h=0;return g.replace(new RegExp(this,this.ignoreCase?"gi":"g"),function(a){var b,c=1,e=0;while((b=i[_2+j[e++]])){var d=c+b.length+1;if(arguments[c]){var f=h==null?b.replacement:h;switch(typeof f){case"function":return f.apply(i,_3.call(arguments,c,d));case"number":return arguments[c+f];default:return f}}c=d}return a})},insertAt:function(a,b,c){if(instanceOf(b,RegExp)){arguments[1]=b.source}return this.base.apply(this,arguments)},test:function(a){return this.exec(a)!=a},toString:function(){var d=1;return"("+this.map(function(c){var e=(c+"").replace(_s,function(a,b){return"\\"+(d+Number(b))});d+=c.length+1;return e}).join(")|(")+")"}},{IGNORE:"$0",init:function(){forEach("add,get,has,put,remove".split(","),function(b){this[b]=_b(this,b,function(a){if(instanceOf(a,RegExp)){arguments[0]=a.source}return this.base.apply(this,arguments)})},this.prototype)},Item:{constructor:function(a,b){if(b==null)b=RegGrp.IGNORE;else if(b.replacement!=null)b=b.replacement;else if(typeof b!="function")b=String(b);if(typeof b=="string"&&_w.test(b)){if(_x.test(b)){b=parseInt(b.slice(1),10)}else{var c='"';b=b.replace(/\\/g,"\\\\").replace(/"/g,"\\x22").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\$(\d+)/g,c+"+(arguments[$1]||"+c+c+")+"+c).replace(/(['"])\1\+(.*)\+\1\1$/,"$1");b=new Function("return "+c+b+c)}}this.length=RegGrp.count(a);this.replacement=b;this.toString=K(a+"")},disabled:false,length:0,replacement:""},count:function(a){a=(a+"").replace(_t,"").replace(_u,"");return match(a,_v).length}});var lang={name:"lang",version:base2.version,exports:"assert,assertArity,assertType,bind,copy,extend,forEach,format,instanceOf,match,pcopy,rescape,trim,typeOf",namespace:""};function assert(a,b,c){if(!a){throw new(c||Error)(b||"Assertion failed.");}};function assertArity(a,b,c){if(b==null)b=a.callee.length;if(a.length<b){throw new SyntaxError(c||"Not enough arguments.");}};function assertType(a,b,c){if(b&&(typeof b=="function"?!instanceOf(a,b):typeOf(a)!=b)){throw new TypeError(c||"Invalid type.");}};function copy(a){var b={};for(var c in a){b[c]=a[c]}return b};function pcopy(a){_h.prototype=a;return new _h};function _h(){};function extend(a,b){if(a&&b){var c=base2.__prototyping;if(arguments.length>2){var e=b;b={};b[e]=arguments[2];c=true}var d=global[(typeof b=="function"?"Function":"Object")].prototype;if(c){var f=_e.length,e;while((e=_e[--f])){var g=b[e];if(g!=d[e]){if(_d.test(g)){a[e]=_b(a,e,g)}else{a[e]=g}}}}for(e in b){if(typeof d[e]=="undefined"){g=b[e];if(e.indexOf("@")==0){if(detect(e.slice(1)))extend(a,g)}else if(g!=_c){var h=a[e];if(h&&typeof g=="function"){if(g!=h){if(_d.test(g)){a[e]=_b(a,e,g)}else{g.ancestor=h;a[e]=g}}}else{a[e]=g}}}}}/*@if(@_jscript){try{return a}finally{a=null}}@else @*/return a;/*@end @*/};function _a(a,b){while(b){if(!b.ancestor)return false;b=b.ancestor;if(b==a)return true}return false};function _b(c,e,d){var f=c[e];var g=base2.__prototyping;if(g&&f!=g[e])g=null;function h(){var a=this.base;this.base=g?g[e]:f;var b=d.apply(this,arguments);this.base=a;return b};h.method=d;h.ancestor=f;return h};if(typeof StopIteration=="undefined"){StopIteration=new Error("StopIteration")}function forEach(a,b,c,e){if(a==null)return;if(!e){if(typeof a=="function"&&a.call){e=Function}else if(typeof a.forEach=="function"&&a.forEach!=forEach){a.forEach(b,c);return}else if(typeof a.length=="number"){_7(a,b,c);return}}_6(e||Object,a,b,c)};forEach.csv=function(a,b,c){forEach(csv(a),b,c)};forEach.detect=function(c,e,d){var f=function(a,b){if(b.indexOf("@")==0){if(detect(b.slice(1)))forEach(a,f)}else e.call(d,a,b,c)};forEach(c,f)};function _7(a,b,c){if(a==null)a=global;var e=a.length||0,d;if(typeof a=="string"){for(d=0;d<e;d++){b.call(c,a.charAt(d),d,a)}}else{for(d=0;d<e;d++){/*@if(@_jscript_version<5.2)if(a[d]!==undefined&&$Legacy.has(a,d))@else @*/if(d in a)/*@end @*/b.call(c,a[d],d,a)}}};function _6(g,h,i,j){var l=function(){this.i=1};l.prototype={i:1};var m=0;for(var p in new l)m++;_6=m>1?function(a,b,c,e){var d={};for(var f in b){if(!d[f]&&a.prototype[f]===undefined){d[f]=true;c.call(e,b[f],f,b)}}}:function(a,b,c,e){for(var d in b){if(typeof a.prototype[d]=="undefined"){c.call(e,b[d],d,b)}}};_6(g,h,i,j)};function instanceOf(a,b){if(typeof b!="function"){throw new TypeError("Invalid 'instanceOf' operand.");}if(a==null)return false;/*@if(@_jscript)if(typeof a.constructor!="function"){return b==Object}/*@end @*/if(a.constructor==b)return true;if(b.ancestorOf)return b.ancestorOf(a.constructor);/*@if(@_jscript_version<5.1)@else @*/if(a instanceof b)return true;/*@end @*/if(Base.ancestorOf==b.ancestorOf)return false;if(Base.ancestorOf==a.constructor.ancestorOf)return b==Object;switch(b){case Array:return _8.call(a)=="[object Array]";case Date:return _8.call(a)=="[object Date]";case RegExp:return _8.call(a)=="[object RegExp]";case Function:return typeOf(a)=="function";case String:case Number:case Boolean:return typeOf(a)==typeof b.prototype.valueOf();case Object:return true}return false};var _8=Object.prototype.toString;function typeOf(a){var b=typeof a;switch(b){case"object":return a==null?"null":typeof a.constructor!="function"?_m.test(a)?"function":b:_8.call(a)=="[object Date]"?b:typeof a.constructor.prototype.valueOf();case"function":return typeof a.call=="function"?b:"object";default:return b}};var js={name:"js",version:base2.version,exports:"Array2,Date2,Function2,String2",namespace:"",bind:function(c){var e=global;global=c;forEach.csv(this.exports,function(a){var b=a.slice(0,-1);extend(c[b],this[a]);this[a](c[b].prototype)},this);global=e;return c}};function _9(b,c,e,d){var f=Module.extend();var g=f.toString().slice(1,-1);forEach.csv(e,function(a){f[a]=unbind(b.prototype[a]);f.namespace+=format("var %1=%2.%1;",a,g)});forEach(_3.call(arguments,3),f.implement,f);var h=function(){return f(this.constructor==f?c.apply(null,arguments):arguments[0])};h.prototype=f.prototype;for(var i in f){var j=b[i];if(j&&i!="prototype"&&i!="toString"&&j!=Function.prototype[i]){f[i]=j;delete f.prototype[i]}h[i]=f[i]}h.ancestor=Object;delete h.extend;h.namespace=h.namespace.replace(/(var (\w+)=)[^,;]+,([^\)]+)\)/g,"$1$3.$2");return h};if((new Date).getYear()>1900){Date.prototype.getYear=function(){return this.getFullYear()-1900};Date.prototype.setYear=function(a){return this.setFullYear(a+1900)}}var _i=new Date(Date.UTC(2006,1,20));_i.setUTCDate(15);if(_i.getUTCHours()!=0){forEach.csv("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds",function(b){extend(Date.prototype,"setUTC"+b,function(){var a=this.base.apply(this,arguments);if(a>=57722401000){a-=3600000;this.setTime(a)}return a})})}Function.prototype.prototype={};if("".replace(/^/,K("$$"))=="$"){extend(String.prototype,"replace",function(a,b){if(typeof b=="function"){var c=b;b=function(){return String(c.apply(null,arguments)).split("$").join("$$")}}return this.base(a,b)})}var Array2=_9(Array,Array,"concat,join,pop,push,reverse,shift,slice,sort,splice,unshift",Enumerable,{batch:function(e,d,f,g,h){var i=0,j=e.length;var l=function(){var a=Date2.now(),b=a,c=0;while(i<j&&(a-b<f)){d.call(h,e[i],i++,e);if(c++<5||c%50==0)a=Date2.now()}if(i<j){setTimeout(l,10)}else{if(g)g.call(h)}};setTimeout(l,1)},combine:function(e,d){if(!d)d=e;return Array2.reduce(e,function(a,b,c){a[b]=d[c];return a},{})},contains:function(a,b){return Array2.indexOf(a,b)!=-1},copy:function(a){var b=_3.call(a);if(!b.swap)Array2(b);return b},flatten:function(c){var e=0;var d=function(a,b){if(Array2.like(b)){Array2.reduce(b,d,a)}else{a[e++]=b}return a};return Array2.reduce(c,d,[])},forEach:_7,indexOf:function(a,b,c){var e=a.length;if(c==null){c=0}else if(c<0){c=Math.max(0,e+c)}for(var d=c;d<e;d++){if(a[d]===b)return d}return-1},insertAt:function(a,b,c){Array2.splice(a,b,0,c)},item:function(a,b){if(b<0)b+=a.length;return a[b]},lastIndexOf:function(a,b,c){var e=a.length;if(c==null){c=e-1}else if(c<0){c=Math.max(0,e+c)}for(var d=c;d>=0;d--){if(a[d]===b)return d}return-1},map:function(c,e,d){var f=[];_7(c,function(a,b){f[b]=e.call(d,a,b,c)});return f},remove:function(a,b){var c=Array2.indexOf(a,b);if(c!=-1)Array2.removeAt(a,c)},removeAt:function(a,b){Array2.splice(a,b,1)},swap:function(a,b,c){if(b<0)b+=a.length;if(c<0)c+=a.length;var e=a[b];a[b]=a[c];a[c]=e;return a}});Array2.forEach=_7;Array2.reduce=Enumerable.reduce;Array2.like=function(a){return typeOf(a)=="object"&&typeof a.length=="number"};var _y=/^((-\d+|\d{4,})(-(\d{2})(-(\d{2}))?)?)?T((\d{2})(:(\d{2})(:(\d{2})(\.(\d{1,3})(\d)?\d*)?)?)?)?(([+-])(\d{2})(:(\d{2}))?|Z)?$/;var _4={FullYear:2,Month:4,Date:6,Hours:8,Minutes:10,Seconds:12,Milliseconds:14};var _5={Hectomicroseconds:15,UTC:16,Sign:17,Hours:18,Minutes:20};var Date2=_9(Date,function(a,b,c,e,d,f,g){switch(arguments.length){case 0:return new Date;case 1:return typeof a=="string"?new Date(Date2.parse(a)):new Date(a.valueOf());default:return new Date(a,b,arguments.length==2?1:c,e||0,d||0,f||0,g||0)}},"",{toISOString:function(c){var e="####-##-##T##:##:##.###";for(var d in _4){e=e.replace(/#+/,function(a){var b=c["getUTC"+d]();if(d=="Month")b++;return("000"+b).slice(-a.length)})}return e+"Z"}});delete Date2.forEach;Date2.now=function(){return(new Date).valueOf()};Date2.parse=function(a,b){if(arguments.length>1){assertType(b,"number","Default date should be of type 'number'.")}var c=match(a,_y);if(c.length){var e=c[_4.Month];if(e)c[_4.Month]=String(e-1);if(c[_5.Hectomicroseconds]>=5)c[_4.Milliseconds]++;var d=c[_5.UTC]||c[_5.Hours]?"UTC":"";var f=new Date(b||0);if(c[_4.Date])f["set"+d+"Date"](14);for(var g in _4){var h=c[_4[g]];if(h){f["set"+d+g](h);if(f["get"+d+g]()!=c[_4[g]]){return NaN}}}if(c[_5.Hours]){var i=Number(c[_5.Sign]+c[_5.Hours]);var j=Number(c[_5.Sign]+(c[_5.Minutes]||0));f.setUTCMinutes(f.getUTCMinutes()+(i*60)+j)}return f.valueOf()}else{return Date.parse(a)}};var String2=_9(String,function(a){return new String(arguments.length==0?"":a)},"charAt,charCodeAt,concat,indexOf,lastIndexOf,match,replace,search,slice,split,substr,substring,toLowerCase,toUpperCase",{csv:csv,format:format,rescape:rescape,trim:trim});delete String2.forEach;function trim(a){return String(a).replace(_j,"").replace(_k,"")};function csv(a){return a?(a+"").split(/\s*,\s*/):[]};function format(c){var e=arguments;var d=new RegExp("%([1-"+(arguments.length-1)+"])","g");return(c+"").replace(d,function(a,b){return e[b]})};function match(a,b){return(a+"").match(b)||[]};function rescape(a){return(a+"").replace(_l,"\\$1")};var Function2=_9(Function,Function,"",{I:I,II:II,K:K,bind:bind,compose:compose,delegate:delegate,flip:flip,not:not,partial:partial,unbind:unbind});function I(a){return a};function II(a,b){return b};function K(a){return function(){return a}};function bind(a,b){var c=typeof a!="function";if(arguments.length>2){var e=_3.call(arguments,2);return function(){return(c?b[a]:a).apply(b,e.concat.apply(e,arguments))}}else{return function(){return(c?b[a]:a).apply(b,arguments)}}};function compose(){var c=_3.call(arguments);return function(){var a=c.length,b=c[--a].apply(this,arguments);while(a--)b=c[a].call(this,b);return b}};function delegate(b,c){return function(){var a=_3.call(arguments);a.unshift(this);return b.apply(c,a)}};function flip(a){return function(){return a.apply(this,Array2.swap(arguments,0,1))}};function not(a){return function(){return!a.apply(this,arguments)}};function partial(e){var d=_3.call(arguments,1);return function(){var a=d.concat(),b=0,c=0;while(b<d.length&&c<arguments.length){if(a[b]===undefined)a[b]=arguments[c++];b++}while(c<arguments.length){a[b++]=arguments[c++]}if(Array2.contains(a,undefined)){a.unshift(e);return partial.apply(null,a)}return e.apply(this,a)}};function unbind(b){return function(a){return b.apply(a,_3.call(arguments,1))}};function detect(){var i=NaN/*@cc_on||@_jscript_version@*/,j=true;if(global.navigator){var l=/MSIE[\d.]+/g,m=document.createElement("span"),p=document.createElement("input"),o=m.style,k=navigator.userAgent.replace(/([a-z])[\s\/](\d)/gi,"$1$2");j&=navigator.javaEnabled();if(!i)k=k.replace(l,"");if(/MSIE/.test(k)){k=k.match(l)[0]+";"+k.replace(l,"").replace(/user\-agent.*$/i,"")}if(/Chrome/.test(k))k=k.replace(/Safari[\d.]*/gi,"");else if(/Gecko/.test(k))k=k.replace(/Gecko/g,"Gecko/").replace(/rv:/,"Gecko");if(!/^CSS/.test(document.compatMode))k+=";QuirksMode";base2.userAgent=k.replace(/like \w+/gi,"")+";"+navigator.platform}var n={};detect=function(d){var f=d.indexOf("!")==0;if(f)d=d.slice(1);if(n[d]==null){var g=false,h=d;if(h.indexOf("(")==0){if(base2.dom){h=h.replace(/(hasFeature)/,"document.implementation.$1").replace(/\bstyle\.(\w+)/g,function(a,b){if(!o[b]){b=base2.dom.CSSStyleDeclaration.getPropertyName(b)}return"style."+b}).replace(/^\((\w+\.[\w\.]+)\)$/,function(a,b){b=b.split(".");var c=b.pop(),e=b.join(".");return"("+(i<5.6?e+"."+c+"!==undefined":"'"+c+"' in "+e)+")"})}try{g=new Function("global,element,input,style,jscript,java","return !!"+h)(global,m,p,o,i,j?global.java:null)}catch(x){}}else{g=new RegExp("("+h+")","i").test(base2.userAgent)}n[d]=g}return!!(f^n[d])};detect.MSIE=!!i;detect.MSIE5=i<5.6;return detect(arguments[0])};base2=global.base2=new Package(this,base2);base2.toString=K("[base2]");var exports=this.exports;lang=new Package(this,lang);exports+=this.exports;js=new Package(this,js);eval(exports+this.exports);lang.extend=extend;base2.JavaScript=pcopy(js);base2.JavaScript.namespace+="var JavaScript=js;"};
( function( context, topNamespace, $ ) {
	// A regular expression for valid namespaces.
	var validNamespace = /^([\$a-z]+[a-z0-9]?)+(\.[a-z]+[a-z0-9]?)*$/i;

	var core;

	/**
	 * @namespace
	 * 
	 * The core JavaScript library namespace.
	 */
	core = {
		
		version: "1.0.0",
		
		/**
		 * Creates an hierarchy of objects according to the specified namespace
		 * input.
		 * 
		 * Example: "com.example.myapp" will result in the following hierarchy
		 * of objects defined in the specified context:
		 * com, com.example, com.example.myapp
		 * 
		 * Properties, method and classes can then be assigned anywhere in the
		 * hierarchy to simulate namespacing.
		 * 
		 * @param {String} namespaceInput A dot separated string of namespace
		 *                               levels.
		 * 
		 * @returns {Object} Returns the hierarchy of objects according to the
		 *                   specified namespace input.
		 * 
		 * @throws {Error} Throws an exception if the namespaceInput parameter
		 *                 is not a string of the form level1.level2.level3...
		 *                 where each level must be of the form
		 *                 /[a-z]+[a-z0-9]?/ (the top level may optionally start
		 *                 with $).
		 */
		namespace : function( namespaceInput ) {
			// Initialize error message.
			var initialErrorMessage = topNamespace + ".namespace():\n";
			var errorMessage = initialErrorMessage;

			// Check argument.
			if ( ( "string" !== typeof ( namespaceInput ) ) ||
				!validNamespace.test( namespaceInput ) ) {
				errorMessage += "The namespace input must be a string of the form " +
							"level1.level2.level3...where each level is of the form " +
							"/[a-z]+[a-z0-9]?/i.\n" + " You provided " +
							namespaceInput + ".";
			}

			// If the argument is valid create the namespace.
			if ( errorMessage == initialErrorMessage ) {
				var namespaceLevels = namespaceInput.split( "." );
				var namespaceHierarchy = context[ topNamespace ];
				for ( var i = 0; i < namespaceLevels.length; i++ ) {
					var namespaceLevel = namespaceLevels[ i ];
					if ("undefined" == typeof ( namespaceHierarchy[ namespaceLevel ] ) ) {
						namespaceHierarchy[ namespaceLevel ] = {};
					}
					namespaceHierarchy = namespaceHierarchy[ namespaceLevel ];
				}
				return namespaceHierarchy;
			}

			// Throw an exception if there were any errors.
			if (errorMessage != initialErrorMessage) {
				throw Error(errorMessage);
			}
		},
		
		config: null,
		
		require : function(){
			//when libraries require other dependencies
			//checks for this and throws an error 
		},

		/**
		 * Determines whether or not the current site is the dev site.
		 * 
		 * @return {Boolean} Returns true if the current site is the dev site,
		 *                   otherwise return false.
		 */
		isDevSite : function() {
			return (
				window.location.href.indexOf( "localhost" ) != -1 &&
				window.location.href.indexOf( "stage.tribdev.com" ) != -1 &&
				window.location.href.indexOf( "tila.trb" ) != -1 &&
				window.location.href.indexOf( "testprod" ) != -1 &&
				window.location.href.indexOf( "trb.qa" ) != -1 
			);
		}
	};

	// Set the core JavaScript library to the top level namespace on the context in which this is run.
	context[ topNamespace ] = core;
})( this, "registration", jQuery );
(function($) {
	registration.namespace("oop.factory");

	// The one and only instance of the class of the current context that can exist.
	var instance = null;

	// Indicate that the instance is in the process of being constructed.
	var constructing =  false;

	/**
	 * @namespace
	 * 
	 * A factory for the creation and initialization of a single instance of
	 * classes that subclass registration.oop.RegistrationObject.
	 */
	registration.oop.factory.singleton = {
		/**
		 * Creates a single instance of the class in the context in which this
		 * method is called.
		 * 
		 * The instance is initialized if the init method is defined for the
		 * class.
		 * 
		 * @param {Object} params An associative array of instantiation
		 *                        properties.  These are passed directly into
		 *                        the class constructor.
		 * 
		 * @returns {Object} A single initialized instance of the class in the
		 *                   context in which this method is called.  Subsequent
		 *                   calls to this method will return the same instance.
		 */
		getInstance: function(params) {
			
			var hasThisInstance = null;
			
			if( instance ){
				hasThisInstance = this.className == instance.className;
			}
			else{
				hasThisInstance = instance;
			}
			var instanceAlreadyExists = !!( hasThisInstance || constructing);

			if (!instanceAlreadyExists) {
				constructing = true;
				instance = new this(params);
				constructing = false;
				if ("function" === typeof(instance.init)) {
					instance.init.call(instance, params);
				}
			}

			return instance;
		}
	};
}(jQuery));
(function($) {
	registration.namespace("oop.factory");

	/**
	 * @namespace
	 * 
	 * A factory for the creation and initialization of unique instances of
	 * classes that subclass registration.oop.RegistrationObject.
	 */
	registration.oop.factory.multiInstance = {
		/**
		 * Creates a new instance of the class in the context in which this
		 * method is called.
		 * 
		 * The instance is initialized if the init method is defined for the
		 * class.
		 * 
		 * @param {Object} params An associative array of instantiation
		 *                        properties.  These are passed directly into
		 *                        the class constructor.
		 * 
		 * @returns {Object} An initialized instance of the class in the context
		 *                   in which this method is called.
		 */
		getInstance: function(params) {
			var instance = new this(params);

			if ("function" === typeof(instance.init)) {
				instance.init.call(instance, params);
			}

			return instance;
		}
	};
}(jQuery));
(function($) {

	registration.namespace( "oop" );

	registration.oop.RegistrationObject = base2.Base.extend(
	/**
	 * @lends registration.oop.RegistrationObject.prototype
	 */
	{
		/**
		 * @lends registration.oop.RegistrationObject.prototype
		 * @property {Object} clazz A reference to the class definition of this
		 *                          instance.
		 */
		clazz: null,

		/**
		 * @lends registration.oop.RegistrationObject.prototype
		 * @property {String} className The name of this class.  Used for
		 *                              logging.
		 */
		className: null,

		/**
		 * @lends registration.oop.RegistrationObject.prototype
		 * @property {String} instanceName The name of this instance.  Used for
		 *                                 logging.
		 */
		instanceName: null,

		/**
		 * Creates a new instance of this class.
		 * 
		 * Sets the className instance property from the corresponding class
		 * property.
		 * 
		 * Sets the instanceName property from the specified parameters.
		 * 
		 * @param {Object} params An associative array of instantiation
		 *                        properties.<br />
		 *                        params.instanceName {String} The name of the
		 *                                                     instance for use
		 *                                                     in logging.
		 */
		constructor: function(params) {
			this.clazz = this.constructor;
			this.className = this.constructor.className;
			this.instanceName = params.instanceName || ("instance" + Math.floor(Math.random() * 1000000 + 1));
		},

		/**
		 * Empty default initialization method.
		 */
		init: function() {
		}
	},
	{
		/**
		 * @lends registration.oop.RegistrationObject.prototype
		 * @property {String} className The name of this class.  Used for
		 *                              logging.
		 */
		className: "registration.oop.RegistrationObject",

		/**
		 * @lends registration.oop.RegistrationObject.prototype
		 * @property {Function} getInstance The method that creates an instance
		 *                                  of this class.  The default
		 *                                  implementation is factory which
		 *                                  produces a unique instance each time
		 *                                  it is called.
		 */
		getInstance: registration.oop.factory.multiInstance.getInstance
	});
	
	registration.oop.RegistrationObject.extend = function( instanceProperties, classProperties ) {
		for ( var propName in this ) {
			// Add any class level properties in the super class not already in
			// base2.Base or the the specified class properties to the class
			// properties.
			if ( this.hasOwnProperty( propName ) &&
				"classInit" !== propName &&
				!base2.Base[ propName ] &&
				!classProperties[ propName ] ) {
				classProperties[ propName ] = this[ propName ];
			}
		}

		// Define the class.
		var clazz = base2.Base.extend.apply( this, [ instanceProperties, classProperties ] );

		// Call that class initializer function if it has been defined.
		if ("function" === typeof(clazz.classInit)) {
			clazz.classInit.call(clazz);
		}

		// Return the class definition.
		return clazz;
	};
	
}( jQuery ) );	registration.namespace( "utils.errors" );

registration.utils.errors.throwException = function( name, message ){
	var error = new Error();  
	error.name = name || "";  
	error.message = message || "";  
	throw ( error );	
};( function( $ ) {
	
	registration.namespace("utils.querystrings");

	//TODO: memoize this so we only have to split the QS apart once
	registration.utils.querystrings.getValue = function( name, href ) {
		href = href || window.location.href;
		
		var pairs, pair, value = "";
		var qs = href.split( "?" );
		
		if ( qs.length > 1 ) {
			qs = qs[ 1 ].split( "#" )[ 0 ];
			pairs = qs.split( "&" );
			for ( var i = 0, length = pairs.length; i < length; i++ ) {
				pair = pairs[ i ].split( "=" );
				if ( pair[ 0 ] == name && pair[ 1 ] ) {
					value = pair[ 1 ];
				}
			}

		}
		
		return value;
	};
	
	registration.utils.querystrings.paramsToObject = function( queryString ){
		  var urlParamsArr = {};

	       	// Parse the URL parameters into urlParamsArr
	   		var urlParams = queryString.split( "&" );

	   		for( var i = 0; i < urlParams.length; i++ ){
	   		    var ret =  urlParams[ i ].toString().split( "=" );
	   		    urlParamsArr[ ret[ 0 ] ] = decodeURIComponent( ret[ 1 ] );
	   		}
	
		return urlParamsArr;
	
	};
	
	registration.utils.querystrings.buildFromObject = function( arr , currentQS ){
		
		var newQueryString = currentQS || "";
		for( var i in arr ){
			if( arr.hasOwnProperty( i ) ){
				newQueryString += ( newQueryString === "" ? "?" : "&" );
				newQueryString += i + "=" + arr[ i ];
			}
		}
		return newQueryString;
	};
	
	registration.utils.querystrings.build = function( arr, currentQS ) {

		var qs = currentQS || "";

		$.each( arr, function( i ) {

			if ( this.key && this.value !== undefined && this.value !== null ) {
				qs += ( qs === "" ? "?" : "&" );
				qs += this.key + "=" + this.value;
			}

		} );

		return qs;

	};

} )( jQuery );/**
 * Utilities class for communicating with the WebMessage servlet for the account
 * signup process.
 */
( function( $ ) {
	
	registration.namespace( "utils.webMessage" );

	var defaultMasterId = 'gAtVwDLOydoIUNMji77wcA';

	registration.utils.webMessage.loginModal = function( options ){

		var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/signon.html";
		
		if( options.data.successfulLoginRedirect ){
			registration.manager.config.setConfig( "successfulLoginRedirect", options.data.successfulLoginRedirect );
		}
		
		var immutableOptions = {
			url: url
		};
		
		var mutableOptions = {
			data:{
				view: "modal",
				referer: registration.manager.config.getConfig( "hostname" )
			}
		};
		
		//TODO make this not a webMessage
		return registration.core.transport.getIframe( mutableOptions, options, immutableOptions );

	};


	registration.utils.webMessage.sendResetPasswordEmailInstructions = function( email, landingPage, options ){

		//TODO fix this
		var landingPage = landingPage || document.location.href;
		var email = email || " ";
		var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/isoemailresetinstructions/jsonp/" + 
				  email + '/' + registration.manager.config.getConfig( "productCode" ) +"/" + "?email=" + email + 
				  "&product_code=" + registration.manager.config.getConfig( "productCode" ) + "&landingPage=" + landingPage;

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
		
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.resetUsersPassword = function( password, passwordmatch , h_token, email_token, options ){
		
		var password = password || " ";
		var passwordmatch = passwordmatch || " ";
		
		var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/isoresetpassword/jsonp/" +
		password + "/" + passwordmatch + "/" +  h_token + "/" + email_token;
		
		///{email}/{password}/{password2}/{hashToken}/{emailToken}
		
		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
		
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );
		
	};
	
	registration.utils.webMessage.resetPassword = function( options ){

		var template = '<span class="dialogHead">Create a new password</span>'+
						'<p class="dialogMessage">Please create a new password to use for your account:</p>'+
						'<form id="resetPasswordForm">'+
						    '<fieldset>'+
						        '<label for="password" class="label">New Password</label>'+
						        '<input id="password" name="password" class="password input" type="password">'+
						    '</fieldset>'+
						     '<fieldset>'+
						        '<label for="password2" class="label">Confirm New Password</label>'+
						        '<input id="passwordConfirm" name="passwordConfirm" class="password input" type="password">'+
						    '</fieldset>'+
						    '<fieldset>'+
						        '<button class="submit" type="submit">Submit</button>'+
						    '</fieldset>'+
						     '<div class="formErrors"></div>'+
						'</form>';
		//build html via a template
		return template;

	};

	registration.utils.webMessage.forgetPassword = function( options ){
		
		var template = '<span class="dialogHead">Lost your password?</span>'+
						'<p class="dialogMessage">Enter your email address below and we\'ll send you a link to where you can create a new password.</p>'+
						'<form id="forgetPasswordForm">'+
						    '<fieldset>'+
						        '<label>Email Address:</label>'+
						        '<input id="emailAddress" type="text" name="email" />'+
						    '</fieldset>'+
						    '<fieldset>'+
						        '<button class="submit" type="submit">Submit</button>'+
						    '</fieldset>'+
						    '<div class="formErrors"></div>'+
						'</form>';
		
		//build html via a template
		return template;

	};
	
	registration.utils.webMessage.createNewPassword = function( options ){

		var url = dummyHostTwo + "reset-password-form.signon";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.getHTMLContent( url );

	};
	
	registration.utils.webMessage.metrics = function( options ){

		var url = dummyHostTwo + "metrics.signon";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	/* Dont think we need this*/
	registration.utils.webMessage.emailAddressTakenModal = function( options ){

		var url = dummyHostTwo + "address-taken.signon";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
		/* Dont think we need this*/
	registration.utils.webMessage.passwordResetThanks = function( options ){

		var url = dummyHostTwo + "reset-password-thanks.signon";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.verifyEmailModal = function( options ){

		var url = dummyHostTwo + "verify-email.signon";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};

	registration.utils.webMessage.getUserInfo = function( options ){

		var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/userprofile/";

		var immutableOptions = {
			url: url,
			data: {
				signon_token : options.token
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.isUserLoggedIn = function( options ){
	
	
		var url = registration.manager.config.getConfig( "registrationHostname" )  + "/registration/agb.jsp";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			
		};

		return registration.core.transport.getHTMLContentWithOptions( mutableOptions, options, immutableOptions );
	
	};

	registration.utils.webMessage.activateErrorModal = function( options ){

		var url = dummyHostTwo + "activate-error.signon";

		var immutableOptions = {
			url: url
		};

		var mutableOptions = {
			requestType: registration.core.transport.GET_REQUEST
		};
		
		return registration.core.transport.getHTMLContentWithOptions( mutableOptions, options, immutableOptions );

		//return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.suggestedUsernames = function( masterId, username, options ){

		var url = registration.manager.config.getConfig( "registrationHostname" )  + "/registration/trbsecurity/suggestedusernames/jsonp";

		var immutableOptions = {
			url: url,
			data: {
				"user_name": username,
				"master_id" : masterId || defaultMasterId, 
				"product_code" : registration.manager.config.getConfig( "productCode" ) 
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};
		
		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};

	registration.utils.webMessage.submitConsumerProfile = function( validationToken, formData, options ){
		
		var url =  registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/consumerprofile/jsonp/save";

		var immutableOptions = {
			url  : url,
			data : {
				"api_key"		: validationToken,
				"master_id"		: formData.masterId,
				"product_code"  : registration.manager.config.getConfig( "productCode" ),
				"landingPage"   : "default",
				"userName" 		: formData.username,
				"email"			: formData.email,
				"optout"        : formData.optout,
				"tos"			: formData.tos,
				"zipCode"		: formData.zipcode
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.getConsumerProfile = function( masterId, options ){
		
		var url =  registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/consumerprofile/jsonp";

		var immutableOptions = {
			url  : url,
			data : {
				"master_id"		: masterId,
				"product_code"  : registration.manager.config.getConfig( "productCode" )
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};

	registration.utils.webMessage.createNewAccount = function( validationToken, formData,  options ){
		//TODO make this more dynamic for form elements that are removed or added later
		var url =  registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/isocreatenewaccount/jsonp?";

		var immutableOptions = {
			url  : url,
			data : {
				"api_key"		: validationToken,
				"product_code"  : registration.manager.config.getConfig( "productCode" ),
				"username"		: formData.username,
				"email"			: formData.email,
				"verifyEmail"   : formData.email,
				"password"		: formData.password,
				"verifyPassword": formData.password
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	registration.utils.webMessage.verifyCaptcha = function( options ){
		
		var url =  registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/validcaptcha/jsonp?";

		var immutableOptions = {
			url  : url,
			data : {
				"answer"	 : "",
				"challenge"  : "", 
				"ip_address" : "",
				"product_code"  : registration.manager.config.getConfig( "productCode" ) 
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.profileContentRules = function( apiKey, options ){
		
		var url =  registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/profilecontentrules/jsonp";

		var immutableOptions = {
			url  : url,
			data : {
				"api_key"		: apiKey || "",
				"profile_type"  : "/", 
				"product_code"  : registration.manager.config.getConfig( "productCode" ) 
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};

		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	
	registration.utils.webMessage.submitNewsletters = function( inputs, options ){
		
		var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/subscription/subscribe/subscriptions/jsonp/save";
	
		var immutableOptions = {
			url  : url,
			data : inputs
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};
		
		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};
	
	registration.utils.webMessage.getNewsletters = function( masterId, options ){
		var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/subscription/subscribe/offers/jsonp";
	
		var immutableOptions = {
			url  : url,
			data:{
				"master_id"    : masterId,
				"product_code" : registration.manager.config.getConfig( "productCode" ) 
			}
		};

		var mutableOptions = {
			dataType: registration.core.transport.JSONP_DATA_TYPE
		};
		
		return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );

	};

	registration.utils.webMessage.tokenRetriever = function( options ){
			
			var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/tokenretriever/jsonp?";

			var immutableOptions = {
				url  : url,
				data:{
					"product_code" : registration.manager.config.getConfig( "productCode" ) 
				}
			};

			var mutableOptions = {
				dataType: registration.core.transport.JSONP_DATA_TYPE
			};

			return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );	
	};
	
	registration.utils.webMessage.initializeUserSession = function( options ){
			
			var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/initializeusersession/jsonp?";
			var data = {
				"product_code" : registration.manager.config.getConfig( "productCode" ) 
			};
			
			if( registration.utils.cookies.getValue( 'c_mId' ) ){
				data.master_id = registration.utils.cookies.getValue( 'c_mId' );
			}

			var immutableOptions = {
				url  : url,
				data : data
			};

			var mutableOptions = {
				dataType: registration.core.transport.JSONP_DATA_TYPE
			};

			return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );	
	};	
	
	registration.utils.webMessage.getMeteringLoginIdentifier = function( identifier, options ){
			
			var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/meteringlogin/jsonp/" + identifier;
			var data = {
				"product_code" : registration.manager.config.getConfig( "productCode" ) 
			}
			
			if( registration.utils.cookies.getValue( 'c_mId' ) ){
				data.master_id = registration.utils.cookies.getValue( 'c_mId' );
			}

			var immutableOptions = {
				url  : url,
				data : data
			};

			var mutableOptions = {
				dataType: registration.core.transport.JSONP_DATA_TYPE
			};

			return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );	
	};	
	
	registration.utils.webMessage.makeMeteringLoginIdentifier = function( options ){
			
			var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/meteringlogin/jsonp/generate";
			var data = {
				"product_code" : registration.manager.config.getConfig( "productCode" )
			}
			
			if( registration.utils.cookies.getValue( 'c_mId' ) ){
				data.master_id = registration.utils.cookies.getValue( 'c_mId' );
			}

			var immutableOptions = {
				url  : url,
				data : data
			};

			var mutableOptions = {
				dataType: registration.core.transport.JSONP_DATA_TYPE
			};

			return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );	
	};
	
	registration.utils.webMessage.deleteMeteringLoginIdentifier = function( identifier , options ){
			
			var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/trbsecurity/meteringlogin/jsonp/delete/" + identifier;
			var data = {
				"product_code" : registration.manager.config.getConfig( "productCode" ) 
			}
			
			if( registration.utils.cookies.getValue( 'c_mId' ) ){
				data.master_id = registration.utils.cookies.getValue( 'c_mId' );
			}

			var immutableOptions = {
				url  : url,
				data : data
			};

			var mutableOptions = {
				dataType: registration.core.transport.JSONP_DATA_TYPE
			};

			return registration.core.transport.postToWebMessageWithOptions( mutableOptions, options, immutableOptions );	
	};
	

 registration.utils.webMessage.stubWebService = function( options ){
	//you could pass this callbacks and data and booleans for success and error for testing
	// options = {
	// 	data : {
	// 		foo: "bar",
	// 		bar: "baz"
	// 	},
	// 	error: true,
	// 	successCallback: function( data ){
	// 		alert( data.foo );
	// 	},
	// 	errorCallback: function( data ){
	// 		alert( data.bar );
	// 	}	
	// 	
	// }
	if ( options.success && options.successCallback ){
		options.successCallback( options.data );
	}
	
	if ( options.error && options.errorCallback ){
		options.errorCallback( options.data );
	}	
	
};
	
} )( jQuery );
	
( function( $ ) {

	registration.namespace( "utils" );

	/**
	 * @namespace
	 * 
	 * Utility methods for manipulating DOM elements.
	 */
	registration.utils.dom = {
		/**
		 * Gets a (mostly) unique identifier using the client's timestamp and a
		 * random number. Optional prefix parameter prefixes the unique id with
		 * an arbitrary string.
		 * 
		 * @param {String} prefix  A value that is prepended to the randomly
		 *                         generated identifier.
		 * 
		 * @returns {String} A unique identifier.
		 */
		getUniqueId: function( prefix ) {
			prefix = prefix || "";
			var timeStamp = ( new Date().getTime() ).toString();
			var rand = ( Math.floor( ( Math.random() * 100000) ) ).toString();
			return prefix + timeStamp + rand;
		},
		
		createIframe: function( options ){
		
			var newTarget = options.url; 
			
			if( options.data ){
				newTarget += registration.utils.querystrings.buildFromObject( options.data );
			}	

			var iframe = document.createElement( "iframe" ); 
			iframe.setAttribute("src", newTarget ); 
			iframe.setAttribute("frameBorder", 0 ); 
			iframe.setAttribute("border", 0 ); 
			iframe.setAttribute("allowTransparency", "true" ); 
			return iframe;
		},

		createPopup: function( url , name, opts ){
			
			if( opts ){	
				window.open( url, name, opts );		
			}
			else{
				window.open( url );	
			}
			
			
		}
	};
	
})( jQuery );registration.namespace( "utils.cookies" );

registration.utils.cookies = {
	
	getCookieDomain: function(){
		
	},
	
	getDefaultPath : function() {
		return "/";
	},
	
	getValue: function( name ){
	
		var start = document.cookie.indexOf( name + "=" );
		var len = start + name.length + 1;
		if ( ( !start ) &&
		( name != document.cookie.substring( 0, name.length ) ) )
		{
		return null;
		}
		if ( start == -1 ) {
			return null;
		}
		var end = document.cookie.indexOf( ";", len );
		if ( end == -1 ) {
			end = document.cookie.length;
		}
		return unescape( document.cookie.substring( len, end ) );
		
	},
	
	setValue : function(  name, value, expires, path, domain, secure ) {
		// set time, it's in milliseconds
		var today = new Date();
		today.setTime( today.getTime() );

		/*
		if the expires variable is set, make the correct
		expires time, the current script below will set
		it for x number of days, to make it for hours,
		delete * 24, for minutes, delete * 60 * 24
		*/
		if ( expires )
		{
		expires = expires * 1000 * 60 * 60 * 24;
		}
		var expires_date = new Date( today.getTime() + (expires) );

		document.cookie = name + "=" +escape( value ) +
		( ( expires ) ? ";expires=" + expires_date.toGMTString() : "" ) +
		( ( path ) ? ";path=" + path : "" ) +
		( ( domain ) ? ";domain=" + domain : "" ) +
		( ( secure ) ? ";secure" : "" );

	},
	
	cookieDomain : function( name ) {
		var i,x,y,ARRcookies=document.cookie.split(";");
		for (i=0;i<ARRcookies.length;i++)
		  {
		  x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
		  y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
		  x=x.replace(/^\s+|\s+$/g,"");
		  if (x==name)
		    {
		    return unescape(y);
		    }
		  }
	},
	
	testValue : function( name, values ) {

	},
	
	deleteCookie : function(  name, path, domain  ){
		if ( registration.utils.cookies.cookieDomain( name ) ) {
			document.cookie = name + "=" +
			( ( path ) ? ";path=" + path : "") +
			( ( domain ) ? ";domain=" + domain : "" ) +
			";expires=Thu, 01-Jan-1970 00:00:01 GMT";
		}
	}
};registration.namespace( "utils.objects" );

registration.utils.objects = {
	
	isObject : function( object ){
		return object.constructor == Object;
	},
	
	isAJqueryCollection : function( object ){
		return object.jquery !== undefined;
	},
	
	isArray : function( object ) {
		return Object.prototype.toString.apply( object ) === '[object Array]';
	},
	
	toBoolean : function( input ) {
		var output = input;

		if ("boolean" !== typeof( input ) ) {
			output = ( "true" === input );
		}

		return output;
	}
	
};
registration.namespace( "utils.forms" );

registration.utils.forms = {
	
	serializeForm : function(selector){
		
	},
	
	deSerializeForm : function(selector){
		
	},

	isTextField : function( element ){
		return element.nodeName == "TEXTAREA" && 
			   ( element.type == "textarea" || element.type == "hidden" );
	},
	
	isInput : function( element ){
		return element.nodeName == "INPUT" && 
			   ( element.type == "text" || element.type == "hidden" || element.type == "password" );
	},

	isSelect : function( element ){
		return element.nodeName == "SELECT";
	},

	isCheckbox : function( element ){
		return element.nodeName == "INPUT" && 
			   element.type == "checkbox";
	},
	
	isRadio : function ( element ){
		if ( element ){
			return element.nodeName == "INPUT" &&
			 	   element.type == "radio";
		}
	},
	checkBoxToBoolean: function( value ){
		
		return ( value  == "on" ) ? true : false ;
	
	},
	
	disableButton: function( element ){
		
		if 	( registration.utils.objects.isAJqueryCollection( element ) ){
		
			element.attr("disabled", "disabled");

		} else {
				
			$(element).attr("disabled", "disabled");
		}
		
	},
	enableButton: function( element ){
		if 	( registration.utils.objects.isAJqueryCollection( element ) ){		
	
			element.removeAttr("disabled");
			
		} else {
	
			$(element).removeAttr("disabled");
		}
	
	}
		
	
};/* utilities to format objects into strings of html */

( function( $ ) { 
	
	registration.namespace( "utils.formatting" );
	
	registration.utils.formatting = {
	
		stripWhiteSpace : function( value ){
			if( !value ){
				return "";
			}
			return value.replace(/^\s+|\s+$/g,""); 
		},
		
		cleanInput: function(){
			
		},
		
		expressionReplacement : function( template, expression, value ){
		
			var regex;
			if( value == null ){
				value = "";
			}
			if( typeof( expression ) == "string" ){
				regex = new RegExp('\\$\\{param.' + expression + '\\}', 'g');
			}
			else{
				regex = expression;
			}
			template = template.replace( regex , value );
			return template;
		}
	
	};
	
	
})( jQuery );registration.namespace( "utils.strings" );

registration.utils.strings = {
	
	isAString : function( string ){
		return string.constructor === String;
	},
	
	capitalizeFirstLetter: function ( str ) {
	    var firstLetter = str.substr( 0, 1 );
	    return firstLetter.toUpperCase() + str.substr( 1 );
	},
	
	isEmpty: function( value ){
		//handle whitespace characters
		if( value == "" ){
			return true;
		}
		else{
			return false;
		}
	},	

	hasHash : function( stringToCheck ){
	    //logger.info('checking for hash in color hex');
	    return stringToCheck.search( '#' ) != -1;
	},

	 /*
	  @property ssorHexRemoveHash
	 * @description Checks to see if there is a hash passed in the hex color and removes it
	 * @return {String} the hex color without the hash      
	 */
	ssorHexRemoveHash : function( color ){

	    if( this.hasHash( color ) ){
	        color = color.replace( '#' , '' );
	      //  logger.info('background Color is: ' + color );
	        return color;    
	    }
	    else{
	      //  logger.info('background Color is: ' + color );
	        return color;
	    }
	},

	/**
	 * @static
	 *
	 * Removes leading and trailing whitespace from a string
	 *
	 * @param {string} str The string to be trimmed
	 *
	 * @return {string} The trimmed string
	 */

	trim : function( str ) {

		var trimmed = str;

		var regEx = /^[\s]*([^\s]*)[\s]*$/;
		var match = regEx.exec( String( str ) );
	
	    if ( match && match.length > 1 ) {
	        trimmed = match[ 1 ];
	    }

		return trimmed;

	},



	/**
	 * @static
	 *
	 * Escapes HTML angle brackets so that HTML/XML source code can be
	 *       appended to the DOM as text rather than nodes
	 *
	 * @param {String} str The string to be transformed
	 *
	 * @return {String} The trasnformed string
	 */
	escapeHTML : function( str ) {

		var returnValue = String( str ).replace(/\</g, "&lt;").replace( /\>/g, "&gt;" );
	
		return returnValue;

	},

	/**
	 * @static
	 *
	 * Strips non numeral characters from a string, including: [.,-]
	 *
	 * @param {string} str The string to strip chars from
	 *
	 * @return {string} String with non numeral chars stripped out
	 */
	stripNonNumerals : function( str ) {
    
	    var regEx = /[^0-9]/g;
    
	    var returnValue = String( str ).replace( regEx, "" );

		return returnValue;
    
	},

	/**
	 * @static
	 *
	 * Transforms tabs and line breaks from JavaScript to HTML format
	 *
	 * @param {string} str The string to be transformed
	 *
	 * @return {string} The trasnformed string
	 */
	toHTML : function( str ) {

		var returnValue = String( str ).replace( /\n/g, "<br />" ).replace( /\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" );
	
		return returnValue;
	},
	
	/**
	 * @static
	 *
	 * Extracts a usable number (optional negative sign, digits, decimals) from a string or number
	 *
	 * @param {string} input The string to be transformed
	 *
	 * @return {string} The trasnformed string
	 */
	extractNumberAsString : function( input ) {

		if ( input === undefined || input === null ) {
		
			input = "";
		}
		
		var newString = String( input ).replace( /[^-.0-9]/g, "" );
		
		return newString;
		
	},
	
	sanitizeQueryUrl : function( url ){
		if ( url.charAt( url.length-1 ) != "?" ){
				url += "?";
			}
		return url;
	},
	
	
	removeTrailingSlash : function( url ){
		var lastCharacter = url.charAt( url.length-1 );
		if( lastCharacter == "/" ) {
			url = url.slice( 0, url.length-1 );
		}
		return url;
	},
	
	/**
	 * @static
	 *
	 * Extracts a usable number (optional negative sign, digits, decimals) from a string or number
	 *
	 * @param {string} str The string to be transformed
	 *
	 * @return {number} The trasnformed number
	 */
	extractNumberAsNumber : function( input ) {
		var newNumber = Number( registration.utils.strings.extractNumberAsString( input ) );
		
		if ( isNaN( newNumber ) ) {
		//log something
		}
		
		return newNumber;
	},
	
	parseStringValue : function( value, delimiter ){
		return value.split( delimiter );
	}
	
	
	
};registration.namespace( "utils.arrays" );

registration.utils.arrays = {
	
	isEmpty: function( array ){
		return ( array.length == 0 ) ? true : false;
	}
	
};
registration.namespace( "utils.dates" );

registration.utils.dates = {

	/**
	 * @static
	 * 
	 * Transform an integer into the number of milliseconds contained
	 * in the corresponding number of days
	 */
	getDaysInMilliseconds : function( days ) {

		if ( isNaN( days ) ) {
			return null;
		}

		return ( days * 1000 * 60 * 60 * 24 );

	},

	/**
	 * @static
	 *
	 * Returns a timestamp that can be compared to other timestamps
	 *
	 * @return {int} Returns an integer representing the current date in
	 *          milliseconds
	 */
	getTimeStamp : function() {
		return new Date().getTime();
	},
	

	/**
	 * @static
	 * 
	 * Transform an integer into the number of milliseconds contained
	 * in the corresponding number of days
	 */
	getDaysInMilliseconds : function( days ) {

		if ( isNaN( days ) ) {
			return null;
		}

		return ( days * 1000 * 60 * 60 * 24 );

	},
	/**
	 * @static
	 * 
	 * Get the number of days in the given month for the given year
	 */
	getDaysInMonth : function( month, year ) {
	
		var isLeap = (
			( year % 4 === 
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 23 Jul 2009 22:12:37 GMT
ETag: "1450-4a68e055"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 5200
---Content---
var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;function ControlVersion()
{var version;var axo;var e;try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");version=axo.GetVariable("$version");}catch(e){}
if(!version)
{try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");version="WIN 6,0,21,0";axo.AllowScriptAccess="always";version=axo.GetVariable("$version");}catch(e){}}
if(!version)
{try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");version=axo.GetVariable("$version");}catch(e){}}
if(!version)
{try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");version="WIN 3,0,18,0";}catch(e){}}
if(!version)
{try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");version="WIN 2,0,0,11";}catch(e){version=-1;}}
return version;}
function GetSwfVer(){var flashVer=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var versionRevision=descArray[3];if(versionRevision==""){versionRevision=descArray[4];}
if(versionRevision[0]=="d"){versionRevision=versionRevision.substring(1);}else if(versionRevision[0]=="r"){versionRevision=versionRevision.substring(1);if(versionRevision.indexOf("d")>0){versionRevision=versionRevision.substring(0,versionRevision.indexOf("d"));}}
var flashVer=versionMajor+"."+versionMinor+"."+versionRevision;}}
else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1)flashVer=4;else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1)flashVer=3;else if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1)flashVer=2;else if(isIE&&isWin&&!isOpera){flashVer=ControlVersion();}
return flashVer;}
function DetectFlashVer(reqMajorVer,reqMinorVer,reqRevision)
{versionStr=GetSwfVer();if(versionStr==-1){return false;}else if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}
var versionMajor=versionArray[0];var versionMinor=versionArray[1];var versionRevision=versionArray[2];if(versionMajor>parseFloat(reqMajorVer)){return true;}else if(versionMajor==parseFloat(reqMajorVer)){if(versionMinor>parseFloat(reqMinorVer))
return true;else if(versionMinor==parseFloat(reqMinorVer)){if(versionRevision>=parseFloat(reqRevision))
return true;}}
return false;}}
function AC_AddExtension(src,ext)
{if(src.indexOf('?')!=-1)
return src.replace(/\?/,ext+'?');else
return src+ext;}
function AC_Generateobj(objAttrs,params,embedAttrs)
{var str='';if(isIE&&isWin&&!isOpera)
{str+='<object ';for(var i in objAttrs)
{str+=i+'="'+objAttrs[i]+'" ';}
str+='>';for(var i in params)
{str+='<param name="'+i+'" value="'+params[i]+'" /> ';}
str+='</object>';}
else
{str+='<embed ';for(var i in embedAttrs)
{str+=i+'="'+embedAttrs[i]+'" ';}
str+='> </embed>';}
document.write(str);}
function AC_FL_RunContent(){var ret=AC_GetArgs
(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(ret.objAttrs,ret.params,ret.embedAttrs);}
function AC_SW_RunContent(){var ret=AC_GetArgs
(arguments,".dcr","src","clsid:166B1BCA-3F9C-11CF-8075-444553540000",null);AC_Generateobj(ret.objAttrs,ret.params,ret.embedAttrs);}
function AC_GetArgs(args,ext,srcParamName,classid,mimeType){var ret=new Object();ret.embedAttrs=new Object();ret.params=new Object();ret.objAttrs=new Object();for(var i=0;i<args.length;i=i+2){var currArg=args[i].toLowerCase();switch(currArg){case"classid":break;case"pluginspage":ret.embedAttrs[args[i]]=args[i+1];break;case"src":case"movie":args[i+1]=AC_AddExtension(args[i+1],ext);ret.embedAttrs["src"]=args[i+1];ret.params[srcParamName]=args[i+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblclick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":ret.objAttrs[args[i]]=args[i+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":ret.embedAttrs[args[i]]=ret.objAttrs[args[i]]=args[i+1];break;default:ret.embedAttrs[args[i]]=ret.params[args[i]]=args[i+1];}}
ret.objAttrs["classid"]=classid;if(mimeType)ret.embedAttrs["type"]=mimeType;return ret;}
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Length: 9072
Content-Type: image/png
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 01 Jun 2010 13:56:49 GMT
ETag: "2370-4c0511a1"
Accept-Ranges: bytes
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
---Content---
PNG

   IHDR     @   *?   tEXtSoftware Adobe ImageReadyqe<  #IDATx]}p%e
cV0?)?H+$//r|xWpwEk(b;*&?]$ZPKt^Z/_Xjv{SFFF4E)RY4U@"E)QH"E
x)RH"<)RH?"E)RF_LRPh;}!Cgf?v?Fge!E<u6erVRp@u#"yoi`oG@Y7vO/m\ v&|$Y&g"&:.B[Tq~G<>=] L?\]1`nzP?	5!S(=}?Q}Vi?LbAG0R<8y 2ob?\?~?74C;t?}:92=^>JyMw?R"?QVy{t^iG$.9sfazb!O$OE)g$jOl}R{vgltV,]f?*7EceN? N egnkW%=jK)8#-h~:?8C$^<yt=C"~C`E?M@782vyd;uxx@j<k $x-;x<B<mwK.=>t<2E>G(
qGxb3?T{V4?k?ySNDP >Mx-"">nzpAp?{q| EQ?UoG]?LqX@b.?V[A{ oMvt?;=={] j 2?A^xzG=% <?V"+W?">!O'uHVx11>}%cUc2wuqx8Q9#Ug?C0N<f!vo
~;w`{b?1!?7^nl>'dM7Qevkm3r;4=Lk{5?v"*Obhxt7~OKoI<-M7c+rk^?r<n9>XtoeQh4zhZG4B:zx<Cs'gx&	6=p@9<	~%q{y
fxg#g0~W^y7S87*G\Q<RP1028?[3}q~w(U9nM}<}pB~|NVAxn!cgqH<& ^#D6?6s@=c{QW	qEB?kHLJ^SR+2	K- %hy[lkwKX!,? o9dQN:"f52M8PY(@?tqR ?gnVLqO}Jj&Z$$?7)`@FUjU'({k/?){?64o?17]|iD9^ c[>\d;@?2Inrxut"#t?S@}7~,w,8s&?wZjt%Oc<6_o@J?(Zhh~2@?U5%{1ynObr 8	?" x&* =V  *2F"((k.NbZ5h*"qoBp}#n?pImnI
$v?-xk5 yQ?fm?To6~BP?"?(4~Hrn#voX0
v%=?Xs3:LZN<c6X_j?2?LS>do"@Dkc{.?{f?EMq]Dr)i#fw\Pa\xKEG{9x}4:	6{OO:PES9&^;5?#.N_!J|osPyg??=AyVa0y8?	I:^?7"w(?e n jvKQKSvy5,vHdp~lB)?ocy9YcP#\^l1YxjA8au	8B(Bk[vq.???C)"6aLh 8?\I{?~af?Vz&Xu/^og6\ W}>0}?~"x4*f;7v~>syyNx}G9
}}.erX9[!K}DLC0e rIc,:Vp}vp(4D>L0?-v>G={^:9}^8j* EM,?fqM7 {@=-<h	f;A3gZ&o>mm!){7cxTDpApG`Hx2K4s_]tY7L:_TH#3~=`HH]sKorsm{(tg326m.O:]Y?q5&U9]?l~,V!\P?{<3x,FWv "?I.>lNs(r[n-.\eqHXpKf+2?+|d =NF$4?:*b!'a=d^-O^xIyx
<%#w@I7onfG:mJ_ulh9*;OnsRt?G_:kU?Vh5/[c7f
lH=>vcs&V_1H!7%Ac=Ap9Yd
 g2@/pdsN2vWzw^?M0R-rvz?8tUf(?9O2f?P/}?jC?(:;y\?kg;?5W]ULU`%/[iNv6-;P<?GQt.d7a/[ [?TY,s"[:IW};eac=E
Uq/7?aZO"pS` !:qc_m.Ab$gPYW^~o|3%qX?w/)K+p|/oq+\\\ ''?kgB.IE~ec*z9R,j)_FzC?jE9l:Q+?~<uOmk;Bn2$#?+:oy@lNMukmSIMx}H,#}]?o<C+J*1%bHK9U*=, ^zR?P&xiL xR3#Mi@FJh??Dj)aS|h{^?k+9yh4DeLsz?5Y6W#:@pvcw1<xG7Hq '>s@ -2o&x?K~JHlX\\>>(0}-G7%K[<QVc?;gQa7hgI(ahC?.! s$)0 E?}U|_Dod9YL*CnY?"$u|	N&0J?0%v_]VkB!?tAKjB$64\.oPM@<?'N5@;G%x!KdkU'f/S`bSJ#<7BnIMo~?}^}?Rn%2fJ	 sW#DK!Oq2/???J(	l%oMu#~6Nul.p\Lb 'C3&X;wI-R*< _q$VLp8lu?*:}Tn2*SE<?*}?R4U?*DysLOW^~Kkh5.n&!B5k?13*Pc'&|Ey?nQb??H 9'`=~/"LV;
o&&gk(?t"|m6V*zE=_?<$s$`!9sk$[%h q+a|<xPC?N-w5Ru:EC2F?:**Si>c*^}]#O+j{:?4R'UMTd;ldGE</OWl|VeD!?SI%T:?pr'[J"9`3}04T??rNnFl?O?
?,Op,p#? 2mj?I/eampSp>eb/7{_]1^S'#?<}%M0#?zxO,?r90V0W]}Ue'}g:/WH0Irbn*9{*eoA$?s*1je#%w)zz?=,AEy%9f\Lof#]rq'*S^&KJ\\$2	<+{4xc>p9|\zO&{/Yd'/KnM]b8y_2<ZZN0+R[2}!~AG/"K/RtX'z18utMJ')z0E`;7{u[JcjhGh`:=p	?IALQalDz+=BN7?{Y$47:LnyRcSW;N8G?}<`8k<7X~%0 z?lMa??+@JT%XmGqv+]9zd:[k4<x0UH,G^g}>QZ\`y6^&>?f
1?iC9f6yR8VZr)yx!M&-
YgvA6FMD?NyCGL?Uz?@m%~+CY"Vhq*?8aC:e=-r@bdK.1`<x^8=KK$SE{O:?IZtI.&L	"pv<Pi/	hW@H l: M+E]:d7)5~gXtR[J ?d|9q%)wa+4??MiOq:NOhH5@@S?qpN4S(Wlto
R C"c7,M/tQ:HHFj]VDzE.gD4M@mv{w\Dyp? 2?j}pVov?,	?!|2B5?it?&F%t-&eI?JG=2^" f?"+oXi%?a_\p96v?}tlv<}xd'o
)+_|k@]6hP *N8IFBoEX?G?wN>C`!?~>iY5GNtLux\kYzKQ?Uwx:jNTo
?8?3b?6c<%9[?4QgCVV{d?&qhR>%F%)Pc#bhf"~
~+8:'vTn_wV|L0^,j=?aX #oqR	gtu1?eEg<\kiCr2zA#:\IeD\@>$D|?\o?D?6D!SS>)Fm:A<p7oRnSWm0Ai@; g.Xxtpq279oE?edm=T/=/%[?>dK,Yt?-C_\K=222:4e0Kpdu?g?)(NS;n7~l
2n619_XzC?t.,O?=.H'#o;%}LHcK>w77@,],:a/_%J$w?R8;}YDe;W]cRFN3f$z#R%B=Us<d_2?1G{xnk3@>fc~b|~SKb0 HmL&k[#~xH0!;9'4ft[w5<jL[{lu97"F5=/HsKWr,ZJ},?	a 5b.s+zV^6x%R<}a6y;a3PU*AiSjo?J??n wd-99(4Jb{OTg|-[kA=/NkG'Js'<WQ?ob)^~= tWx`dS-Ls^d?\yj?=OJ=9Hjn$p>* F ??T7sh:qikTh;97 ?NGJ>gisZG/[:+,RdgkUwWG8??s(=:r+w0{5;Ln0?k]urR?>:HZ<e|}ga_O1UtD1w^y&Am? ?1j?v#MKi7g?1X
.:
?DY0]Hcx^H?9%oo\}M=aa"#]oMorAG.?-1kA7
nr~Aru\?T%[d_\@)aqm^tr%
]?xLBIwv`PL8X=VpsRx>Axx?3w1xt$*Hef!?M8Z58edZ\a<M-;ZK`kK| ?4C-:>x?~?6HTV'}+[\xQ;^W=<e OybUGI%d|?wD7_#?	KCuz^MjK?9MMDh1?s>RGjw]d,>dNro 6bF|la7FSx6=uW6il9|OfSN) `";)=caYQC.#n","'><(4\ 
VQd+RbG(TBaWq#.PHQH?fe	/" [(qspa+)RGShtR:qU<(6(jY5{~&l4p'C;)Qhx5#A
l|
  :	=*Xb2Lw(n+R4#<<6f_CW?m_7\
_ pe_;ES@?w#a=`aHoO)R?"Ev?QCCC9NGEH"E5*(RH"<)RH?"E)RG"Eq LG`    IENDB`
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@5b0fa5b7
---Content---
//////////////////////////////////
//
//  Latest change notes: 
//	- implement Remember Me Front End Cookie  2010-04-26
//
/////////////////////////////////

jQuery.extend(jQuery.fn,{
	serializeFormToJson : function(selector){
		var o = {};
		var a = this.find('select,input,textarea');
		a = ((selector)?a.filter(selector):a.not("*[skip=skip]"))
		.filter(function() {
			return this.name && !this.disabled && this.type!='submit';
		});
		jQuery.each(a, function() {
			var v = (!(/checkbox|radio/).test(this.type) || this.checked) ? (jQuery(this).val()) : '';
			if (o[this.name] && o[this.name].length) {
				if(v !== ''){
					if (!o[this.name].push) {
						o[this.name] = [o[this.name]];
					}
					o[this.name].push(v|| '');
				}
			} else {
				o[this.name] = v || '';
			}
		});
		return o;
	}
});

/**
 * carnival
 * @namespace
 */
var carnival = function($,document,window,undefined){
	var config= {};

	/**
	 * init - Constructor for carnival object
	 * @constructor
	 */
	var init = function(configs){
		

			config = {
				currentDomain : document.domain +(document.location.port.length ? (':'+document.location.port) : ''),
				cookieDomain : getCookieDomain(),
				c_mid : 'c_mId',
				c_unm : 'c_unm',
				c_llp : 'c_llp',
				c_rmc : 'c_rmc',
				c_prh : 'c_prh',
				c_prg : 'c_prg',
				userPath : '/registration',
				subscribePath : '/registration/subscription',
				modalCloseButton : '/hive/images/close.png',
				activateMessages : 'true'
			};

			if (!config.carnivalRM) {
				config.carnivalRM = 'init';
			}

			config = carnival.utils.merge(config,configs);

			if(!config.WSHostname){config.WSHostname = config.hostname;}
			carnival.user.getCookieProfile();
			handshake();
			carnival.utils.listener.listen('handshake',handshake);


	};

	/**
	 * getCookieDomain - gets the proper domain name that cookies should be set on
	 */
	var getCookieDomain = function(){
		var dDom = document.domain;
		return dDom.match(/^[0-9]{1,3}(\.[0-9]{1,3}){3}$/)?
			dDom //ip address
			:(dDom.split('.').length<3)?
				"."+dDom
				:!dDom.match(/\.trb$/)?
					"."+dDom.split('.').slice(1).join('.')
					:dDom.match(/\.(testprod|test|design|local)\.(tii|tila)\.trb$/)?
						"."+dDom.split('.').slice(-4).join('.')
						:"."+dDom.split('.').slice(-3).join('.');
	};

	/**
	 * handshake - method for determining actions based on URL parameters
	 */
	var handshake = function(argToken){
				
		// Getting URL var by its name
		var token = carnival.utils.getUrlVar('token');
		// Getting URL var by its name
		var isLogout = carnival.utils.getUrlVar('logout');
		
		
		//Gigya ISO cookie param for dynamic login
		if (!!argToken && argToken['ssopscn'] && argToken['ssopscv']) {
				carnival.configuration('ssopscn',argToken['ssopscn']);
				carnival.configuration('ssopscv',argToken['ssopscv']);
			}
		
		if(token===undefined && argToken!==undefined){
			if (!!argToken['autoLoginToken']) {
				//dynamic case
				token = argToken['autoLoginToken'];
			} else {
				//normal case through modal-close.jsp / .js
				token = argToken;
			}
		}
		
		
		if(isLogout == 'true' && argToken===undefined){
			if(carnival.user.isLoggedIn()){
				carnival.user.logout();
			}
			$(function(){carnival.utils.listener.fire('_carnival_after_logout_success');});
		} else {
			if( token !== undefined && !carnival.user.isLoggedIn() ){
				if(!!token) {
					//console.log("SHAKE SEES TOKEN");
					carnival.user.getBasicUserInfo(token,function(data){
						if(data.displayName=="trb_system"||data.id=="trbsignontoken_qaz_wsx"){
							//console.log("HANDSHAKE: TrbSystem Logout Case");
							carnival.user.carnivalLogout();
						}else if(data.isEmailExists == 'true' && data.isEmailVerified == 'true' && data.isConsumerProfileVerified !='true'){
							//console.log("HANDSHAKE: Email Token Case");
							$(function(){carnival.utils.listener.fire('_carnival_email_taken',{data:[data.sameEmailProvider]});});
						}else{
							//console.log("HANDSHAKE: After Handshake Success");
							$.cookies.del(configuration('c_unm'),{domain:configuration('cookieDomain'),path:'/'});
							$.cookies.del(configuration('c_llp'),{domain:configuration('cookieDomain'),path:'/'});
							$(function(){carnival.utils.listener.fire('_carnival_after_handshake_success');});
						}
					});
				} else {
					carnival.user.carnivalLogout();
				}
			} else if(carnival.utils.getUrlVar('verified') == 'true'){
				// removed to support ProgReg after verify flow - legacy listener, unused
				//$(function(){carnival.utils.listener.fire('_carnival_activate_done');});
			} else if(carnival.utils.getUrlVar('verified') == 'false'){
				$(function(){carnival.utils.listener.fire('_carnival_activate_error');});
			}	 else if(token !== undefined){
				window.location = carnival.utils.cleanLocation();
			} else if(carnival.utils.getUrlVar('reset_flag') !== undefined){
				//check for new modal library and show old modal if it does not exist
				$(document).ready( function(){
					if ( !window.registration ){
						var rFlag = carnival.utils.getUrlVar('reset_flag');
				
						if(rFlag ==='true'){
							$(function(){carnival.utils.listener.fire('_carnival_pass_create',
								{data:[{
									h_token:carnival.utils.getUrlVar('h_token'),
									email_token:carnival.utils.getUrlVar('email_token')
								}]}
							);});
						}else if(rFlag ==='false'){
							$(function(){carnival.utils.listener.fire('_carnival_pass_create_error');});
						}
				  }
		    });
			}
		}
		carnival.utils.listener.fire('_handshake_completed');
	};

	var afterHandShakeSuccess = function(func,scope){
		if(func && func.constructor == Function){
			carnival.utils.listener.listen('_carnival_after_handshake_success',func,scope);
		}
	};

	var afterHandShakeFail = function(func,scope){
		if(func && func.constructor == Function){
			carnival.utils.listener.listen('_carnival_after_handshake_fail',func,scope);
		}
	};

	/**
	 * configuration - Dynamic getter/setter for carnival configurations.  If no arguments
	 *   are passed, config object is returned.
	 * @param {String|Object} key Can be a string containing the name of the configuration
	 *   or an object containing configurations.
	 * @param {Object} value Value of cofig element set
	 */
	var configuration = function(key,value){
		if(key){
			if(key.constructor == String) {
				if(value!==undefined&&value!==null){
					config[key] = value;
					return value;
				}
			} else {
				config = carnival.utils.merge(config,key);
			}
			return config[key];
		}
		return config;
	};

	// return public methods
	return {init:init,configuration:configuration,afterHandShakeSuccess:afterHandShakeSuccess};
}(jQuery,document,window);


/**
 * modal - All functions needed for modal popup window
 * @namespace
 */
carnival.modal = function($,window,document,undefined){

	/**
	 * contentEl - jQuery object around DomNode to hold content
	 * initialized - boolean flag if modal has been initialized
	 * @private
	 */
	var contentEl,initialized = false;

	/**
	 * popit - function for opening a modal popup
	 * @param {String|DomNode} contents either a string containing the content or an element with an href to open
	 * @param {Function} callback
	 * @param {Function} closeCallback calback to call if window close
	 * @param {Object} modalConfig A configuration object to handle modal layout, containers, triggers and events
	 * @returns {Boolean} always false to stop further processing of link tags
	 */
	var popit = function( contents, callback, closeCallback, modalConfig ) {
		
		var registrationClass = "";
				
		var defaultModalConfig = {

			layout				: 'horizontal',
			isSticky			: false,
			container			: 'body',
			addClass 			: null,
			addWrapper			: null,
			triggerHandler		: '#signInLink',
			eventType 			: 'click',
			eventPreventDefault : false

		};

		var splitQueryString = function( href ){
			
			href = href || window.location.href;
			href = href.split( "?" );
			href[0] ="";
			href = href.join("");
			var qs = [];
			var parameters = href.split('&');

			for (var i = 0; i<parameters.length; i++) {
			    var pos = parameters[i].indexOf('=');
			    if (pos > 0) {
			        var paramname = parameters[i].substring(0,pos);
			        var paramval = parameters[i].substring(pos+1);
			        qs[paramname] = decodeURI(paramval.replace(/\+/g,' '));
			    } else {
			    	qs[parameters[i]]=""; 
			    }
			}
			return qs;
			
		};
		
		var thisContent = contents.href;
		var queryStringParams = splitQueryString( thisContent );
					
		if( queryStringParams[ 'modalClass' ] ){
			registrationClass = queryStringParams[ 'modalClass' ];
		}
		
		/** Merges the default modal config object and an optional modalConfig object used to 
			override defaults **/
		var thisModalConfig = carnival.utils.merge( defaultModalConfig, modalConfig );
		
		
		if ( modalConfig ) {

				
				var initializePopit = function(){
				
					//carnival.modal.removeIt();
					
					//respect forced layout? - not working
					//if (carnival.configuration('layout')) {
					//	thisModalConfig.layout = carnival.configuration('layout');
					//} else {
						carnival.configuration( 'layout', thisModalConfig.layout );
					//}
					
					/** If the method has not been initialized, the init method is called and the contentId 
						property is passed to the constructor **/	

					init( thisModalConfig );

					insertContent( contents, function(){

						positionIt( thisModalConfig.isSticky ); 

						if( callback ){ 
							callback(); 
						}

						if(thisModalConfig.layout == 'vertical'){
							var signInHeight = $('#ssorNavHeader').outerHeight(true);
							$('#carnivalModal').css('top',signInHeight+'px');
						}

					});
					
					if(closeCallback){
						carnival.utils.listener.kill('popitClose');
						carnival.utils.listener.listen('popitClose',closeCallback);
					}
					
					setTimeout( function(){
						$( document ).bind( 'keypress.carnivalModal', closeHandler );
					}, 200 );
					
					
				};
				
				
				//TODO make this cleaner
				if( modalConfig.eventType ){
					
					$( thisModalConfig.triggerHandler )[ thisModalConfig.eventType ]( function( e ){

						if(  thisModalConfig.triggerHandler  == "#signInLink" ){
							carnival.configuration('layout' , 'vertical');
						}

						initializePopit();

						if( thisModalConfig.eventPreventDefault ){
							e.preventDefault();
						}

					});		
					
				}
				else{
					initializePopit();
				}
			

		} else {
			//our floaty modal (non-sticky, horizontal)
				thisModalConfig.addClass = registrationClass;
				
				//carnival.modal.removeIt();
				
				init( thisModalConfig );
				//fix for selects showing above any element regardless of zindex
				if ( $.browser.msie && (/6.0/).test(navigator.userAgent) ) {
					$('select').hide();
				}
				$('#carnivalModalWrapper').width('');
				waitForIt();
				insertContent(contents,function(){
					positionIt(); 
					if(callback != null){ callback.call(); }
					$('<div id="carnivalFooter"></div>').appendTo('#carnivalContent');
				});	
										
				if(closeCallback){
					carnival.utils.listener.kill('popitClose');
					carnival.utils.listener.listen('popitClose',closeCallback);
				}
						
				setTimeout(function(){
					$(document).bind('keypress.carnivalModal',closeHandler);
				},200);
				
				return false;
	   }
		
		//return false;
	};


	/**
	 * dropit - closes a modal window
	 */
	var dropit = function(cancelCallback){
				
		cancelCallback = (cancelCallback === true);
		$(document).unbind('.carnivalModal');
		$('#carnivalModal,#carnivalModalOverlay').hide();
		//fix for selects showing above any element regardless of zindex
		if ( $.browser.msie && (/6.0/).test(navigator.userAgent) ) {
			$('select').show();
		}
		
		$('#'+config.contentId).html('');
		if( !cancelCallback ){
			carnival.utils.listener.fire( 'popitClose' );
			//removed { remove:true }
		}
		else{
			carnival.utils.listener.kill('popitClose');
		}
	
	};
	
	var removeIt = function(){
		dropit();
		$('#carnivalModal,#carnivalModalOverlay').remove();
		if( window.transport ){
			window.transport.destroy();
		}
	};

	/**
	
	 * init - initializes the modal window object
	 * @constructor
	 * @param {Object} configs JSON object with overrides of default configuration
	 */
	var init = function( configs ){
	
			var target = (configs && configs.container ) ? configs.container : 'body';
			var backgroundColor = carnival.configuration('ssorNavBackgroundColor') || "";
		
			if( target == 'body'){
					$( target ).prepend(popWrapper( configs ));
			}else{
				$( target ).append(popWrapper( configs ));
			}	
			config = carnival.utils.merge(config,configs);
			contentEl = $('#'+config.contentId);
		
			if( backgroundColor ){
				$('#carnivalModal').css('background-color', backgroundColor );		
			}

			preloadWaitImg();
			attachModals();
		
	
	};

	/**
	 * positionIt - Moves modal window into appropriate location
	 * @private
	 */
	var positionIt = function(isSticky){
	
		var win = $(window);
		if (!isSticky) {
			$('#carnivalModal').show().css({
					'top': win.scrollTop() + 140 + 'px',
					'left': win.width() / 2 - ($('#carnivalModal').width() / 2) + 'px'
			});
			$('#carnivalModalOverlay').show().fadeTo(0,0.5);
		} else {
			$('#carnivalModal').show();
		}
		
		carnival.utils.changeTextColor();
	};

	/**
	 * attachModals - automatically adds popup to links of class carnivalModal
	 * @private
	 */
	var attachModals = function(){
		$('.carnivalModal').click(function(){
			return popit(this);
		});
	};

	/**
	 * preloadWaitImg - called in contructor.  Prefetches the ajax load image
	 * @private
	 */
	var preloadWaitImg = function() {
		var img = new Image();
		img.src = config.waitImg;
	};

	/**
	 * waitForIt - inserts loading icon into modal window
	 * @private
	 */
	var waitForIt = function() {
		contentEl.html('<div style="width:200px;height:300px;text-align:center"><img style="display:inline;padding-top:130px" src="'+config.waitImg+'" /></div>');
		positionIt();
	};

	/**
	 * insertContent - inserts into modal window. called by popit
	 * @private
	 * @param {String|DomNode} contents What goes in
	 * @param {Function} callback What comes out
	 */
	var insertContent = function(contents,callback) {
		if(contents.constructor == String && !(/^https?\:\/\//.test(contents))) {
			contentEl.html(contents);
			callback.call(this);
		} else {
			try{
				var target = (contents.constructor == String) ? contents : $(contents).attr('href');
				if(carnival.core.isExternal(target) || ((contents.constructor != String) && $(contents).attr('rel') && $(contents).attr('rel') != '')) {
					var rel = $(contents).attr('rel');
					contentEl.html('<iframe frameBorder=0 border=0 allowTransparency="true" style="border:0px" '+rel+' src="'+target+'"></iframe>');
					callback.call(this);
				} else {
					var that = this;
					$.ajax({
						type:'GET',
						url: target,
						success:function(data){
							contentEl.html(data);
							callback.call(that);
						}
					});
				}
			} catch(e) {}
		}
	};

	/**
	 * config - default values for modal window
	 * @private
	 */
	var config = {
		contentId : 'carnivalContent',
		waitImg : '/images/ajax-loader.gif'
	};

	/**
	 * closeHandler - handles keypress and mouseclick events
	 * @private
	 * @param {Event} e event that triggered call
	 */
	var closeHandler = function(e) {
		if(e.keyCode==27 || (e.type!='keypress' && !($(e.target).parents('#carnivalModal')[0]))){
			dropit();
			return false;
		}
	};

	/**
	 * popWrapper - html for modal window
	 * @private
	 */
	var popWrapper = function( configs ){
		
		if(config.popWrapper || carnival.configuration('popWrapper')){
			return config.popWrapper || carnival.configuration('popWrapper');
		}
		
		var $carnivalModal = $( "#carnivalModal" );
		var $carnivalModalOverlay = $( "#carnivalModalOverlay" );
	
		if( $carnivalModal ){
			$carnivalModal.remove();
		}
		if( $carnivalModalOverlay ){
			$carnivalModalOverlay.remove();
		}
		
		var backgroundColor = carnival.configuration( 'ssorNavBackgroundColor' ) || "#353535";
		var isSticky = ( configs && configs.isSticky ) ? "sticky" : "nonSticky";
		var template = "";
		
		if( configs.addWrapper != null  ){
			template += '<div id="'+ configs.addWrapper +'">';
		}
		if( configs.addClass != 'undefined' || configs.addClass != null ){
			var myClass = configs.addClass || "";
		}
		 template += '<div id="carnivalModal" class="'+ configs.layout  + " " + isSticky +  " " + myClass + '" style="display:none;background-color:'+ backgroundColor +'">' +
			'<div id="carnivalModalWrapper">'+
				'<div id="carnivalModalHead" >'+
					'<a id="carnivalModalClose" href="" onclick="carnival.modal.dropit(); return false;" ><span class="carnivalCloseButton" >x close</span></a>'+
				'</div>'+
				'<div id="'+config.contentId+'" class="full clearfix" >'+
				'</div>'+
			'</div>'+
		'</div>';
		
		if( configs.addWrapper != null ){
			template += '</div>';
		}
		
		template += '<div id="carnivalModalOverlay" ></div>';
		
		return template;
	};

	// return public methods
	return {popit:popit,dropit:dropit,init:init,positionIt:positionIt, removeIt:removeIt};
}(jQuery,window,document);

/**
 * forms
 * @namespace
 */
carnival.forms = function($,document,window,undefined){

	/**
	 * @class A dynamic form validator
	 *
	 * @extends Object
	 */	
	
	var FormValidator = function formValidation( config ){
		this.constructor( config );	
	};	

	/**
	 * @lends FormValidator
	 */
	FormValidator.prototype = ( function( $ ){ 

		return {

			/**
			 * @property {String} className The name of this class.  Used for
			 *                              logging.
			 */
			className: "carnival.FormValidator",

			/**
			 * @constructs
			 * @param {Object} config The configuration object for the form	
			 * @description The contructor of the FormValidator class. This method takes a config of properties				  
			 * @return void
			 */
			constructor: function( config ){
				//Strip out jQuery
				this.properties		= {};
				this.targetFormId 	= config.formId || null;
				this.targetForm 	= document.getElementById( this.targetFormId );
				this.errors 		= new carnival.utils.Errors();
				this.logger 		= new carnival.Log( this.className );

				this.properties.errorClass = "errorMessage";
				
				if( config.errors ){

					if( config.errors.groupErrors ){
						this.properties.enableGroupedErrors = config.errors.groupErrors || false;
					}
					if( config.errors.inputBackgroundColor ){
						this.properties.inputBackgroundColor = config.errors.inputBackgroundColor || "none";
					}
					if( config.errors.aggregateMessages ){
						this.properties.aggregateMessages = config.errors.aggregateMessages || false;
					}
					if( config.errors.errorClass ){
						this.properties.errorClass = config.errors.errorClass;
					}
				}

				try{
					this.checkForRequiredConfigs();	
					this.initForm();
				}
				catch( error ){
					throw error.toString();
					return false;
				}
			},

			/** 
			* 	@property {Function} deconstructor
			* 	@description Destroys all references to objects properties
			*   @returns null
			**/
			deconstructor: function(){
				this.logger.warn( "deconstructor: Decontructing the FormValidator" );
				this.properties		= null;
				this.targetForm 	= null;
				this.targetFormId 	= null;
				this.errors 		= null;
				this.logger 		= null;
			},

			/** 
			* 	@property {Function} checkForRequiredConfigs
			* 	@description Checks for required config properties 
			*   @returns null
			*	@throws FormSelectorException
			**/
			checkForRequiredConfigs: function(){
				if( this.targetForm == null || "" ){
					this.errors.throwException( "FormSelectorException",
												"checkForRequiredConfigs: Missing form id which is required" );
				}
			},

			/** 
			* 	@property {Function} initForm
			* 	@description Initializes the form and readies all default validators to be used
			*   @returns null
			**/
			initForm: function(){

				this.logger.changeColor( "background-color:#ccffee" );
				this.logger.info( "initForm: Initializing the form and adding default validators" );

				/**
				*	Adding all default validators to be used by any form element
				**/

				this.addValidator( '@NotNull', 
									this.validators.notBlank, 
									this.errorMessages[ "@NotNull" ] );
				this.addValidator( '@Email', 
									this.validators.email, 
									this.errorMessages[ "@Email" ] );
				this.addValidator( '@Password', 
									this.validators.isValidPassword, 
									this.errorMessages[ "@Password" ] );
				this.addValidator( '@Min', 
									this.validators.minLength, 
									this.errorMessages[ "@Min" ] );
				this.addValidator( '@Max', 
									this.validators.maxLength, 
									this.errorMessages[ "@Max" ] );
				this.addValidator( '@Equals', 
									this.validators.compareEquality, 
									this.errorMessages[ "@Equals" ] );
				this.addValidator( '@AlphaNumeric', 
									this.validators.isAlphaNumeric, 
									this.errorMessages[ "@AlphaNumeric" ] );
				this.addValidator( '@Numeric', 
									this.validators.isNumeric, 
									this.errorMessages[ "@Numeric" ] );	
				this.addValidator( '@OfAge', 
									this.validators.ofAge, 
									this.errorMessages[ "@OfAge" ] );
				this.addValidator( '@Profane', 
									this.validators.isProfane, 
									this.errorMessages[ "@Profane" ] );
				this.addValidator( '@ValidDate', 
									this.validators.validDate, 
									this.errorMessages[ "@ValidDate" ] );					
				this.addValidator( '@StopChar', 
									this.validators.stopChars, 
									this.errorMessages[ "@StopChar" ] );
				this.addValidator( '@Zipcode', 
									this.validators.isZipCode, 
									this.errorMessages[ "@Zipcode" ] );	
				this.addValidator( '@Telephone', 
									this.validators.isTelephone, 
									this.errorMessages[ "@Telephone" ] );
				this.addValidator( '@ValidationRule', 
									this.validators.validationRule, 
									this.errorMessages[ "@ValidationRule" ] );																													

			},

			/** 
			* 	@property {Function} setUpValidationData
			*	@param validators
			* 	@description Parses the annotations
			*   @returns null
			**/
			setUpValidationData : function( validators ){

				this.logger.changeColor( "background-color:#eebbff" );
				this.logger.info( "setUpValidationData: Setting up Validation Data" );

				if( !validators ){
						this.errors.throwException( "MissingArgumentException",
													"setUpValidationData: Missing validators argument which is required" );
				}

				/** 
				* 	@private {Function} annoationParser
				*	@param {String} annotation
				* 	@description 
				*   @returns {Object}
				**/
				var annoationParser = function( annotation ){

					var theseAnnotations = annotation.split( "=" );

					return{

						/**
						*  @private {Function} annotationHasValue
						*  @description If there is an annotation passed into the parser, 
						*  				check to see if it has a value associated with it 
						*  				and if so, return it
						**/
						annotationHasValue : function(){
							return /=/.test( annotation );
						},

						/**
						*  @private {Function} getAnnotationValue
						*  @description Grab the annotation value and return it
						**/
						getAnnotationValue : function(){
							var args = [];
							args.push( theseAnnotations[ 1 ] );
							return args;
						},

						/**
						*  @private {Function} getAnnotation
						*  @return {String} returns the annotated string with the value stripped out
						**/
						getAnnotation : function(){
							return theseAnnotations[ 0 ];
						}
					}
				};

				var valueToTestAgainst 	= "",
					validationContainer = [];

				for( var index = 0, totalVals = validators.length;
					  	 index < totalVals; 
						 index++ ){

					var thisValidator 		= validators[ index ],
						validationWrapper	= {},
						thisParser 			= annoationParser( thisValidator );

					/**
					* If the annotation has a value associated with it then split these values and create a 
					* property on the validationWrapper to hold them
					**/	
					if( thisParser.annotationHasValue() ){
						validationWrapper.validationArguments = thisParser.getAnnotationValue();
						thisValidator = thisParser.getAnnotation();
					}
					
					/**
					* If thisValidator does not exist on the registry then we cannot add it to the validationContainer
					**/
					if( !this.validatorRegistry[ thisValidator ] ){
						this.logger.error( "No validator by the name of " + thisValidator + " exists in the registry" );
						break;
					}
					
					/**
					* Add validators to a validator array to be added as a property on the input to be validated
					**/
					validationWrapper.validatorName 	= this.validatorRegistry[ thisValidator ].validatorName;
					validationWrapper.validatorMethod 	= this.validatorRegistry[ thisValidator ].validator;
					validationWrapper.errorMessage 		= this.validatorRegistry[ thisValidator ].errorMessage;

					validationContainer.push ( validationWrapper );
				}
				return validationContainer;
			},

			/** 
			* 	@property {Function} formElement
			*	@param context
			*	@param name
			*	@param validators
			* 	@description 
			*   @returns null
			**/
			formElement : function( context, name, validators , errorCallback , successCallback ){

					var elements = context.getFormElements(name);
					var totalElements = elements.length;

				//If elements is undefined its not in the dom or we cannot find reference to it
				if( carnival.utils.arrays.isEmpty( elements ) ){
					context.logger.warn("formElement: Element cannot be found=" + name );
					return false;
				}

				this.validators 	= context.setUpValidationData( validators );
				this.fieldName 		= name;
				this.inputType 		= "input";


				if( errorCallback ){
					this.errorCallback = errorCallback;
				}

				if( successCallback ){
					this.successCallback = successCallback;
				}

				/**
				*	If we only have a single element like a text input field, select or even a checkbox,
				*	we will set this as our DOM reference point 
				**/
				if( totalElements == 1 ){
					this.domReference 	= elements[ 0 ];
				}
				else{
					this.domReference = elements;
				}

				this.getValue = function(){

					if( carnival.forms.isInput( this.domReference ) || carnival.forms.isTextField( this.domReference ) ){
						return this.domReference.value;
					}
					else if( carnival.forms.isCheckbox( this.domReference ) ){
						this.inputType 	= "checkbox";
						return this.domReference.checked == true ? "true" : "";
					}
					else if( carnival.forms.isRadio( this.domReference[ 0 ] ) ){
						this.inputType 	= "radio";
						var hasValue = "";
						for( var element = 0; element < totalElements; element++ ){
							if( this.domReference[ element ].checked == true ){
								hasValue = "true";
								break;
							}
						}
						return hasValue;
					}
					else if( carnival.forms.isSelect( this.domReference ) ){
						this.inputType 	= "select";
						return this.domReference.value;
					}

				};
			},
			
			
			
			
			getFormElements: function( elements ){
				
					var theseElements = document.getElementsByName( elements );
					var theseElementsLength = theseElements.length;
					var includedElements = [];
					for( var i = 0 ;  i < theseElementsLength; i++ ){
						var thisForm = theseElements[i].form || "";
						if( thisForm ){
							var thisFormId = thisForm.getAttribute( "id" ) || "";
						}
						else{
							continue;
						}

						if( thisFormId == this.targetFormId ){
							includedElements.push( theseElements[i] );
						}

					}

					return includedElements;
			},

			/**
			*	@property {Array} formElementCollection
			*	@description 
			*/
			formElementCollection : [],
			
			
			validateSingle : function( element, validators, errorCallback, successCallback ) {
				
				if( !validators || !element ){
					this.errors.throwException( "IllegalArgumentException",
												"bindValidator: The arguments passed into method bindValidator are invalid" );
				}
				
				var thisElement = this.getFormElements( element );
				
				/**
				*	If the element is a string matching to the name attribute of an input field, then continue 
				**/
				if( carnival.utils.strings.isAString( element ) ){

					formElement = new this.formElement( this, element , validators, errorCallback, successCallback );

					if( !formElement ){
						this.logger.warn( "Skipping binding validation since we cannot find a reference to it in the DOM" );
					}
				}
				else if( carnival.utils.objects.isAJqueryCollection( element ) ) {
					//TODO handle jQuery collection
					formElement = element;
				}
				else{
					this.errors.throwException( "IllegalArgumentException",
												"bindValidator: The argument passed into method bindValidator is invalid" );
				}

				return !this.validateElement( formElement );
				
			},
			
			/** 
			* 	@property {Function} bindValidator
			*	@param element
			*	@param validators
			*	@param errorCallback
			* 	@description 
			*   @returns null
			**/
			bindValidator : function( element , validators , errorCallback, successCallback ){

				var theseElements = this.getFormElements( element );

				if( carnival.utils.arrays.isEmpty( theseElements ) ){
					this.logger.changeColor( "background-color:#ff4444" );
					this.logger.warn( "bindValidator: Element cannot be found=" + element  + ". Skipping binding validations for element" );
					return false;
				}

				//TODO make HTML5 friendly
				var formElement = "";

				if( !validators || !element ){
					this.errors.throwException( "IllegalArgumentException",
												"bindValidator: The arguments passed into method bindValidator are invalid" );
				}

				/**
				*	If the element is a string matching to the name attribute of an input field, then continue 
				**/
				if( carnival.utils.strings.isAString( element ) ){

					formElement = new this.formElement( this, element , validators, errorCallback, successCallback );

					if( !formElement ){
						this.logger.warn( "Skipping binding validation since we cannot find a reference to it in the DOM" );
					}
				}
				else if( carnival.utils.objects.isAJqueryCollection( element ) ) {
					//TODO handle jQuery collection
					formElement = element;
				}
				else{
					this.errors.throwException( "IllegalArgumentException",
												"bindValidator: The argument passed into method bindValidator is invalid" );
				}

				this.formElementCollection.push( formElement );
			},

			/** 
			* 	@property {Function} unBindValidator
			*	@param element
			*	@param validators
			* 	@description 
			*   @returns null
			**/
			unBindValidator: function( element , validatorsToRemove ){

				this.logger.changeColor( "background-color:#ff99aa" );
				this.logger.info( "unBindValidator: unbinding validators for:" + element );

				/**
				* Store the collection of form elements that are scheduled for validationas a local variable 
				**/
				var elementToValidate = this.formElementCollection;

				for( var index = 0, totalElements = elementToValidate.length;
						 index < totalElements;
						 index++ ){

					/**
					* If the element that we are unbinding matches the element in the collection, begin removal
					* 
					**/		
					if( elementToValidate[ index ].fieldName == element ){

						/**
						* Set this elements validators to a local variable to iterate over
						**/
						var thisElementsValidators = elementToValidate[ index ].validators,
							totalValidatorsToRemove = validatorsToRemove.length;
							
						for( var validatorIndex = 0, totalElementValidators = thisElementsValidators.length;
							  	 validatorIndex < totalElementValidators;
								 validatorIndex++ ){

							for( var thisIndex = 0; thisIndex <= totalValidatorsToRemove; thisIndex++  ){
								if( validatorsToRemove[ thisIndex ] ==  thisElementsValidators[ validatorIndex ].validatorName ){
										thisElementsValidators.splice( validatorIndex , 1 );
										validatorsToRemove.splice( thisIndex , 1 );
										totalValidatorsToRemove -= totalValidatorsToRemove;
								}
							}

						}
					}
				}
			},

			/**
			 * @namespace regex
			 * @description A hash map of regular expressions used for validation of form fields
			 */
			regex:{

				email: /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,
				password: /^(?=.*[0-9])(?=.*[A-Za-z])/,
				telephone: /^[\\d\\-\\s\\(\\)]{10,}$/,
				zipcode:  /^[\\da-zA-Z\\-\\s]{5,}$/,
				profaneFullMatch :  "\x73\x68\x69\x74\x7C\x66\x75\x63\x6B\x7C\x63\x6F\x63\x6B\x73\x75\x63\x6B\x65\x72\x7C\x61\x73"+
									"\x73\x28\x68\x6F\x6C\x65\x7C\x6D\x75\x6E\x63\x68\x7C\x77\x69\x70\x65\x29\x7C\x62\x69\x74\x63"+
									"\x68\x7C\x64\x69\x63\x6B\x68\x65\x61\x64\x7C\x6A\x61\x63\x6B\x6F\x66\x66\x7C\x77\x68\x6F\x72"+
									"\x65\x7C\x66\x61\x67\x67\x6F\x74\x7C\x28\x6E\x7C\x77\x29\x69\x67\x67\x28\x65\x72\x7C\x61\x7A"+
									"\x29\x7C\x74\x69\x74\x74\x69\x65\x73\x7C\x28\x62\x6C\x6F\x77\x7C\x68\x61\x6E\x64\x29\x6A\x6F"+
									"\x62\x7C\x66\x65\x6C\x6C\x61\x74\x69\x6F",
				profaneHalfMatch:   "\x28\x5E\x7C\x5B\x5E\x61\x2D\x7A\x5D\x29\x28\x61\x73\x73\x7C\x74\x77\x61\x74\x7C\x63\x6F\x63\x6B"+
									"\x7C\x63\x75\x6D\x7C\x74\x69\x74\x74\x69\x65\x73\x7C\x6B\x69\x6B\x65\x7C\x73\x70\x69\x63\x7C\x28\x61\x7C\x6D\x79\x7C"+
									"\x79\x6F\x75\x72\x29\x5B\x5E\x61\x2D\x7A\x5D\x2B\x64\x69\x63\x6B\x7C\x70\x69\x73\x73\x7C\x63\x75\x6E\x74\x7C\x74\x69"+
									"\x74\x73\x7C\x66\x61\x67\x7C\x68\x6F\x6D\x6F\x7C\x70\x75\x73\x73\x79\x7C\x63\x75\x6E\x74\x7C\x6E\x69\x67\x72\x61\x73"+
									"\x7C\x70\x69\x6E\x63\x68\x65\x29\x28\x24\x7C\x5B\x5E\x61\x2D\x7A\x5D\x29"
			},

			/**
			 * @namespace errorMessages
			 * @description A hash map of error messages that correspond to the associated validation annotations
			 */
			errorMessages:{

				"default"  			  : "This field is required",
				"@NotNull" 			  : "This field cannot be blank",
				"@Email"   			  : "Must be a valid email address",
				"@OfAge"			    : "You must be at least ${1} years old to register",
				"@Profane"			  : "This field is unacceptable",
				"@Password" 		  : "Your password must contain at least one letter and one number",
				"@Min"	   			  : "Must be at least ${1} characters",
				"@Max"	   			  : "Must be no more than ${1} characters",
				"@Equals"  			  : "This field must equal ${1}",
				"@Group"   			  : "Error Message Here",
				"@AlphaNumeric"   : "Must contain only letters and numbers",
				"@Numeric"			  : "This field must only contain numbers",
				"@ValidDate"		  : "This is not a valid date",
				"@Zipcode"			  : "This is not a valid zipcode",
				"@Telephone"		  : "This is not a valid telephone number",
				"@StopChar"			  : "${1} characters are not valid",
				"@ValidationRule"	: "There was a problem with your entry. Please enter a valid response."
				
			},

			/**
			 * @namespace validators
			 * @description  A collection of form validators
			 */
			validators:{

				/** 
				* 	@property {Function} email
				* 	@param {String} value The value of an input field to be validated
				* 	@description An email validator to match test the passed input value 
				* 				 with a regular expression pattern
				*   @return {Boolean} true is returned if a valid email pattern is found
				**/
				email: function( value ){
					var context = arguments[ 1 ];
					return context.regex.email.test( value );  
				},

				/** 
				* 	@property {Function} isValidPassword
				* 	@param {String} value The value of an input field to be validated
				* 	@description Checks if a value has at least one letter and one number
				*   @return {Boolean} true is returned 
				**/
				isValidPassword: function( value ){
					var context = arguments[ 1 ];
					return value.match( context.regex.password ); 
				},

				/** 
				* 	@property {Function} stopChars
				* 	@param {String} value The value of an input field to be validated
				* 	@param {String} charToStop Which characters to prevent from being used
				* 	@description 
				*   @return {Boolean} true is returned 
				**/
				stopChars : function( value , charToStop ){
					var stopChars = new RegExp( '[' + charToStop + ']' ,'');
					return !( value.match( stopChars ) );			
				},

				/** 
				* 	@property {Function} isTelephone
				* 	@param {String} value The value of an input field to be validated
				* 	@description 
				*   @return {Boolean} true is returned 
				**/
				isTelephone: function( value ){
					return  context.regex.telephone.test( value );  
				},

				/** 
				* 	@property {Function} isZipCode
				* 	@param {String} value The value of an input field to be validated
				* 	@description 
				*   @return {Boolean} true is returned 
				**/
				isZipCode: function( value ){
					return  context.regex.zipcode.test( value );
				},

				/** 
				* 	@property {Function} ofAge
				* 	@param {String} value The value of an input field to be validated
				* 	@param {String} age 
				* 	@description 
				*   @return {Boolean} true is returned 
				**/
				ofAge: function( value , age ){
					//TODO pull date from server
					var ageInMilliseconds = 31557600000 * age;
					var myDate 			  = Date.parse( value ) + ageInMilliseconds;
					var today 			  = new Date().getTime();

					return ( myDate <= today );
				},

				/** 
				* 	@property {Function} validDate
				* 	@param {String} value The value of an input field to be validated
				* 	@description 
				*   @return {Boolean} true is returned 
				**/
				validDate: function( value ){
					
					var stripOutPreceedingZero = function( number ){
						var strippedNumber = number.replace( /^[0]/ , "" );
						return parseInt( strippedNumber );
					};
					
				    var isLeapYear = function( year ) {
				        return  ( year % 4 != 0 ? false : 
				            	( year % 100 != 0 ? true : 
				            	( year % 1000 != 0 ? false : true ) ) );
				    };

					var isValidDate = function( date_string ) {
					    
						var days = [ 0,31,28,31,30,31,30,31,31,30,31,30,31 ];
					    var year, month, day, date_parts = null;
					    var isValid = false;

					    date_parts = date_string.match( /^(\d{1,2})[./-](\d{1,2})[./-](\d{4})$/ );
				        if ( date_parts ) {

							year = date_parts[ 3 ];
				            month = stripOutPreceedingZero( date_parts[ 1 ] );
				            day = stripOutPreceedingZero(date_parts[ 2 ] );

				            test = ( month == 2 && 
				                    isLeapYear( year ) && 
				                    29 || 
				                    days[ month ] || 0 );

				            isValid = 1 <= day && day <= test;
				        }

					    return isValid;
					}
					
					return isValidDate( value );
				},

				/** 
				* 	@property {Function} isProfane
				* 	@param {String} value The value of an input field to be validated
				* 	@description 
				*   @return {Boolean} true is returned 
				**/
				isProfane: function( value ){
					var context = arguments[ 1 ];
					return !( value.match( new RegExp( context.regex.profaneFullMatch,"gi" ) ) ) 
						&& !( value.match( new RegExp( context.regex.profaneHalfMatch,"gi") ) );
				},

				/** 
				* 	@property {Function} notBlank
				*   @param {String} value The value of an input field to be validated
				* 	@description A notBlank validator to determine if the value of the input 
				* 				 passed is blank
				* 	@return {Boolean} true is returned if the value is not an empty string
				**/
				notBlank: function( value ){ 
					return ( value == "" || value == undefined )  ? false : true;
				},

				/** 
				* 	@property {Function} minLength
				*   @param {String} value The value of an input field to be validated
				* 	@description
				* 	@return {Boolean}
				**/
				minLength: function( value , minLength ){

					if( !value ){
						return false;
					}

					return ( value.length < minLength[ 0 ] ) ? false : true;		
				},

				/** 
				* 	@property {Function} maxLength
				*   @param {String} value The value of an input field to be validated
				* 	@description
				* 	@return {Boolean}
				**/
				maxLength : function( value, maxLength ){
					if( value == "" ){
						return true;
					}
					return ( value.length > maxLength[ 0 ] ) ? false : true;
				},

				/** 
				* 	@property {Function} maxLength
				*   @param {String} valueOne The value of an input field to be validated
				*   @param {String} valueTwo The value of an input field to be validated
				* 	@description
				* 	@return {Boolean}
				**/
				compareEquality : function( valueOne, valueTwo ){
					return valueOne === this.getFormElements( valueTwo )[ 0 ].value;
				},

				/** 
				* 	@property {Function} isAlphaNumeric
				*   @param {String} value The value of an input field to be validated
				* 	@description
				* 	@return {Boolean}
				**/
				isAlphaNumeric : function( value ){
					return /\w+$/i.test( value );
				},

				/** 
				* 	@property {Function} isNumeric
				*   @param {String} value The value of an input field to be validated
				* 	@description
				* 	@return {Boolean}
				**/
				isNumeric : function( value ){
					return /-?\d+$/.test( value );	
				},

				/** 
				* 	@property {Function} validationRule
				*   @param {String} value The value of an input field to be validated
				*   @param {String} regex
				* 	@description
				* 	@return {Boolean}
				**/
				validationRule : function( value, regex ){

					if( value == "" ){
						return true;
					}
					var validationRule = new RegExp( regex, "" );
					return ( value.match( validationRule ) );
				}		
			},

			/** 
			* 	@property {Object} validatorRegistry
			* 	@description
			**/
			validatorRegistry: {},

			/** 
			* 	@property {Function} addValidator
			*   @param {String} validatorName 
			*   @param {Function|RegEx} validator 
			*   @param {String} errorMessage
			* 	@description
			**/
			addValidator: function( validatorName, validator, errorMessage ){

				/**
				* If we have missing critical arguments we need to throw an exception
				**/
				if( !validatorName ){
						this.errors.throwException( "MissingArgumentException",
													"addValidator: Missing validator name which is required" );
				}
				if( !validator ){
						this.errors.throwException( "MissingArgumentException",
													"addValidator: Missing validator method which is required" );
				}

				/**
				* If the validator doesn't exists in the registry, add it 
				**/
				if( !this.validatorRegistry[ validatorName ] ){
					this.validatorRegistry[ validatorName ] = {};
				}

				var validationMethod = null;

				/**
				* If the validator that is passed into the addValidator method is a regular expression, then we must 
				* create a method from it to add to the validator registry
				**/
				if( validator.constructor == RegExp ){
					validationMethod = function( value ){
						return validator.test( value );  
					};
				}
				/**
				*	Add validators to the validation registry
				**/
				this.validatorRegistry[ validatorName ].validatorName = validatorName;
				this.validatorRegistry[ validatorName ].validator = validationMethod || validator;
				this.validatorRegistry[ validatorName ].errorMessage = errorMessage || this.errorMessages[ "default" ];	
				
			},

			/** 
			* 	@property {Function} removeValidator
			*   @param {String} validatorName 
			* 	@description
			**/
			removeValidator: function( validatorName ){
				delete this.validatorRegistry[ validatorName ];	
			},

			/** 
			* 	@property {Function} executeValidator
			*   @param {String} value 
			* 	@param {String} validator 
			* 	@description
			**/
			executeValidator: function( value , validator ){
				
				/**
				*	We throw and error and escape the execution of the validator if the value is undefined.
				*   The would occur if the element we are targeting does not exist in the DOM.
				**/
				if( value == undefined ){
					this.logger.changeColor( "background-color:#ffaa99" );
					this.logger.error("executeValidator:" +  "value is undefined for validator" + validator.validatorName );
					return false;
				}
				else{
					this.logger.changeColor( "background-color:#aaccff" );
					this.logger.info( "executeValidator:" + value + " passed in for validator-" + validator.validatorName );
				}

				var value = carnival.forms.stripWhiteSpace( value );

				/**
				*	If the validator has validation arguments then pass them to the validation method 
				*	example:  @Min=4 the value of the number 4 would be passed as argument[ 0 ]
				**/
				if( validator.validationArguments ){
					return validator.validatorMethod( value , validator.validationArguments, this );
				}
				else{
					return validator.validatorMethod( value , this );
				}
			},

			/** 
			* 	@property {Function} stripAnnotationSymbol
			*   @param {String} annotationName 
			* 	@description
			**/
			stripAnnotationSymbol : function( annotationName ){
				return annotationName.replace( /@/, "");
			},

			/** 
			* 	@property {Function} displayErrorMessage
			*   @param {String} element 
			* 	@param {String} errorMessage 
			* 	@description
			**/
			displayErrorMessage : function( thisElement, thisValidator ){

				var $element = "",
					element ="";
					
				if( thisElement.inputType == "radio" ) {
					element = thisElement.domReference[ 0 ];
				}
				else{
					element = thisElement.domReference;
				}

				var errorMessage 		= thisValidator.errorMessage,
					validationArguments = thisValidator.validationArguments,
					errorCallback 		= thisElement.errorCallback,
					validatorErrorClass = element.name + 
										  this.stripAnnotationSymbol( thisValidator.validatorName ),
					errorContainerClass = this.properties.errorClass;

				if( element.length > 1 && !carnival.forms.isSelect( element ) ){
					//radio button so grab the first element
					$element = $( element[ 0 ] );
				}
				else{
					$element = $( element );
				}

				/*$element.css({
					"border-color"	: "1px solid #F00",
					"background-color": this.properties.inputBackgroundColor
				});*/
				
				if( validationArguments ){
					errorMessage = this.formatErrorMessage( errorMessage, validationArguments );
				}

				var $errorWrapper = $( "<span></span>" );
				    $errorWrapper.addClass( errorContainerClass );
					
				/** 
				* 	@private {Function} addErrorsToDOM
				*   @param {String} aggregateErrors  
				* 	@description
				**/
				var addErrorsToDOM = function( aggregateErrors ){
					
					var errorToCheckFor = aggregateErrors ? errorContainerClass :  validatorErrorClass ;
					
					if( $element.siblings("." + errorToCheckFor ).length == 0 ){

						$errorWrapper.addClass( validatorErrorClass );
						$errorWrapper.html( errorMessage );
						$element.before( $errorWrapper );

					}
					
				};	
				
				addErrorsToDOM( this.properties.aggregateMessages );
				
				if( errorCallback ){
					errorCallback( $element );
				}
			},

			/** 
			* 	@property {Function} formatErrorMessage
			*   @param {String} message 
			*   @param {String} args 
			* 	@description
			**/
			formatErrorMessage : function( message, args ){	
			//TODO do we want the ability to override these args?

				for( var index = 0, totalArguments = args.length;
						 index < totalArguments; 
						 index++ ){

					var thisArgumentValue = args[ index ],
						currentArg = index + 1,
						thisRegex = new RegExp('\\$\\{' + currentArg +'\\}','g');
						message = message.replace( thisRegex , thisArgumentValue );

				}  
				return message;	
			},

			/** 
			* 	@property {Function} removeErrorMessage
			*   @param {String} element 
			*   @param {String} element 
			* 	@description
			**/
			removeErrorMessage: function( thisElement , validator ){

				var elementName = "";
				var element = thisElement.domReference;
				
				
				if( carnival.forms.isRadio( element[ 0 ] ) ){
					elementName = element[ 0 ].name;
				}
				else if( !element.parentNode && !carnival.forms.isRadio( element[ 0 ] ) ){
					thisElement.domReference =  this.getFormElements( thisElement.fieldName )[ 0 ];
					element = thisElement.domReference;
				}
				else{
					elementName = element.name;
				}

				this.logger.changeColor( "background-color:#ddff77" );
				this.logger.info( "removeErrorMessage: Remove Error Message for " + elementName +
				 				  " and validator " + this.stripAnnotationSymbol( validator.validatorName ) );

				var $thisElement = $( element ),
					validatorErrorClass = elementName + this.stripAnnotationSymbol( validator.validatorName ),
					$thisError = $thisElement.siblings("span." + validatorErrorClass );
					$thisError.remove();
			},

			/** 
			* 	@property {Function} validateForm
			*   @param {String} thisElement 
			* 	@description
			**/
			validateElement : function ( thisElement ){

				this.logger.changeColor( "background-color:#bbff99" );
				this.logger.info( "validateElement: Validating Element " + thisElement.fieldName );
			
				var	thisElementsValidators = thisElement.validators,
					hasError = false;

				for( var validatorIndex = 0, totalValidators = thisElementsValidators.length;
					 	 validatorIndex < totalValidators;
						 validatorIndex++ ){

					this.logger.changeColor( "background-color:#bbff99" );
					this.logger.info( "validateElement: The value of element is = " + thisElement.getValue() );

					var thisValidator = thisElementsValidators[ validatorIndex ],
						result = this.executeValidator( thisElement.getValue() , thisValidator );

					if( !result ){

						var validationArguments = thisValidator.validationArguments || "";

						this.displayErrorMessage( thisElement , thisValidator );
						hasError = true;
					}
					else{
						this.removeErrorMessage( thisElement , thisValidator );
					}
				}

				if( !hasError ){

					var $element = $( thisElement.domReference );
						/*$element.css({
							"border-color"	: "#F0F0F0",
							"background-color"	: "#FFF"
						});*/

					if( thisElement.successCallback ){
						thisElement.successCallback();	
					}
				}
				return hasError;
			},

			/** 
			* 	@property {Function} validateForm
			* 	@description
			**/
			validateForm: function( ){

				this.logger.changeColor( "background-color:#ffaabb" );
				this.logger.info( "validateForm: Validating the Form" );

				var elementToValidate = this.formElementCollection,
				 	hasErrors = false;

				for( var index = 0, totalElements = elementToValidate.length; 
					  	 index < totalElements; 
						 index++ ){

					var thisElement = elementToValidate[ index ],
						context = this,
						errorsInValidation = context.validateElement( thisElement );
					
					if( errorsInValidation ){
						hasErrors = true;
					}
					
					if( thisElement.inputType == "checkbox" ||  thisElement.inputType == "radio" ){

						/** Wrap in an anonymous function so that we can preserve the reference 
						*   to thisElement  
						**/
						( function( element ){
							$( thisElement.domReference ).bind( "click" , function(){
								context.validateElement( element );
							});
						})( thisElement );
					}
					else if( thisElement.inputType == "select" ){
						( function( element ){
							$( thisElement.domReference ).bind( "change" , function(){
								context.validateElement( element );
							});
						})( thisElement );
					}
					else{
						( function( element ){
							$( thisElement.domReference ).bind( "blur" , function(){
								context.validateElement( element );
							});
						})( thisElement );
					}

				}

				if( hasErrors ){

					/** 
					*  If the form has errors, we return false to prevent the form from submitting
					**/
					this.logger.changeColor( "background-color:#ffaabb" );
					this.logger.warn( "validateForm: The form has errors" );
					return false;
				}
				else{

					/**
					*	If the form is free of field errors we can submit the form or pass control over 
					*	to another component to submit the form
					**/
					this.logger.changeColor( "background-color:#ffaabb" );
					this.logger.info( "validateForm: Success: Submitting the form" );

					var formId = this.targetForm,
						form = document.getElementById( formId );
						//Return true - validation passed so pass the success to the form controller and submit the form
						return true;
				}		
			}
		};

	})( jQuery );



	/**
	 * form - All functions needed for processing and populating forms.
	 * @constructor
	 */
	var form = function( formid ){
		
		this.formValidator = new FormValidator({ 
			formId : formid,
			errors :{
				groupErrors				: false,
				inputBackgroundColor	: "none",
				aggregateMessages		: true,
				errorClass				: "error"
			} 
		});
		
		this.formEl = $( '#' + formid );
		
		this.addValue('productCode',carnival.configuration('product'));
	};

	/**
	 * carnival.forms.form prototype functions
	 * @memberOf carnival.forms.form.prototype
	 */
	form.prototype = {

		/**
		 * addValue - adds a hidden value field to a form
		 * @param {String} key the Name attribute of the value
		 * @param {String} value the value of the attribue 
		 */
		addValue : function(key,value){
			if($('input[name='+key+']').length) {
				$('input[name='+key+']').val(value);
			} else {
				this.formEl.append('<input type="hidden" name="'+key+'" value="'+value+'"/>');
			}
		},
	
		serializeForm : function(selector){
			return this.formEl.serializeFormToJson(selector);
		},

		/**
		 * makeReadonly - adds readonly fields .
		 * @private
		 * @param {String} formid The id of the form to populate
		 * @param {Object} data JSON Object with readonly fields
		 */
		makeReadonly : function(data){
			for (var i = data.length;i--;) {
				if('string' == typeof carnival.user.profile(data[i]) && carnival.user.profile(data[i]).length){
				 	
					var textColor = carnival.configuration( 'ssorModalTextColor' ) || "#fff";
					this.formEl.find('input[name='+data[i]+']').attr('readonly','readonly');
					
					   $('input[name='+data[i]+']').css( {
							"border":"none",
							"background-color":"transparent",
							"color":textColor
						} );
						
						$("#userName").focus();
					
				}
			}
		},
		
		makeForm : function(data){
			carnival.forms.replicateDataPoints(this.formEl[0],data);
		},
	
		/**
		 * formatForm - adds required fields and redonly fields to form
		 * @param {Object} data JSON object with data

		 */
		formatForm : function( data ){

			var massageJSONObject = function( response ){
			
				var validationRules = [];
				var attributeRules = {};
				var requiredAttributes = {};
				var birthdayValidator = {};
				
				if( response.attrRules ){
					attributeRules = response.attrRules;
					validationRules = attributeRules;
				}
				
				if( response.requiredAttrs ){
					
					requiredAttributes  = response.requiredAttrs;
					
					for( var requiredAttribute = 0, totalrequiredAttributes = requiredAttributes.length; 
							 requiredAttribute < totalrequiredAttributes ; 
							 requiredAttribute++ ){
						
						var thisRequiredAttribute = requiredAttributes[ requiredAttribute ];
						
						for( var validationRule = 0, totalValidationRules = validationRules.length;
								 validationRule < totalValidationRules;
								 validationRule++ ){
							
							var thisValidationRule = validationRules[ validationRule ];
							
							if( thisValidationRule.name == thisRequiredAttribute ){
								thisValidationRule.required = true;
							}
						}	
					}
				}
				
				if( response.minAge ){
					ageValidator = {
						name		: "currentAge",
						minAge		: response.minAge,
						required 	: true
					};
					
					validationRules.push( ageValidator );
				}
				
				return validationRules;
				
			};
			
			
			
			var getProfileContentRules = function( myNewValidator ){

				var thisValidator = myNewValidator;

				var handleProfileContentRules = function( validationRules ){
		
					for( var validationRule = 0, totalValidationRules = validationRules.length; 		
					 	 validationRule < totalValidationRules ;
						 validationRule++ ){

					 	var thisValidationRule = validationRules[ validationRule ];

						validatorController( thisValidationRule );
					}

				};

				var validatorController = function( thisValidationRule ){

					var validatorsToAdd = createValidators( thisValidationRule );
					thisValidator.bindValidator( thisValidationRule.name, validatorsToAdd );

				};

				var createValidators = function( validationRule ){

					var allValidators = [];

					for( var rule in validationRule ){

						if(  !validationRule.hasOwnProperty( rule )  ){
							 continue;
						}

							var validator = propertyRulesTranslator( rule, validationRule[ rule ] , validationRule.name ); 	
							if( validator ){
									allValidators.push( validator );
							}	


					}	
					return allValidators;

				};	

				var propertyRulesTranslator	= function( rule, value, elementToValidate ){
					//Creates and adds validators and returns a collection of validators to validate against
					//Ultimately it would be nice to have the validation rule names match or be consistant with the clientside annotation	
						var annotation = "";

						if( rule == "minLen" ){
							annotation = "@Min=" + value ;
						}
						else if( rule == "maxLen" ){
							annotation = "@Max=" + value;
						}
						else if( rule == "minAge" ){
							annotation = "@OfAge=" + value;
						}
						else if( rule == "stopChars" ){
							annotation = "@StopChar=" + value;
						}
						else if(  rule == "validationRule" ){
							annotation = "@ValidationRule=" + value;
						}
						else if( rule == "required" ){
							annotation = "@NotNull";	
						}
						else{
							//throw error
							return false;
						}

						return annotation;

				};
				
				var validationRules = massageJSONObject( data );
				
				handleProfileContentRules( validationRules ) ;

			};
			
			getProfileContentRules( this.formValidator );

			if( data.nonEditAttrs ){
				this.makeReadonly( data.nonEditAttrs );
			}


			if('true' == carnival.user.profile('isEmailVerified')){
				if(data.toBeVerifiedAttrs){
					this.makeReadonly(data.toBeVerifiedAttrs);
				}
			}
		},
		
		
		/**
		 * populateData - puts data into form fields
		 * @param {String} formid The id of the form to populate
		 * @param {Object} data JSON Object with data to go into form
		 * @param {String} optional - "hide" or "remove" to hide or remove items already populated
		 */
		populateData : function(data,hidePopulatedFlag) {
		
			var el;
			
			var birthDayValue = data.birthDay;
			var birthMonthValue = data.birthMonth;
			var birthYearValue = data.birthYear;
			var birthMonthString = "";
			var convertNumberToMonth = function( number ){
				switch( number ){
					case 1:
					birthMonthString = "January";
					break;
					case 2:
					birthMonthString = "February";
					break;
					case 3:
					birthMonthString = "March";
					break;
					case 4:
					birthMonthString = "April";
					break;
					case 5:
					birthMonthString = "May";
					break;
					case 6:
					birthMonthString = "June";
					break;
					case 7:
					birthMonthString = "July";
					break;
					case 8:
					birthMonthString = "August";
					break;
					case 9:
					birthMonthString = "September";
					break;
					case 10:
					birthMonthString = "October";
					break;
					case 11:
					birthMonthString = "November";
					break;
					case 12:
					birthMonthString = "December";
					break;
					default:
					birthMonthString ="";
					break;
				}
			};
			
			convertNumberToMonth( birthMonthValue );
			
			var $birthDay = this.formEl.find('#birthDay .selectContent');
			var $birthMonth = this.formEl.find('#birthMonth .selectContent');
			var $birthYear = this.formEl.find('#birthYear .selectContent');

			if( birthDayValue ){
				$birthDay.html( birthDayValue );	
			}
			if( birthMonthString ){
				$birthMonth.html( birthMonthString );	
			}
			if( birthYearValue ){
				$birthYear.html( birthYearValue );	
			}
			
			var calculateFullDate = function(){
				return birthMonthValue + "/" + birthDayValue + "/" + birthYearValue;
			};
					
			var populateFullDate = function( date ){
				$( "#currentAge" ).val( date );
			};
			
			populateFullDate ( calculateFullDate() );
			
			
			//special case for email address array
			var emails = data.emailArray;
			//eliminate blank values
			for (var i in emails) {
				if (emails[i] == "") {
					emails.splice(i,1);
				}
			}
			
			this.formEl.find('span').filter(function(i) {
				return $(this).html() == 'Loading...';
			}).html('Not supplied');
			
			for (var key in data) {
				if (data.hasOwnProperty(key) && !!(data[key]) ){
					el = this.formEl.find('input[name='+key+'][type!=checkbox][type!=radio]');

					//*********************
					// Convention: for views (spans) and edit fiels (forms) on the same page,
					// append a "v" to the end of your spans to solve naming conflict
					//**********************

					var elv = this.formEl.find('span#'+key+"v");
					elv.html(carnival.core.enumMapper(data[key]));
					//end profile fix

					if(el.length){
						el.val(data[key]);
					} else {
						try{
							el = this.formEl.find('[value='+key+'][type=checkbox],[name='+key+'][type=radio][value='+data[key]+']');
						}catch(e){el=[];}
						if(el.length){el.attr('checked',true);
						} else {
							el = this.formEl.find('[name='+key+'][type=checkbox][value='+data[key]+']');
							if(el.length){el.attr('checked',data[key]);}
							else {
								el = this.formEl.find('select[name='+key+']');
								if(el.length ){
									if(key == 'email'){
										for(var i = emails.length;i--;){
											el.append($('<option ></option>').val(emails[i]).html(emails[i]));
										}
									}
									try {el.val(data[key]);}
									catch(ex) {setTimeout(function(){el.val(data[key]);},10);}
								}else {
									el = this.formEl.find('span#'+key);
									el.html(data[key]);
								}
							}
						}
					}
					
					if (hidePopulatedFlag == "remove") {
						el.parents('li:first').remove();
					} else if (hidePopulatedFlag == "hide") {
						el.parents('li:first').hide();
					}
				
				}
			}
			
			carnival.utils.listener.fire( 'formPopulated' );
		},
			
	
		populateErrors : function(data){
			var error = '';
			data = data || {};
			//carnival.captcha.reload();
			//must exist and must be array
			if( data.validationErrors ) {
				var errors = data.validationErrors;
				if(!errors.push){errors = [data.validationErrors];}
				for (var i = errors.length;i--;) {
					if( carnival.forms.errCodes[errors[i].errCode] != undefined){
						error = carnival.forms.errCodes[errors[i].errCode];
						carnival.logger.info('error:' + error);
					} else {
						error = errors[i].errMsgs;
					}
					var errSelect = this.formEl.find("*[name="+errors[i].attrName+"]");
					if(errSelect.length){
						errorplacement('<label for="'+errors[i].attrName+'" generated="true" class="error">'+error+'</label>',errSelect);
					} else {
						this.formError(error);
					}
				}
			} else if(data.errMsg){
				if( carnival.forms.errStatus[data.returnCode] === undefined ){
					this.formError(data.errMsg);
				} else if (data.returnCode == "0") {
					this.clearFormError();
				} else {
					this.formError(carnival.forms.errStatus[data.returnCode]);
				}
			} else {
				this.clearFormError();
			}
		},
	
		clearFormError : function() {
			if(this.formEl.children('div.carnival-error').length > 0){
				this.formEl.children('div.carnival-error').hide();
			}
		},
	
		formError : function(msg){
			var theseButtons = this.formEl.find('#signonSubmits');
			if(!theseButtons.children('div.carnival-error').length){

				theseButtons.prepend('<div class="carnival-error" style="display:none" ></div>');
			}
			var el = theseButtons.children('div.carnival-error');
			el.html(msg).show();
		},

		flashMessage: function(msg){
			if(!this.formEl.children('div.carnival-flash').length){
				this.formEl.prepend('<div class="carnival-flash" style="display:none" ></div>');
			}
			var el = this.formEl.children('div.carnival-flash');
			el.html(msg).show();
		}
	
	};
	
	var errCodes = {};

	/**
	 * addErrorCode - method for adding custom error messages
	 * @param {String} code The code for the error message to override
	 * @param {String} message The custom message
	 */
	var addErrorCode = function(code,message){
		errCodes[code] = message;
	};

	//errStatus 2000 is for printing out whatever string is passed.
	var errStatus = {
		'3': 'An error occured.  Please try again.'
	};

	var addErrorStatus = function(code,message){
		errStatus[code] = message;
	};
	
	/**
	 * replicateDataPoints - Duplicate an HTML template and populates it with data
	 *   This method uses html comments as a data container.  The nodeValue of the
	 *   first comment in the container becomes the HTML template.
	 * @param {String|DomNode} moldContainer Container of HTML template to be duplicated
	 * @param {Object} values Data to be injected into template.
	 */
	var replicateDataPoints = function(container,values,templateContainer) {
		container = $(container);
		templateContainer = $(templateContainer || container);
		var template = (templateContainer.length ? templateContainer 
---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 26 Jan 2012 03:26:36 GMT
ETag: "74ad-4f20c7ec"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 29869
---Content---
(function($){	
//signon object	
signon = window.signon || {};
signon.folder = (!!(location.protocol.match(/https/))?"services":"about");
signon.originHost = carnival.configuration('originHost') || location.protocol+'//'+carnival.configuration('currentDomain');

	signon.injectFormProfile = function(){
		if($('#signon-form,#signon-profile').length) {
			var formid = $('#signon-form,#signon-profile')[0].id;
			var f = new carnival.forms.form(formid);
			carnival.captcha.initCaptcha('#carnival_cap');
			carnival.captcha.attachCaptcha(function(data){
				var subHash = window.location.hash.substring(1);
				if (subHash == "thenlpane_e") {
					var jUns = $("#subscription-form").find("input[name=subscriptions]:unchecked");
					var uns = [];
					for(var i = jUns.length;i--;){
						uns.push(jUns[i].value);
					}
					carnival.subscription.submitNewsletters(
						{subs:($("#subscription-form").serializeFormToJson().subscriptions || []),unsubs:uns},
						function(){
							carnival.utils.listener.fire('_carnival_after_login');
						},
						function(){
							carnival.forms.errorplacement("An error occurred. Please try again.",$("#signon-heading h1"));
						}
					);
				} else {
					f.addValue('apiKey',data.validationToken);
					carnival.user.submitConsumerProfile(f.serializeForm('*[name!=subscriptions]'),
					function(){
						carnival.utils.listener.fire('_carnival_after_login');
					},
					function(data){f.populateErrors.call(f,data);}
			);//subCP
			}//if news
			});//attach
		}//if
	}

	
	$( function(){
	
	 			
		/**
		* 	@description  The configuration object passed into modal.popit for the layout, 
		*				  positioning and events
		**/
		var signInNavConfig = {

			/**
			* 	@property{String} layout
			* 	@default "horizontal"
			* 	@description The layout of the modal and its contents
			*/
			layout 				: 'vertical',
			/**
			* 	@property {Boolean} isSticky
			* 	@default false
			* 	@requires currentNavConfig.container
			* 	@description Tells the modal if it should be floating and 
			*				 centered on the page or stuck to a specifc DOM node
			*/
			isSticky 			: true,
			/**
			* 	@property {String} addClass
			* 	@default null
			* 	@description If you want to add an extra class to the modal for styling
			*/
			addClass 			: null,
			/**
			* 	@property {String} addWrapper
			* 	@default null
			* 	@description An additional wrapper you can add to the menu
			*/
			addWrapper			: null,
			/**
			* 	@property {String} container
			* 	@default "body"
			* 	@requires currentNavConfig.isSticky
			* 	@description This is the container element where the modal will be appended to
			*/
			container 			: '#ssorNavSignIn',
			/**
			* 	@property {String} triggerHandler
			* 	@default "#signInLink"
			* 	@description The jQuery id reference to a DOM element that will 
			*				 trigger the modals opening
			*/
			triggerHandler		: '#signInLink',
			/**
			* 	@property {String} eventType
			* 	@default "click"
			* 	@description The event type that is listening to the triggerHandler DOM element
			*/
			eventType 			: 'click',
			/**
			* 	@property {Boolean} eventPreventDefault
			* 	@default false
			* 	@description Turns on the ability to prevent the events default repsonse
			*/
			eventPreventDefault : true
		
		};

		
		var a = new memberNav( '#memberLoginInfo'
		,null,
		function(){

			var signInLinkUrl = (carnival.configuration('ssorSignInLinkUrl') || "");
			var signUpLinkUrl = (carnival.configuration('ssorSignUpLinkUrl') || "");

			var backgroundColor = carnival.configuration( 'ssorNavBackgroundColor' ) || "";
			var navLocation = $( '#memberLoginInfo' );
			navLocation.html('');

			signUpLinkUrl = ((signUpLinkUrl!="") ? ("window.location='"+signUpLinkUrl+"'") : "");
			signUpLinkUrl = ((signUpLinkUrl!="") ? signUpLinkUrl : "carnival.user.resetUser();return signon.profile();");

			var navTemplate = '<div id="ssorNavSignIn">'+
									'<div id="ssorNavHeader">'+
										'<span id="signInLink" class="link">Sign In</span>'+
										'<span> or </span>'+
										'<span id="signUpLink" class="link" onclick="'+signUpLinkUrl+'" >Sign Up</span>'+
									'</div>'+
								'</div>';
			
			navLocation.append( navTemplate );

			if( backgroundColor ){
				$( '#ssorNavHeader' ).css( 'background-color', backgroundColor );	
			}
			
			carnival.utils.changeTextColor();

			/**
			*	@memberOf carnival.modal.popit
			* 	@description  Invokes the carnival popit method and returns the mini modal window with its current 
			*				  set of optional configs	
			**/
			var signOnLink = signon.originHost+'/'+signon.folder+'/site/registration/modal.signon';

			if (signInLinkUrl!="") {
				$('#signInLink').click( function(){ window.location = signInLinkUrl });
			}
			else {
				carnival.modal.popit( signOnLink, null, null, signInNavConfig );
			}

				//adjust height for different market classified bar heights
				var signInHeight = $('#classified-bar').outerHeight(true);
				var CBwidth = $('#classified-bar').outerWidth(true);
				var topMargin = $('#classified-bar').css('margin-top');
				var signInPadding = (signInHeight - $('#signInLink').height()) / 4;
				var $ssNH = $('#ssorNavHeader');
				var ssHNwidth = $ssNH.outerWidth(true);
				$ssNH.css('height',(signInHeight - signInPadding));	
				$ssNH.css('padding-top',signInPadding+'px');
				
			}).writeNav();
			
			$('#signInLink').click( function(){
				carnival.user.resetUser();
			});
					
					
	});

	//listeners on carnival events
	var cul = carnival.utils.listener;

	cul.listen('_carnival_activate_done',function(){
		if(carnival.configuration('activateMessages') == 'true'){ 
			carnival.modal.popit(
				signon.originHost+'/'+
				signon.folder+'/site/registration/activate-done.signon'
			);
		}
	});

	cul.listen('_carnival_activate_error',function(){
		if(carnival.configuration('activateMessages') == 'true'){
			carnival.modal.popit(
				signon.originHost+'/'+
				signon.folder+'/site/registration/activate-error.signon'
			);
		}
	});
	
	cul.listen('_carnival_pass_change',function(data){

		carnival.modal.popit(
			signon.originHost+'/'+
			signon.folder+'/site/registration/reset-password-form.signon',
			function(){
				var f = new carnival.forms.form('pass-create-form');
				$('.form-list').prepend(
					'<li><label class="label" for="email">Email Address</label><input class="email input" name="email" id="email"></li>'+
					'<li><label for="oldPassword" class="label">Old Password</label><input id="oldPassword" name="oldPassword" type="password" class="email input"></li>'
				);
				
				carnival.utils.changeTextColor();
				
				
				/******************************************
					Validator for Change Password Form
				*******************************************/
					//TODO merge with other validation 
					
					/**
					 * @namespace changePasswordForm
					 * @description  object literal that contains all of the necessary 
					 * 				methods and properties to handle the change password form validation
					 */
					var changePasswordForm = {

						/** 
						* 	@property {Object} $resetPasswordForm
						* 	@description The jQuery collection pointer to the change password Form
						**/
						$changePasswordForm: $( '#pass-create-form' ),

						/** 
						* 	@property {Function} init
						* 	@description The initialization method which clears the form and readies it for use
						*   @return void
						**/
						init: function(){
							this.removeErrors();
							this.formValidatorController( this.$changePasswordForm );	
						},

						/**
						 * @namespace inputValidationRules
						 * @description  Contains all inputValidation rules for all inputs in the change password field
						 */
						inputValidationRules:{

							password:{
								notBlank 	: {
									errorMessage: 'Field cannot be blank'
								},
								minLength :{
									lengthToCheck: 6,
									errorMessage: 'Password must be at least 6 characters'
								}
							},

							password2:{
								notBlank 	:  {
									errorMessage: 'Field cannot be blank'
								},
								minLength :{
									lengthToCheck: 6,
									errorMessage: 'Password must be at least 6 characters'
								},
								compareEquality : {
									errorMessage: 'Password and confirm password must match',
									valuesToCompare: [ 'password', 'password2' ]
								}
							},

							email:{
							 	notBlank 	: {
									errorMessage: 'Field cannot be blank'
								}
							},

							oldPassword:{
								notBlank 	: {
									errorMessage: 'Field cannot be blank'
								}					
							}

						},

						/**
						 * @namespace validators
						 * @description  A collection of form validators
						 */
						validators:{

							/** 
							* 	@property {Function} email
							* 	@param {String} value The value of an input field to be validated
							* 	@description An email validator to match test the passed input value 
							* 				 with a regular expression pattern
							*   @return {Boolean} true is returned if a valid email pattern is found
							**/
							email: function( value ){
								var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
								return emailRegex.test( value );  
							},

							/** 
							* 	@property {Function} notBlank
							*   @param {String} value The value of an input field to be validated
							* 	@description A notBlank validator to determine if the value of the input 
							* 				 passed is blank
							* 	@return {Boolean} true is returned if the value is not an empty string
							**/
							notBlank: function( value ){ 
								return  value == ""  ? false : true;
							},

							/** 
							* 	@property {Function} minLength
							*   @param {String} value The value of an input field to be validated
							* 	@description
							* 	@return {Boolean}
							**/
							minLength: function( value , minLength ){
								return ( value.length < minLength ) ? false : true;		
							},

							/** 
							* 	@property {Function} maxLength
							*   @param {String} value The value of an input field to be validated
							* 	@description
							* 	@return {Boolean}
							**/
							maxLength : function( value , maxLength ){
								return ( value.length > maxLength ) ? false : true;
							},

							/** 
							* 	@property {Function} maxLength
							*   @param {String} valueOne The value of an input field to be validated
							*   @param {String} valueTwo The value of an input field to be validated
							* 	@description
							* 	@return {Boolean}
							**/
							compareEquality : function( valueOne, valueTwo ){
								return valueOne === valueTwo;
							}

						},

						/** 
						* 	@property {Function} removeErrors
						* 	@description  Removes all error messages from the form
						* 	@return void
						**/
						removeErrors : function( ){

							var $errorsToClear = this.$changePasswordForm.find( '.carnival-error' );
							$errorsToClear.remove();

						},

						/** 
						* 	@property {Function} removeErrors
						*   @param {Object} form A jQuery collection pointer to the change password form
						* 	@description  Controller for all form validation and error handling
						* 	@return void
						**/
						formValidatorController: function( form ){

							 /** 
							 * 	@function collectFormInputs
							 * 	@private
							 * 	@description Grabs a collection of all input fields for a particular form {formId}
							 * 	@return {Object} inputs A hash representing the form input fields
							 **/
							 var collectFormInputs = function(){

								 /**
								  * A jQuery collection of all inputs
								  */
								 var $thisFormInputs = form.find( 'input' );
								 var inputs = {}; 

								 /**
								  * Iterate over the inputs and create an object that references 
								  * input fields within the form
								  */
								 $thisFormInputs.each( function(){

									 var thisName = $( this ).attr( 'id' );
									 var thisValue = $( this ).val();

									 inputs[ thisName ] = thisValue;


								 });

								 return inputs;

							 }();

							 /** 
							 * 	@function validateRules
							 * 	@private
							 *	@param rules {Object} The validation rules to check against
							 *  @param inputValue {String|Number} The value to validate
							 * 	@description Validates an input based on a series of rules
							 * 	@return {Array} Returns a collection of form errors
							 **/
							var validateRules = function( rules , inputValue ) {

								var isValid = null;
								var value = null;
								var valueTwo = null;
								var errorCollection = [];
								var error = {};

								 /** 
								 * 	@function isObjectEmpty
								 * 	@private
								 *	@param obj {Object}  The object to check against
								 * 	@description Checks to see if the object argument is empty
								 * 	@return {Boolean} Returns true if the object is empty
								 **/
								var isObjectEmpty = function ( obj ) {
								    for( var prop in obj ) {
								        if( obj.hasOwnProperty( prop ) ){
								        	return false;
								        }     
								    }
								    return true;
								};


								for( var rule in rules ){

									if ( !rules.hasOwnProperty( rule ) ) {
										continue;
									}

									if( rules[ rule ].hasOwnProperty( 'valuesToCompare' ) ){
										value = $( '#' + rules[ rule ].valuesToCompare[ 0 ] ).val();
										valueTwo = $( '#' + rules[ rule ].valuesToCompare[ 1 ] ).val();
										isValid = changePasswordForm.validators[ rule ]( value, valueTwo );

									}
									else if(  rule == 'minLength' ){
										isValid = changePasswordForm.validators[ rule ]( value, rules[ rule ].lengthToCheck );
									}
									else{
										value = inputValue;
										isValid = changePasswordForm.validators[ rule ]( value );
									}

									if( !isValid ){

										if( !error[ rule ] ){
											error[ rule ] = rules[ rule ].errorMessage;

										}

									}

								}

								if( !isObjectEmpty( error ) ){
									errorCollection.push( error );	
								}
								return errorCollection;

							};

							/** 
							 * 	@function displayError
							 * 	@private
							 *	@param inputId {String}  The input to append the errors to
						 	 *	@param errors {Object}  The object of errors to display
							 * 	@description Displays errors based on the input field that failed validation
							 * 	@return void
							 **/
							var displayError = function( inputId, errors ){

									var $input = $('#' + inputId );
									var errorContainer ="";
									var errorToCheck = "";
									var $errorParentContainer = "";

									for( var error in errors ){

										if ( !errors.hasOwnProperty( error ) ) {
											continue;
										}

										$errorParentContainer = $input.parent();
										errorToCheck = $errorParentContainer.find('.carnival-error .' + error );
										if( errorToCheck.length == 0 ){
											errorContainer = '<div class="carnival-error ' + error + '">' + errors[ error ] + '</div>'
											$input.after( errorContainer );
										}

									}


							};

							/** 
							 * 	@function validateFormInputs
							 * 	@private
							 *	@param inputs {Object}  The inputs to validate
						 	 *	@param rulesToValidate {Object}  The rules to validate against
							 * 	@description Validates the form inputs based on a set of rules
							 * 	@return void
							 **/
							var validateFormInputs = function( inputs , rulesToValidate ){

								var rules = null;
								var value = null;
								var errors = null;
								var success = true;

								for ( var name in inputs ) {

									if ( !inputs.hasOwnProperty( name ) ) {
										continue;
									}

									rules = rulesToValidate[ name ];
									value = inputs[ name ];

									if( rules ){
										errors = validateRules( rules , value );

										if( errors.length > 0 ){

											for( var i = 0, errorsLength = errors.length; i < errorsLength; i++ ){
												displayError( name, errors[ i ] );
											}

											success = false;
										}

									}

								}

								if( success ){
									changePasswordForm.submitForm();	
								}

							};

							validateFormInputs( collectFormInputs , this.inputValidationRules );

						},
						
						/** 
						 * 	@function submitForm
						 * 	@private
						 * 	@description Upon successful validation submits the form
						 * 	@return void
						 **/
						submitForm: function(){
							carnival.utils.listener.fire('send_pass_change');
							return false;
						}

					};
				
				
					$('#pass-create-form #signon-submit').click( function(){
						changePasswordForm.init();
						return false;
					});
				
			}
		);
	});
	
	cul.listen('send_pass_change',function(){
		var f = new carnival.forms.form('pass-create-form');
		var data = $('#pass-create-form').serializeFormToJson();
		carnival.user.submitUserChange(data,
			function(transport){
				carnival.modal.dropit();
			},	
			function(transport){f.populateErrors.call(f,transport);}
		);
	});
	
// controllers
carnival.site = window.carnival.site || {};

carnival.site.profile_form = function(){
		carnival.configuration('captchaType','securityFilter');
		try{$(function(){carnival.utils.birthyear();});}catch(e){}
		carnival.captcha.initCaptcha('#carnival_cap');
		carnival.captcha.getCaptcha(function(data){
			$('#carnival_cap').append(data.htmlText);
		});
	
		var f = new carnival.forms.form('signon-profile');
		carnival.user.getConfigRules(f.formatForm,f);
		carnival.user.getConsumerProfile(function(){
			carnival.user.profile('emailArray',carnival.user.getEmailAddresses());
			f.populateData(carnival.user.profile());
			f.addValue('facebookMessage','');
			f.addValue('sendNewRegistrationEmail','');
			f.addValue('twitterMessage','');
		});
	
		var $birthMonth = $( "#birthMonth" );
		var $birthYear = $( "#birthYear" )
		var $birthDay = $( "#birthDay" );
	
		f.formValidator.bindValidator( "email" , [ "@NotNull", "@Email","@Min=5", "@Profane" ] );
		f.formValidator.bindValidator( "password" , [ "@NotNull","@Min=6", "@Profane" ] );
		f.formValidator.bindValidator( "userName" , [ "@Profane" ] );
		f.formValidator.bindValidator( "currentAge" , [ "@NotNull" ] );
		
		$("#birthMonth, #birthYear, #birthDay").bind( "change" , function(){
			if( checkedIfAllDatesEntered() ){
				populateFullDate ( calculateFullDate() );
			}
		});

		var checkedIfAllDatesEntered = function(){
			return ( $birthMonth.val() != "" ) && ( $birthDay.val() != "") && ( $birthYear.val() != "");
		};

		var calculateFullDate = function(){
			return $birthMonth.val() + "/" + $birthDay.val() + "/" + $birthYear.val();
		};
		
		var populateFullDate = function( date ){
			$( "#currentAge" ).val( date );
		};
		
		var checkForBirthdate = function(){
			if( checkedIfAllDatesEntered() ){
				populateFullDate ( calculateFullDate() );
			}
		}

		carnival.utils.listener.listen('formPopulated', checkForBirthdate );

		$( "#signon-profile" ).submit( function( event ){ 

			event.preventDefault();

			var success = f.formValidator.validateForm();

			if( success ){
				carnival.captcha.verify();
			}
			else{
				return false;
			}

		});
		
	
		try{
			if($('input[name=userName]').val().length)$('input[name=userName]').change();
		}catch(e){}
		
		signon.injectFormProfile();	

}

//UNLINK
carnival.site.unlink = function(selector){
		carnival.user.getConsumerProfile(function(){
			var p = carnival.user.provider();
			for( var i in p){
				if(!i.match(/isoprovider/))
					$(selector || "#signon-linked-accounts").append("<div class='providerOption'><div class='signon-logo' id='"+i.toLowerCase().split(/\s+|\.|!/)[0]+"'><span>"+i.toLowerCase()+"</span></div></div>");
			}
		});
}

carnival.site.link_options = function(url){

	$(function(){
		if(url) {
			if( !url.match('loginHost=')){
				url = url+'&r='+(new Date()).getTime()+'&loginHost='+url.match((new RegExp('^((?:f|ht)tp(?:s)?\://(?:[^/]+))','im')))[1].toString();
			}
			$.ajax({
				url:url,
				success:function(e){
				$("#signon-linked-accounts").append(e)
				},
				error:carnival.site.unlink
			});
		} else {
			carnival.site.unlink();
		}
		$('#email').parent('li').append('<div id="link-additions" > \
		<div id="link-additions-choices" style="display:none"> \
		<iframe src="'+carnival.configuration('hostname')+'/registration/link.jsp?callbackUrl='+ document.location.protocol+'//'+document.location.hostname+'/services/site/registration/popupclose.signon" width="510" scrolling="no" height="200" frameborder="0" style="border:0;margin-bottom:10px;"></iframe> \
		</div> \
		</div>');
		var linkEl = $('<a href="#" class="add_acct_link">Link Additional Accounts</a>').insertBefore('#link-additions');
		linkEl.click(function(){
			$('#link-additions-choices').show(); return false;
		});
	});
}

carnival.site.link_options_profile = function(url){

	$(function(){
		if(url) {
			if( !url.match('loginHost=')){
				url = url+'&r='+(new Date()).getTime()+'&loginHost='+url.match((new RegExp('^((?:f|ht)tp(?:s)?\://(?:[^/]+))','im')))[1].toString();
			}
			$.ajax({
				url:url,
				success:function(e){
				if(e.match(/NASCAR/)){
					carnival.site.unlink("#signon-linked-accounts");
				}else{
					$("#signon-linked-accounts").append(e);
				}
				},
				error:function(){carnival.site.unlink("#signon-linked-accounts")}
			});	
		} else {
			carnival.site.unlink("#signon-linked-accounts");
		}
	});
}

carnival.site.link_options_profform = function(url){

	$(function(){
		if(url) {
			if( !url.match('loginHost=')){
				url = url+'&r='+(new Date()).getTime()+'&loginHost='+url.match((new RegExp('^((?:f|ht)tp(?:s)?\://(?:[^/]+))','im')))[1].toString();
			}
			$.ajax({
				url:url,
				success:function(e){
				if(e.match(/NASCAR/)){
					carnival.site.unlink("#signon-linked-accounts-form");
				}else{
					$("#signon-linked-accounts-form").append(e);
				}
				},
				error:function(){carnival.site.unlink("#signon-linked-accounts-form")}
			});	
		} else {
			carnival.site.unlink("#signon-linked-accounts-form");
		}
		$('#acct-links-form').append('<div id="link-additions-form" > \
		<div id="link-additions-choices-form" style="display:none; margin-left:4px;"> \
		<iframe src="'+carnival.configuration('hostname')+'/registration/link.jsp?callbackUrl='+ document.location.protocol+'//'+document.location.hostname+'/services/site/registration/popupclose.signon" width="320" scrolling="no" height="370" frameborder="0" style="border:0;margin-bottom:10px;"></iframe> \
		</div> \
		</div>');
		var linkEl = $('<a href="#" class="add_acct_link">Link Additional Accounts</a>').insertBefore('#link-additions-form');
		linkEl.click(function(){
			$('#link-additions-choices-form').show();
			return false;
		});
	});
}

carnival.site.thanks_page = function(){
	$('#view-profile-link').click(function(){
		if(!carnival.user.isLoggedIn()){
		
			var link = signon.originHost+'/'+signon.folder+'/site/registration/modal.signon';
			var elem = $('<a href="'+link+'" >a</a>')
			carnival.modal.popit(elem[0]);
			
			carnival.user.afterLogin(function(){
				window.location.href = $('#view-profile-link')[0].href;
			});
			return false;
		}
	});
	carnival.utils.listener.listen('_carnival_newsletters_finish',function(){
		$('#subscription-form').html('<div class="left" ><h2>Thank you for subscribing to our online newsletters.</h2></div>');
	});
};


carnival.site.subscription_links = function() {
	$('.subscription_links').click(function(){
		carnival.subscription.fired =  0 ;
		carnival.modal.popit(this);return false;
	});
	carnival.subscription.getNewsletters(function(data){if(!data)$('#newsletter-signup').hide();});
	carnival.subscription.getNewsletterSubscriptions(function(data){
		var values = [];
		for(var i in data){
			values.push(data[i]);
		}
		//TO DO: Order NL displays by alpha
		if(!values.length){
			$('#newsletter-list').html('<p>You are currently not subscribed to any newsletters.</p>');
		}else{
			$('#newsletter-list').html('<ul><li>' + values.join('</li><li>') + '</li></ul>');
		}
	});
}

carnival.site.subscription_links_profile = function() {
	
	carnival.subscription.fired = 0;
	
	carnival.subscription.getNewsletters(function(data){if(!data)$('#newsletter-signup').hide();});
	carnival.subscription.getNewsletterSubscriptions(function(data){
		var values = [];
		for(var i in data){
			values.push(data[i]);
		}
		if(!values.length){
			$('#newsletter-list').html('<p>You are currently not subscribed to any newsletters.</p>');
		}else{
			$('#newsletter-list').html('<ul class=\"prof-subs\"><li>' + values.join('</li><li>') + '</li></ul>');
		}
	});
}

// PROFILE UI handler functions

setup_profile = function() {
	
	$('.pw').hide();

	if (window.location.hash) {
		var sendhash = window.location.hash.substring(1);
		var showedit = sendhash.substring(sendhash.length-2);
		var valhash = sendhash.substring(3);
		if ( $('.profile-tab-nav > ul > li').is('[rel='+valhash+']') ) {
			// a - ok
		} else if (showedit == "_e") { 
			var tabrel = "";
			make_edit();
			$('.edit-link').html("View Profile");
		} else {
			sendhash = "theacpane";
		}
		setuppane(sendhash);
	} else {
		setuppane("theacpane");
	}
	
}//end setup_profile

$(function() {

	var cxFlag = 0;  //1=warning
	
	//newsletter form fix
	$('.unlinksso').click(function(event) {
		event.preventDefault();
		carnival.site.unlinkprof();
	});
	
	$('.profile-tab-nav > ul > li').click(function(event) {
		if (cxFlag == 0) {
			var whichpane = "the" + $(this).attr("rel");
			var forposthash = whichpane.substring(whichpane.length-2);
			if (forposthash == "_e") {
				postHash = "#the" + $(this).attr("rel");
				postHash = postHash.substring(0,postHash.length-2);
				newCallback = oldCallback + postHash;
			}
			
			setuppane(whichpane);
			
		}
	});
	
	
	//subscription add/modify link
	$('.subscription_links').click(function(event) { 
		event.preventDefault();
		var tabrel = "";
		postHash = "#thenlpane";
		newCallback = oldCallback + postHash;
		make_edit();
		$('.edit-link').html("View Profile");
		setuppane("thenlpane_e");
	});
	
	$('a#signon-cancel').click(function(event) {
		if (cxFlag == 0) {
			event.preventDefault();
			var newhash = window.location.hash.substring(1);
			var tabrel = "";
			make_view();
			$('.edit-link').html("Edit Profile");
			newhash = newhash.substring(0,(newhash.length-2));
			setuppane(newhash);
			if (newhash == "thenlpane") {
				window.location.reload();
			}
		}
	});
	
	$('a#au-cancel').click(function(event) {
		event.preventDefault();
		window.location = oldCallback;
	});
		
	$('.edit-link').click(function(event) {
			var newhash = window.location.hash.substring(1);
			var tabrel = "";
			if ($(this).html() == "Edit Profile") {
				$(this).html("View Profile");
				make_edit();
				postHash = "#" + newhash;
				newCallback = oldCallback + postHash;
				newhash += "_e";
			} else {
				if (cxFlag == 0) {
					$(this).html("Edit Profile");
					make_view();
					newhash = newhash.substring(0,(newhash.length-2));
				}
			}
			setuppane(newhash);
			event.preventDefault();
	});
	
	$('#pwtoggle').click(function() {
		if ($(this).is(':checked')) {
			$('.pw').show();
		} else {
			$('.pw').hide();
		}
	});
	
	
	// leave page on edit warning functions
	$('#signon-profile').find(':input').focus(function() {
		$(this).change(function() {
			cxFlag = 1;
		});
	});
	
	//are you sure? modal on change and leave pane
	$('.edit-link,.profile-tab-nav > ul > li').click(function(event) {
		if (cxFlag == 1) {
			carnival.modal.popit($('#panewarning').val(),function(){
					
					$('button#panewarning-no').click(function() {
						window.location.reload();
					});
					$('button#panewarning-cancel').click(function() {
						carnival.modal.dropit();
					});
					$('button#panewarning-yes').click(function() {
						carnival.modal.dropit();
						$('form#signon-profile').submit();
					});
					
				});
			event.preventDefault();
		}//if
		
	});
	
	$('.pwchange').click(function(event) {
		event.preventDefault();
		carnival.utils.listener.fire('_carnival_pass_change')
	});
	
	//workaround for NL link on membernav dropdown
	$('#NLddlink').live('click',function(e) {
		//only execute this block on a profile page
		var prrx = /show-profile/i;
		if (prrx.test(window.location.pathname)) {
			e.preventDefault();
			setuppane("thenlpane");
		}
	});
		
}); //be in jquery

function setuppane(thepane) {
	var nlFlag = 0;
	var tab = $('.profile-tab-nav > ul > li');
	var relpane = thepane.substring(3);
	var edbool = relpane.substring(relpane.length-2);
	if (edbool == "_e") {
		if (relpane != "avpane_e") {
			$('#termsbox').show();
			$('#submitbox').show();
		} else { 
		 	$('#termsbox').hide();
			$('#submitbox').hide();
		}
	} else {
		$('#termsbox').hide();
		$('#submitbox').hide();
	}
	if (tab.hasClass("tab")) {
		$('div#profile-content > div').hide();
		$('div#profile-content > div#'+ relpane).show();
		$('.current_tab').removeClass("current_tab").addClass("tab");
		$('.profile-tab-nav > ul > li[rel='+relpane+']').removeClass("tab").addClass("current_tab");
	}
	if (relpane == "avpane") {
		$('#avatar-display img').attr('src',$('#avatar-display img').attr('src').replace(/\?+.*$|$/,'?'+(new Date()).getTime()));
	}
	window.location.hash = thepane;
	$('a.edit-link').attr("href","show-profile.signon#" + thepane);
}//setuppane

function make_edit() {
	$('.profile-tab-nav > ul > li').each(function(index) {
		tabrel = $(this).attr("rel");
		tabrel += "_e";
		$(this).attr("rel",tabrel);
		(carnival.user.is3rdPartyLogin()) ?	$('.pw').hide() : $('.pw').show();
	});
}//

function make_view() {
	$('.profile-tab-nav > ul > li').each(function(index) {
		tabrel = $(this).attr("rel");
		tabrel = tabrel.substring(0,(tabrel.length-2));
		$(this).attr("rel",tabrel);	
	});
}


})(jQuery);

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.HttpChunk$1@194266e5
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@6048c015
---Content---
: container)[0].firstChild.nodeValue;
		for (var key in values) {
			if (values.hasOwnProperty(key)) {
				template = template.replace(new RegExp('\\$\\{'+key+'\\}','g'),carnival.utils.escapeHTML(values[key]));
			}
		}
		container.append(template.replace(/\$\{[^\}]*\}/g,''));
	};

	var createFormFields = function(location,data,templateContainer){
		for( var j = data.length, i = j+1 ; --i ;){
		    carnival.forms.replicateDataPoints(location,data[j-i], templateContainer);
		}
	};

	var errorplacement = function(er, element) {
		var el = element.siblings('span.signon-error') ;
		if(!el.length) {
			el = $('<span class="signon-error"><span>').insertAfter(element);
		}
		el.html(er);
	};
	
	var isTextField = function( element ){
		return element.nodeName == "TEXTAREA" && 
			   ( element.type == "textarea" || element.type == "hidden" );
	};
	
	var isInput = function( element ){
		return element.nodeName == "INPUT" && 
			   ( element.type == "text" || element.type == "hidden" || element.type == "password" );
	};

	var isSelect = function( element ){
		return element.nodeName == "SELECT";
	};

	var isCheckbox = function( element ){
		return element.nodeName == "INPUT" && 
			   element.type == "checkbox";
	};
	var isRadio = function ( element ){
		if ( element ){
			return element.nodeName == "INPUT" &&
			 	   element.type == "radio";
		}
	};

	var stripWhiteSpace = function( value ){
		if( !value ){
			return "";
		}
		return value.replace(/^\s+|\s+$/g,""); 
	};

		var	disableButton = function( element ){

			if( carnival.utils.objects.isAJqueryCollection( element ) ){
				element.attr( "disabled", "disabled" );
			} 
			else {
				$( element ).attr( "disabled", "disabled" );
			}

		};
		
		var enableButton = function( element ){
			if( carnival.utils.objects.isAJqueryCollection( element ) ){		
				element.removeAttr("disabled");
			} 
			else {
				$( element ).removeAttr("disabled");
			}

		};



	return {
		form:form,replicateDataPoints:replicateDataPoints,
		createFormFields:createFormFields,errorplacement:errorplacement,
		addErrorCode:addErrorCode,errCodes:errCodes,
		addErrorStatus:addErrorStatus,errStatus:errStatus,
		isInput:isInput,isSelect:isSelect,isCheckbox:isCheckbox,isRadio:isRadio,isTextField:isTextField,
		stripWhiteSpace:stripWhiteSpace, disableButton:disableButton, enableButton:enableButton
	};
}(jQuery,document,window);


/**
 * utils
 * @namespace
 */
carnival.utils = function($,window,document,undefined){
	var // keep all declarations under one var
	/**
	 * birthyear - makes sure that age is greater than 13
	 * @param {String} yearid the id for the select element with year values
	 * @param {String} monthid the id for the select element with month values
	 * @param {String} dayid the id for the select element with day values
	 */
	 birthyear = function(yearid,monthid,dayid) {	
		yearid = yearid || 'birth_year_span';
		monthid = monthid || 'birth_month_span';
		dayid = dayid || 'birth_day_span';
		var yearspan, monthspan, dayspan,
				today = new Date(), // better validate serverside later;
		checkYear = function(){
			if(yearinput.val() == today.getFullYear() - 13) {
				monthspan.css({display:'block'});
			}
		},
		checkMonth = function(){
			if(monthinput.val() > today.getMonth() ) {
				dayspan.css({display:'block'});
			}
		};
		if((yearspan = $('#'+yearid)) && (monthspan = $('#'+monthid)) && (dayspan = $('#'+dayid))) {
			yearinput = yearspan.find('select');
			monthinput = monthspan.find('select');
			yearinput.bind('focus change',checkYear);
			monthinput.bind('focus change',checkMonth);
		}
	},

	cleanLocation = function(){
		return document.location.toString().replace(/(?:(\?)|&)(reset_flag|email_token|h_token|logout|token|verified)=[^&]*/g,'$1').split("#")[0];
	},
	
	/**
	 * @function changeTextColor
	 * @description Changes the text color to the P2P param ssorModalTextColor
	 * @return void
	 */
	changeTextColor = function(){
		
		var modalTextColor = carnival.configuration( 'ssorModalTextColor' ) || "";
	
		if( modalTextColor ){
			carnival.logger.info('change text color=' + modalTextColor );
			$( '#prForm, #ssorNavHeader span, #ssorNavHeader a, #ssorNavBody a, #ssorNavHeader label, #carnivalContent span, #carnivalContent label, #carnivalContent ul, #carnivalContent li, #carnivalContent #emailConfirm, #carnivalContent p, #carnivalContent a, #carnivalContent h1, #carnivalContent h2, #carnivalContent h3, #carnivalContent .carnival-flash, #carnivalContent .nl-header, #carnivalContent .show_nl_desc, #carnivalContent .newsletter_description, #userNameAvailable, #carnivalModal.registration label, #carnivalInnercontent #email_address_taken, #carnivalInnercontent h1').css( 'color', modalTextColor );			
		}
		
		$( '#carnivalContent .selectContent, #carnivalContent #signonSubmits #signon-submit, #carnivalContent #signonSubmits #signon-submit span, #carnivalContent .selectOptions span, #recaptcha_instructions_image' ).css('color' , '#000');
		$('#carnivalModal.registration .error, #carnivalModal.registration .agreement .error').css('color' , '#F00');
	},
	
	
	/**  
	 * @function getBlueprintValue
	 * 
	 * @description calls service and returns value for blueprints data 
	 * @param bpCode - blueprints code [basically a key for the value] corresponding to the requested value
	 * @param callback - callback to handle the resulting value
	 * @param pCode - market product Code (optional - defaults to current)
	 * @return undefined or string "getBlueprintValue error" (b/c return value from service is string "true" or "false")
	 */
	getBlueprintValue = function(bpCode,callback,errCallback,pCode) {
		var BPSapiKey = "Carniva1";
		var pCode = pCode || carnival.configuration('product');
		var bpCode = bpCode || null;
		if (!bpCode) {
			carnival.logger.error("No Blueprint code was passed to utils.getBlueprintValue");
			return "getBlueprintValue error";	
		} else if (!callback) {
			carnival.logger.error("No Callback method was passed to utils.getBlueprintValue");
			return "getBlueprintValue error";
		}
		var reqParams = "apiKey="+BPSapiKey+"&code="+bpCode+"&productCode="+pCode;
		var BPSURL = carnival.configuration('hostname') + "/registration/trbsecurity/blueprintquery";
		
		$.ajax({
			url: BPSURL,
			type: "GET",
			contentType: 'application/x-www-form-urlencoded',
			data: reqParams,
			success: function(sdata) {
				//only update utils.blueprints for current product
				if (pCode == carnival.configuration('product')) {
					carnival.utils.blueprints(bpCode,sdata['value']);
				}
				callback(sdata['value']);
			},
			error: function(xmlReq, txtStatus, errThrown) {
				if (!!errCallback) { errCallback(); }
				carnival.logger.error( "getBlueprintValue error" );
			}
		});
				
	},
	
	blueprints = function(key,value){
		var _bp = this;
		if(key){
			if(key.constructor == String){
				if(value!=undefined){
					_bp[key] = value;
				}
				return _bp[key];
			} else {
				_bp = carnival.utils.merge(_bp,key);
			}
		}
		return _bp;
	},

	/**
	 * serializeJSON - turns JSON to string.  Uses built in
	 *   JSON.stringify if available
	 */
	serializeJSON = /* (typeof JSON != 'undefined' && !!(JSON.stringify) ) ? JSON.stringify : */ function (obj) {
		var t = typeof (obj);
		if (t != "object" || obj === null) {
			if (t == "string"){ obj = '"'+obj+'"'; }
			return obj;
		} else {
			var n, v, json = [], arr = (obj && obj.constructor == Array);
			for (n in obj) {
				if (obj.hasOwnProperty(n)) {
					v = obj[n]; t = typeof(v);
					if (t == "string") {v = '"'+v+'"';}
					else if (t == "object" && v !== null) {v = serializeJSON(v);}
					json.push((arr ? "" : '"' + n + '":') + String(v));
				}
			}
			return (arr ? "[" : "{") + String(json) + (arr ? "]" : "}");
		}
	},

	parseJSON = function(stringJSON){
		var data = '';
		try{data = (new Function("return "+stringJSON))();}catch(e){try{data=eval("("+stringJSON+")");}catch(f){}}
		return data;
	},

	/**
	 * sameHeight - adjusts elements to all have the same height
	 * @param elems {Object} elements that need to adjusted
	 * @param colCount {Number} allows for grouping of x number of elements at a time
	 */
	sameHeight = function(elems,colCount){
		colCount = colCount || elems.length;
		var totalCount = elems.length;
		elems.css({height:""});
		for(var i = 0;i-colCount <= totalCount;i += colCount){
			var heights = [0],j;
			for(j = i;(j==i || (j % colCount)) && j < totalCount;j++){
				heights.push($(elems[j]).height());
			}
			heights = Math.max(heights);
			for(j = i;(j==i || (j % colCount)) && j < totalCount;j++){
				$(elems[j]).height(heights);
			}
		}
	},

	/**
	 * merge - merges two objects
	 * @param {Object} original Original object
	 * @param {Object} update Object to merge in.  These values overwrite.
	 * @returns {Object} Merged object
	 */
	merge = function(original,update){
		var value='';
		for (var key in update) {
			if (update.hasOwnProperty(key)) {
				value = ((!!update[key]) && update[key].constructor == String)?update[key].replace(/<[^>]*>/g,''):update[key];
				original[key] = value;
			}
		}
		return original;
	},

	/**
	 * popup - open popup window
	 *   opens empty window first, then opens url inside that window to set referrer in IE
	 * @param {String} URL url of page to open
	 */
	popUp = function(){
		var page = null;
		var _popUp = function(URL) {
			if(page != null){
				page.close();
			}
			page = window.open('','_carnival_popup','toolbar=0,scrollbars=1,location=0,statusbar=1,menubar=0,resizable=1,width=768,height=480');
			$(window).bind("unload", function() {
				page.close();
			});
			if(URL){page.location = URL;}
			try{page.focus();}catch(e){}
		};
		return _popUp;
	}(),

	/**
	 * listener - Singleton.  used to subscribe to and fire events
	 */
	listener = function(){
		/**
		 * @param {Object} evts the container for all event listeners
		 * @private
		 */
		var evts = {};

		/**
		 * listen - subscribe to events
		 * @param {String} evtName the name to be listening for
		 * @param {Function} method the function to be fired
		 * @param {Object} scope the value for the 'this' object inside the function
		 */
		var listen = function(evtName,method,scope) {
			if(method && method.constructor == Function) {
				evts[evtName] = evts[evtName]||[];
				evts[evtName][evts[evtName].length] = {method:method,scope:scope};
				if (carnival.configuration('eventTracing') == 'true') {		
					carnival.logger.info("LISTENING FOR: " + evtName + "? " + listening(evtName));
				}
			}
		};

		/**
		 * fire - call all the event handlers
		 * @param {String} evtName the name of the event listner to invoke
		 * @param {Boolean} remove Whether or not to unsubscribe all listeners
		 */
		var fire = function(evtName,args) {
			args = args || [];
			if( evts.hasOwnProperty(evtName)) {
				var evt = evts[evtName].reverse();
				for(var i=evt.length;i--;) {
					try{
						evt[i].method.apply(evt[i].scope||[],(args.data||[]));
					}catch(e){
						if(args && args.data && args.data.push) {
							evt[i].method(args.data[0]);
						} else {
							evt[i].method();
						}
					}
				}
				if(args.remove) {
					kill(evtName);
					carnival.logger.info("Listener Removing: " + evtName);
				}
			}
			//event tracing:
			if (!!carnival.configuration('eventTracing')) {
				carnival.logger.info("EVENT FIRED: " + evtName);
			}
		};
	
		var listening = function(evtName){
			if (!!evtName) {
				return !!evts[evtName];
			} else {
				return evts;
			}
		};
		
		var kill = function(evtName){
			if(evts.hasOwnProperty(evtName)) {delete evts[evtName];}
			if (carnival.utils.getUrlVar('listenerDebug') == 'true') {
				//console.log("HEARING: " + evtName + "? " + listening(evtName));
			}
		};
	
		// return the public functions
		return {listen:listen,fire:fire,kill:kill,listening:listening};
	}(),

	getUrlVar = function(){
		var vars;
	
		/**
		 * getVar - Get values from url parameters.  If no arguments are passed,
		 *   object with all URL parameters is returned.
		 * @param {String} key URL parameter to retrieve.
		 */
		var getVar  = function(key){
			if(!key){return getVars();}
			return getVars()[key];
		};
	
		/**
		 * getVars - Get object with all URL parameters
		 * @private
		 * @returns {Object} all URL parameters
		 */
		var getVars = function(){
			if(vars){return vars;}
			vars = {};
			var hashes;
			if(!!(hashes = window.location.href.replace(/(\?[^\?]*)\?/g,'$1&').split('?')[1])) {
				var hash = [];
				var eqPos;
				hashes = hashes.split('&').reverse();
				for(var i=hashes.length;i--;){
					eqPos = hashes[i].indexOf('=');
					hash[0] = hashes[i].substring(0,eqPos);
					hash[1] = hashes[i].substring(eqPos+1, hashes[i].length);
					vars[hash[0]] = hash[1];
				}	
			}	
			return vars;
		};
	
		return getVar;
	}(),
	
	
	
	

	contains = function(arr,obj){
		if(arr.indexOf){
			return arr.indexOf(obj)<0;
		}
		return $.inArray(arr,obj);
	},
	
	uniqueArray = function(a) {
		var retVal = [];
		for(i=0;i<a.length;i++){
			if(contains(retVal,a[i])){
				retVal.push(a[i]);
			}
		}
		return retVal;
	},
	
	escapeHTML = function(input){
		return input.replace(/&/g,'&amp;').replace(/>/g,'&gt;').replace(/</g,'&lt;').replace(/"/g,'&quot;');
	},
	
	cookies = $.cookies; // this can be changed to another cookie lib later if we need to
	
	return {birthyear:birthyear,listener:listener,merge:merge,sameHeight:sameHeight,cookies:cookies,
		getUrlVar:getUrlVar,serializeJSON:serializeJSON,popUp:popUp,escapeHTML:escapeHTML,changeTextColor:changeTextColor,
		cleanLocation:cleanLocation,uniqueArray:uniqueArray,parseJSON:parseJSON, getBlueprintValue:getBlueprintValue, blueprints:blueprints};
}(jQuery,window,document);

/*****************************************
	new utility methods
*******************************************/

carnival.utils.arrays = {
	
	isEmpty: function( array ){
		return ( array.length == 0 ) ? true : false;
	}

};

carnival.utils.Errors = function( config ){
	this.constructor( config );		
};

carnival.utils.Errors.prototype = ( function( $ ){ 
	
	return {
		
		constructor: function( config ){
			
		},
		
		/** 
		* 	@property {Function} throwException
		* 	@param {String} name 
		* 	@param {String} message 
		* 	@description 
		*   @throws {Error} 
		**/
		throwException: function( name, message ){
			var error = new Error();  
			error.name = name || "";  
			error.message = message || "";  
			throw ( error );
		}
	}
	
})();

carnival.utils.strings = {
	
	isAString : function( string ){
		return string.constructor == String;
	},
	
	capitalizeFirstLetter: function ( str ) {
	    var firstLetter = str.substr( 0, 1 );
	    return firstLetter.toUpperCase() + str.substr( 1 );
	},
	
	isEmpty: function( value ){
		//handle whitespace characters
		if( value == "" ){
			return true;
		}
		else{
			return false;
		}
	}	
};

carnival.utils.objects = {
	
	isAnObject : function( object ){
		return object.constructor == Object;
	},
	
	isAJqueryCollection : function( object ){
		return object.jquery !== undefined;
	}
		
};



/****************************************/

/**
 * user - functions related to userprofile
 * @namespace
 */
carnival.user = function($,window,document,undefined){
	var data={}, _profile={}, _provider = {}, config = carnival.configuration;

	var profile = function(key,value){
		if(key){
			if(key.constructor == String){
				if(value!==undefined&&value!==null){
					if(value.constructor == String){value = value.replace(/<[^>]*>/g,'');}
					_profile[key] = value;
				}
				return _profile[key];
			} else {
				_profile = carnival.utils.merge(_profile,key);
				
			}
		}
		return _profile;
	};
	
	var resetUser = function(){	
		_profile={};
	};
	

	var provider = function(key,value){
		if(key){
			if(key.constructor == String){ 
				if(value!=undefined){
					_provider[key] = value;
				}
				return _provider[key];
			} else {
				_provider = carnival.utils.merge(_provider,key);
			}
		}
		return _provider;
	};

	/**
	 * isLoggedIn - Function for determining if current user is logged in.
	 * @returns {Boolean} logged in or not
	 */
	var isLoggedIn = function(){
		try{return carnival.utils.cookies.get(config('c_mid')) !== null;}catch(e){return false;}
	};

	/**
	 * getCookieProfile - Function for determining if current user is logged in.
	 * @returns {Object} userprofile with data set coming from cookies
	 */
	var getCookieProfile = function(){
		profile('userName', carnival.utils.cookies.get(config('c_unm')) );
		profile('masterId', carnival.utils.cookies.get(config('c_mid')) );
		profile('lastProviderLogin', carnival.utils.cookies.get(config('c_llp')) );
		return profile();
	};

	var afterLogin = function(callback,scope){
		carnival.utils.listener.kill('_carnival_after_login');
		carnival.utils.listener.listen('_carnival_after_login',callback,scope);
	};
	
	var appendAfterLoginEvent = function(callback,scope) {
		carnival.utils.listener.listen('_carnival_after_login',callback,scope);
	};

	var login = function(cancelCallback){
		cancelCallback = (cancelCallback === true);
		setCarnivalCookie(cancelCallback);
	};

	var getEmailAddresses = function(){
		var p = profile(),i;
		var emails = [];
		var _verified = 0;
		profile('email',(p.email && p.email.length)?p.email:'');
		emails.push(profile('email'));
		if('false' != carnival.user.profile('isEmailVerified')  && 'false' != carnival.user.profile('isEmailExists')) {
			if(p.linkedIdentifiers && p.linkedIdentifiers.push){
				for(i = p.linkedIdentifiers.length;i--;){
					if(p.linkedIdentifiers[i].emailAddress && p.linkedIdentifiers[i].emailAddress.length){
						if(p.linkedIdentifiers[i].emailStatus == 'VERIFIED'){
							if((!profile('email') || !profile('email').length)){
								profile('email',p.linkedIdentifiers[i].emailAddress);
							}
							emails.push(p.linkedIdentifiers[i].emailAddress);
							profile(    'isEmailVerified','true');	
						}else if((!profile('email') || profile('email').length) && p.linkedIdentifiers[i].emailAddress.length){
							profile('email',p.linkedIdentifiers[i].emailAddress);
							emails.push(p.linkedIdentifiers[i].emailAddress);
						}
					}
				}
			} 
			if(!emails.length && profile('email') && profile('email').length) {
				emails.push(profile('email'));
			}
		} else {
			profile('isEmailVerified','false');
			if(p.linkedIdentifiers && p.linkedIdentifiers.push){
				for(i = p.linkedIdentifiers.length;i--;){
					if(p.linkedIdentifiers[i].emailAddress == profile('email') && p.linkedIdentifiers[i].emailStatus == 'VERIFIED'){
						profile('isEmailVerified','true');
						break;
					}
				}
			}
		}
		return carnival.utils.uniqueArray(emails);
	};

	/**
	 * logout - Function to log user out.  Only deletes masterid cookieTime
	 */
	var logout = function(logoutTarget){
		carnival.utils.cookies.del(config('c_mid'),{domain:config('cookieDomain'),path:'/'});
		carnival.utils.cookies.del(config('c_unm'),{domain:config('cookieDomain'),path:'/'});
		carnival.utils.cookies.del(config('c_rmc'),{domain:config('cookieDomain'),path:'/'});
		carnival.utils.cookies.del(config('ssopscn'),{domain:config('cookieDomain'),path:'/'});
		carnival.utils.cookies.del(config('c_prh'),{domain:config('cookieDomain'),path:'/'});
		
		carnival.user.profile('masterId','');
		window.location = logoutTarget || carnival.utils.cleanLocation();
		return false;
	};

	/**
	 * carnivalLogout - redirects user to logout on carnival
	 * @param {String} logoutUrl Location to redirect user to logout.  If empty will go to carnival
	 *   default logout location.
	 */
	var carnivalLogout = function(logoutUrl){
		document.location = (logoutUrl||getLogoutUrl());
		return false;
	};

	var getLoginUrl = function() {
		return config('hostname') + config('userPath') + "/signon.html?callbackUrl=" + carnival.utils.cleanLocation() + '&lastProvider=' + carnival.utils.cookies.get(config('c_llp')) + '&lastUser=' + carnival.utils.cookies.get(config('c_unm'));
	};

	var getLoginUrlPopup = function() {
		return config('hostname') + config('userPath') + '?callbackUrl=' + carnival.utils.cleanLocation() + '&lastProvider=' + carnival.utils.cookies.get(config('c_llp')) + '&lastUser=' + carnival.utils.cookies.get(config('c_unm'));
	};

	var getLogoutUrl = function(callbackPage) {
		return config('hostname')+config('userPath')+'/logout.html?callbackUrl='+encodeURIComponent(callbackPage || carnival.utils.cleanLocation());
	}; 

	var getUserName = function(){
		 var userName = carnival.user.profile('userName') || carnival.user.profile('displayName') || carnival.utils.cookies.get(config('c_unm'))  || '';
		return (decodeURIComponent( userName ));
	};
	
	/**
	 * getBasicUserInfo - retrieves initial user info using provided session token
	 * 
	 */
	var getBasicUserInfo = function(token,callback,scope) {
		$.getJSON(config('WSHostname')+config('userPath')+"/trbsecurity/userprofile?callback=?",
			{ signon_token : token},
			function(data) {
				carnival.user.profile(data);
				if(callback && callback.apply){callback.apply(scope||window,arguments);}
			}
		);
	};

	var setCarnivalCookie = function(cancelCallback) {
		if(!config('cookieTime')){
			var date = new Date();
			var rmcDate = new Date();
			date.setTime(date.getTime()+(14*24*60*60*1000));
			rmcDate.setTime(rmcDate.getTime()+(59*24*60*60*1000));
			config('cookieTime',date);
			config('rmcCookieTime',rmcDate);
		}
		//already checked carnival remember me cookie and there is one
		if (carnival.configuration('carnivalRM') == 't') {
			dropLoginCookies();
			carnival.utils.cookies.set(config('c_rmc'), 't', {expiresAt: config('rmcCookieTime'),domain:config('cookieDomain')});
			if(!cancelCallback){carnival.utils.listener.fire('_carnival_after_login');}
			try{carnival.utils.listener.fire('_carnival_after_cookie');}catch(e){}
		} else {
			var rememberMeURL = carnival.configuration('hostname') + "/registration/rememberMeCookieExists.jsp";
			$.ajax({
				url: rememberMeURL,
				success: function( rmdata ) {
					if ((rmdata != "") && (rmdata != undefined)){
						//there is a carnival remember me cookie
						dropLoginCookies();
						carnival.utils.cookies.set(config('c_rmc'), 't', {expiresAt: config('rmcCookieTime'),domain:config('cookieDomain')});
						if(!cancelCallback){carnival.utils.listener.fire('_carnival_after_login');}
						try{carnival.utils.listener.fire('_carnival_after_cookie');}catch(e){}
					} else {
						//no carnival remember me cookie
						dropLoginCookies();
						//delete front-end remember me cookie if exists in this case
						if (carnival.utils.cookies.get(carnival.configuration('c_rmc'))=="t") {
							carnival.utils.cookies.del(config('c_rmc'),{domain:config('cookieDomain'),path:'/'});
						}
						if(!cancelCallback){carnival.utils.listener.fire('_carnival_after_login');}
						try{carnival.utils.listener.fire('_carnival_after_cookie');}catch(e){}
					}
				},
				error:function( rmdata ){
					dropLoginCookies();
					if(!cancelCallback){carnival.utils.listener.fire('_carnival_after_login');}
					try{carnival.utils.listener.fire('_carnival_after_cookie');}catch(e){}
				}
			});
		}
		

		return false;
			
	};
	
	var dropLoginCookies = function() {
		carnival.utils.cookies.set(config('c_mid'), profile('masterId'), {domain:config('cookieDomain')});
		carnival.utils.cookies.set(config('c_unm'), profile('userName'), {expiresAt: config('cookieTime'),domain:config('cookieDomain')});
		carnival.utils.cookies.set(config('c_llp'), profile('lastProviderLogin'), {domain:config('cookieDomain')});
		if ((!!config('ssopscn')) && (!!config('ssopscv'))) {
			carnival.utils.cookies.set(config('ssopscn'), config('ssopscv'), {domain:config('cookieDomain')} );
		}
	};

	var profileIncomplete = function(incompleteCallback,completeCallback){
		//console.log("PROFINCOMPLETE FUNC");
		var missingData = [];
		if(carnival.user.profile('isEmailVerified') != 'true' && carnival.configuration('skipVerified') != 'true') {
			
			var _verified = false;
			if(carnival.user.profile('linkedIdentifiers').push){
				var lp = carnival.user.profile('linkedIdentifiers');
				for(var i = lp.length;i--;){
					if(lp[i].emailStatus == 'VERIFIED' && lp[i].providerName.toLowerCase().lastIndexOf(carnival.user.profile("lastProviderLogin")) === 0) {
						_verified = true;
					}
				}
			}
			if(!_verified) {
				return incompleteCallback(missingData);
			}
		}
		getConfigRules(function(data){
			if(data.requiredAttrs){
				for(var i= data.requiredAttrs.length;i--;) {
					if(!carnival.user.profile(data.requiredAttrs[i]) ){
						missingData.push(data.requiredAttrs[i]);
					}
				}
			}
			if(missingData.length){return incompleteCallback(missingData);}
			if(completeCallback){return completeCallback.call(window,[carnival.user.profile()]);}
		});
		return undefined;
	};

	var cancelLogin = function(logoutUrl) {
		carnivalLogout(logoutUrl);
	};

	
	/**
	 * submitUserResetRequest - request an email for a password reset
	 * @param {Object} email Email address requesting reset
	 * @param {Function} successMethod  The function to be called if success
	 * @param {Function} errorMethod  The function to be called if error
	 */
	var submitUserResetRequest = function(email,successMethod,errorMethod){
		var conf = config(),
			requestString = [
				conf.WSHostname,conf.userPath,
				'/trbsecurity/isoemailresetinstructions'
			].join(''),
			pCode = carnival.configuration('product') || 'default';
		
		var postData = {
			email:email, 
			productCode:pCode
		};
		
		if( carnival.configuration( 'landingPage' ) ){
			postData.landingPage = carnival.configuration( 'landingPage' );
		}
		
		carnival.core.postData({
			url:requestString,
			data:carnival.utils.serializeJSON( postData ),
			success:function(data){
				if(typeof data == 'string') {
					data = carnival.utils.parseJSON(data);
				}
				if(data.returnCode=="0"){
					successMethod(data);
				}
				else{errorMethod(data);}
			},
			error: function(transport){
				var data = carnival.utils.parseJSON(transport.responseText);
				if(data===undefined||data===''){data = transport;}
				errorMethod(data||transport);
			}
		});
	};
	
	var submitUserTempRequest = function(email,zipCode,successMethod,errorMethod){

			var conf = config(),
				requestString = [
					conf.WSHostname,conf.userPath,
					"/trbsecurity/isoresetpassword/sendpassword/?",
					"email=" + email,
					"&product_code=" + carnival.configuration('product') || 'default',
					"&zip=" + zipCode
				].join('');

			carnival.core.postData({
				url:requestString,
				success:function( data ){
					if(typeof data == 'string') {
						data = carnival.utils.parseJSON( data ) ;
					}
					if( data.returnCode=="0" && successMethod ){
						successMethod(data);
					}
					else if( errorMethod ){
						errorMethod( data );
					}
				},
				error: function( transport ){
						var data = carnival.utils.parseJSON( transport.responseText );
						if( data === undefined || data === '' ){ 
							data = transport;
						}
						if( errorMethod ){
							errorMethod( data || transport );
						}
				}
			});


	};
	
	/**
	 * submitUserReset -
	 * @param {Object}
	 * @param {Function} successMethod  The function to be called if success
	 * @param {Function} errorMethod  The function to be called if error
	 */
	var submitUserReset = function(inputs,successMethod,errorMethod){
		var conf = config(),
			requestString = [
				conf.WSHostname,conf.userPath,
				'/trbsecurity/isoresetpassword'
			].join(''),
			pCode = carnival.configuration('product') || 'default';
			
		var $errorsToClear = $( '.signon-frame' ).find( '.error' );
		$errorsToClear.remove();
		
		carnival.core.postData({
			url:requestString,
			data:carnival.utils.serializeJSON(inputs),
			success:function(data){
				if(typeof data == 'string') {
					data = carnival.utils.parseJSON(data);
				}
				if(data.returnCode=="0"){
					successMethod(data);
				}
				else{errorMethod(data);}
			},
			error: function(transport){
				var data = carnival.utils.parseJSON(transport.responseText);
				if(data===undefined||data===''){data = transport;}
				errorMethod(data||transport);
			}
		});
	};
	
	/**
	 * submitUserChange 
	 * @param {Object} 
	 * @param {Function} successMethod  The function to be called if success
	 * @param {Function} errorMethod  The function to be called if error
	 */
	var submitUserChange = function(inputs,successMethod,errorMethod){
		var conf = config(),
			requestString = [
				conf.WSHostname,conf.userPath,
				'/trbsecurity/isochangepassword'
			].join(''),
			pCode = carnival.configuration('product') || 'default';
		
		carnival.core.postData({
			url:requestString,
			data:carnival.utils.serializeJSON(inputs),
			success:function(data){
				if(typeof data == 'string') {
					data = carnival.utils.parseJSON(data);
				}
				if(data.returnCode=="0"){
					successMethod(data);
				}
				else{errorMethod(data);}
			},
			error: function(transport){
				var data = carnival.utils.parseJSON(transport.responseText);
				if(data===undefined||data===''){data = transport;}
				errorMethod(data||transport);
			}
		});
	};
	
	/**
	 * submitNewUser - sends new user username and password request to carnival
	 * @param {Object} inputs data to be saved
	 * @param {Function} successMethod  The function to be called if success
	 * @param {Function} errorMethod  The function to be called if error
	 */
	var submitNewUser = function(inputs,successMethod,errorMethod){
		var conf = config();
		var requestString = [conf.WSHostname,conf.userPath,
			'/trbsecurity/isocreatenewaccount?',
			'&api_key=',encodeURIComponent(inputs.apiKey),
			'&product_code=',encodeURIComponent(inputs.productCode)
			].join('');
		carnival.core.postData({
			url:requestString,
			data:transformNewUser(inputs),
			success:function(data){
				if(typeof data == 'string') {
					data = carnival.utils.parseJSON(data);
				}
				if(data.returnCode=="0"){successMethod(data);}
				else{errorMethod(data);}
			},
			error: function(transport){
				var data = carnival.utils.parseJSON(transport.responseText);
				if(data===undefined||data===''){data = transport;}
				errorMethod(data||transport);
			}
		});
	};

	/**
	 * submitConsumerProfile - save user data
	 * @param {Object} inputs data to be saved
	 * @param {Function} successMethod  The function to be called if success
	 * @param {Function} errorMethod  The function to be called if error
	 */
	var submitConsumerProfile = function(inputs,successMethod,errorMethod){
		var conf = config();
		// form is in JSON, but needs to be transformed to match what consumerprofile expects
		var transformedinputs = transformConsumerProfile(inputs);
		var landingPage = (!!carnival.configuration('landingPage')) ? carnival.configuration('landingPage') : 'default' ;
		var requestString = [conf.WSHostname,conf.userPath,
			'/trbsecurity/consumerprofile',
			'?master_id=',encodeURIComponent(inputs.masterId),
			'&api_key=',encodeURIComponent(inputs.apiKey),
			'&product_code=',encodeURIComponent(inputs.productCode),
			'&landingPage=',landingPage
			].join('');
		carnival.core.postData({
			url:requestString,
			data:transformedinputs,
			success:function(data){
				if(typeof data == 'string') {
					data = carnival.utils.parseJSON(data);
				}
				//fixes unm cookie setting issue
				if(!!inputs.userName){profile('userName',inputs.userName);}
				if(data.returnCode=="0"){
					if(!!inputs.email){profile('email',inputs.email);}
					if (!!successMethod) { successMethod(data); }
					dropProgregCookies(translateConsumerProfile(data.profileResponse));
				}
				else{errorMethod(data);}
			},
			error: function(transport){
				var data = carnival.utils.parseJSON(transport.responseText);
				if(data===undefined||data===''){data = transport;}
				errorMethod(data||transport);
			}
		});
	};
	
	/**
	 * dropProgregCookies - drop cookies for progressive registration use
	 * @param {Object} data from submit consumer profile or get consumer profile success
	 */
	var dropProgregCookies = function(data) {
		
		//get consumerprofile response sends top level profile, post consumerprofile returns data.profileResponse
		var localProfile = data;

		var prhCookieString = "";
		var prgCookieString = "";
		for (i in localProfile) {
			var sub = localProfile[i];
			if (!!sub && ((sub.constructor != Array) || (sub.constructor != Object))) {
				prhCookieString += i + "|";
			}
		}

		//use returning data for c_prg cookie
		for (d in localProfile) {
			if (d == "productProfileAttributes") {
				var dsub = localProfile[d];
				for (k in dsub) {
					if (dsub.hasOwnProperty(k) && (dsub[k]['name'] == 'groupstop')){
						prgCookieString = dsub[k]['value'];
					}
				}
			}
		}
		
		
		//set cookies
		carnival.utils.cookies.set(config('c_prh'), prhCookieString, {domain:config('cookieDomain')});
		dropProgregGroupCookie(prgCookieString);
	};
	
	var dropProgregGroupCookie = function(valueString) {
		
		//lives for ten years
		var prgDate = new Date();
		prgDate.setTime(prgDate.getTime()+(3650*24*60*60*1000));
		config('prgCookieTime',prgDate);
		
		carnival.utils.cookies.set(config('c_prg'), valueString, {expiresAt:config('prgCookieTime'), domain:config('cookieDomain')});
		
	};

	/**
	 * transformUserReset - Formats data to be sent to webservice
	 * @param {Object} input
	 */
	var transformUserReset = function(input){
		var out = {};
		for(var key in input) {
			if(input.hasOwnProperty(key)){
				if(!key.match(/recaptcha|adcopy|masterId|apiKey|productCode/i) && input[key].length) {
					out[key] = carnival.core.cleanInputs(input[key]);
				}
			}
		}
		return carnival.utils.serializeJSON(out);
	};
	
	/**
	 * transformNewUser - Formats data to be sent to webservice
	 * @param {Object} input
	 */
	var transformNewUser = function(input){
		var out = {};
		for(var key in input) {
			if(input.hasOwnProperty(key)){
				if(!key.match(/recaptcha|adcopy|masterId|apiKey|productCode/i) && input[key].length) {
					out[key] = carnival.core.cleanInputs(input[key]);
				}
			}
		}
		return carnival.utils.serializeJSON(out);
	};

	/**
	 * transformConsumerProfile - Formats data to be sent to webservice
	 * @param {Object} input
	 */
	var transformConsumerProfile = function(input){
		var out = {},val;
		for(var key in input) {
			if(input.hasOwnProperty(key)){
				if(!key.match(/recaptcha|adcopy|masterId|apiKey|productCode/i)) {
					val = carnival.core.cleanInputs(input[key]);
					if(key != key.replace(/^product_/,'')){
						if(!out.productProfileAttributesMap){out.productProfileAttributesMap = {entry:[]};}
						out.productProfileAttributesMap.entry.push({key:key.replace(/^product_/,''),value:val});
					} else if(key != key.replace(/^consumer_/,'')){
						if(!out.profileAttributes){out.profileAttributes = {entry:[]};}
						out.profileAttributes.entry.push({key:key.replace(/^consumer_/,''),value:val});
					} else {
						out[key] = val;
					}
				}
			}
		}
		return carnival.utils.serializeJSON(out);
	};

	/**
	 * translateConsumerProfile - Formats data returned by webservice
	 * @param {Object} data
	 */
	var translateConsumerProfile = function(data){
		var i;
		if(data.productProfileAttributes) { // && data.productProfileAttributes.entry){
			//if(!data.productProfileAttributes.push){data.productProfileAttributes = [data.productProfileAttributes];}
			for(i = data.productProfileAttributes.length;i--;){
				data["product_"+data.productProfileAttributes[i]['name']] = data.productProfileAttributes[i].value;
			}
		}
		//TO DO: make extendedProfileAttributes?
		if(data.profileAttributesList){
			//if(!data.profileAttributesList.entry.push){data.profileAttributesList.entry = [data.profileAttributesList.entry];}
			for(i = data.profileAttributesList.length;i--;){
				data["consumer_"+data.profileAttributesList[i]['name']] = data.profileAttributesList[i].value;
			}
		}
		if(data.linkedIdentifiers && data.linkedIdentifiers.length){
			for(i = data.linkedIdentifiers.length;i--;){
				carnival.user.provider(data.linkedIdentifiers[i].providerName,data.linkedIdentifiers[i].openId);
			}
		}
		return data;
	};

	/**
	 * getConsumerProfile - Function to get consumer data
	 * @param {Function|Object} callback method to call on success or object w/ arguments
	 * @param {Object} scope the scope that the callbacks will fire in
	 * @param {Function} error method to call on failure
	 * @param {Object} args any extra data passed to the method
	 */
	var getConsumerProfile = function(callback,scope,error,args){
		var conf = carnival.core.setConfigs(callback,scope,error,args);
		conf = carnival.utils.merge(conf,config());
		if(!isLoggedIn() && error){error.apply(scope);}
		//console.log(profile('masterId'));
		var requestString = [conf.WSHostname,conf.userPath,
			'/trbsecurity/consumerprofile/jsonp?',
			'api_key=',conf.apiKey,
			'&product_code=',conf.product,
			'&master_id=',profile('masterId'),
			'&callback=?'].join('');
		carnival.core.loadData({
			key:'consumerProfile',
			url:requestString,
			success:function(data){
				if( data.returnCode != undefined && data.returnCode == 0) {
					data = translateConsumerProfile(data);
					carnival.user.profile(data);
					carnival.core.injectData([data],conf.callback,conf.scope);
					dropProgregCookies(data);
				}else {
					if(conf.error){
						conf.error(data);
					}
				}
				
			},
			error:conf.error
		});
	};

	
	var verifyLogin = function(callback,error){
		var conf = carnival.core.setConfigs(callback,{},error,{});
		conf = carnival.utils.merge(conf,config());
		var requestString = [conf.WSHostname,conf.userPath,
			'/trbsecurity/tokenretriever/jsonp?product_code=',conf.product,
			'&callback=?'].join('');
		conf.success = conf.callback;
		var sMethod = function(data){
			if(data.isValidAnswer ) {
				conf.success.apply(conf.scope, arguments);
			} else {
				if(conf.error){conf.error.apply(conf.scope, arguments);}
			}
		};
		carnival.core.loadData({
			url:requestString,
			success:sMethod,
			error:function(){error.apply(conf.scope, arguments);}
		});
	
	};

	var protect = function(redirectUrl){
		redirectUrl = redirectUrl || '/';
		verifyLogin(function(){},
			function(){
				carnival.user.logout(redirectUrl);
			}
		);
	};
	
	/**
	 * getConfigRules - Function to get form from configuration service
	 * @param {Function|Object} callback method to call on success or object w/ arguments
	 * @param {Object} scope the scope that the callbacks will fire in
	 * @param {Function} error method to call on failure
	 * @param {Object} args any extra data passed to the method
	 */
	var getConfigRules = function(callback,scope,error,args){
		var conf = carnival.core.setConfigs(callback,scope,error,args);
		conf = carnival.utils.merge(conf,config());
		var requestString = [conf.WSHostname,conf.userPath,
			'/trbsecurity/profilecontentrules/jsonp?',
			'api_key=',conf.apiKey,
			'&product_code=',conf.product,
			'&profile_type=/',
			'&callback=?'].join('');
		carnival.core.loadData({
			key:'profileContentRules',
			url:requestString,
			success:function(){carnival.core.injectData(arguments,conf.callback,conf.scope);},
			error:error
		});
	};

	var is3rdPartyLogin = function(){
		return profile('lastProviderLogin') != 'isoprovider';
	};
	
	// return public methods ///////////////////////////////////////////////////////////////////////////////////----->USER METHODS
	return {
		data:data,
		getConsumerProfile:getConsumerProfile,
		getConfigRules:getConfigRules,
		submitConsumerProfile:submitConsumerProfile,
		isLoggedIn:isLoggedIn,
		login:login,
		logout:logout,
		carnivalLogout:carnivalLogout,
		getLoginUrl:getLoginUrl,
		getLoginUrlPopup:getLoginUrlPopup,
		getLogoutUrl:getLogoutUrl,
		cancelLogin:cancelLogin,
		getBasicUserInfo:getBasicUserInfo,
		setCarnivalCookie:setCarnivalCookie,
		getCookieProfile:getCookieProfile,
		provider:provider,
		profile:profile,profileIncomplete:profileIncomplete,
		resetUser:resetUser,
		verifyLogin:verifyLogin,
		protect:protect,getUserName:getUserName,
		afterLogin:afterLogin,
		appendAfterLoginEvent:appendAfterLoginEvent,
		getEmailAddresses:getEmailAddresses,
		submitUserResetRequest:submitUserResetRequest,
		submitUserTempRequest:submitUserTempRequest,
		submitUserReset:submitUserReset,
		submitNewUser:submitNewUser,
		submitUserChange:submitUserChange,
		is3rdPartyLogin:is3rdPartyLogin
	};
}(jQuery,window,document);


carnival.subscription = function($,window,document,undefined){

	var config = carnival.configuration;
	var profile = carnival.user.profile;
	/**
	 * getNewsletters - Function to get newsletter data
	 * @param {Function|Object} callback method to call on success or object w/ arguments
	 * @param {Object} scope the scope that the callbacks will fire in
	 * @param {Function} error method to call on failure
	 * @param {Object} args any extra data passed to the method
	 */
	var getNewsletters = function(callback,scope,error,data){
		var conf = carnival.core.setConfigs(callback,scope,error,data);
		conf = carnival.utils.merge(conf,config());
		var requestString = [conf.WSHostname,conf.subscribePath,
			'/subscribe/offers/jsonp?',
			'master_id=',encodeURIComponent(profile('masterId')),
			'&product_code=',conf.product,
			'&callback=?'].join('');
		carnival.core.loadData({
			url:requestString,
			success:function(data){carnival.core.injectData([translateNewsletters(data)],conf.callback,conf.scope);},
			error:error
		});
	};

	var getNewsletterSubscriptions = function(callback,scope,error,data){
		var conf = carnival.core.setConfigs(callback,scope,error,data);
		conf = carnival.utils.merge(conf,config());
		var requestString = [conf.WSHostname,conf.subscribePath,
			'/subscribe/subscriptions/jsonp?',
			'master_id=',encodeURIComponent(profile('masterId')),
			'&product_code=',conf.product,
			'&callback=?'].join('');
		carnival.core.loadData({
			url:requestString,
			key:'newsletterSubs',
			success:function(data){
				carnival.core.injectData([translateNewsletterSubscriptions(data)],conf.callback,conf.scope);
				},
			error:error
		});
	};

	var submitNewsletters = function(inputs,successMethod,errorMethod){
		var path="";
		var conf = config();
		var requestString = [conf.WSHostname,conf.subscribePath,
			'/subscribe/subscriptions?',
			'master_id=',encodeURIComponent(profile('masterId')),
			'&product_code=',encodeURIComponent(conf.product)
			].join('');
		// form is in JSON, but needs to be transformed to match what subscriptionservice expects
		inputs = transformNewsletters(inputs);
		carnival.core.postData({
			url:requestString,
			type:'PUT',
			data:inputs,
			success:successMethod,
			error: errorMethod
		});
	};

	var transformNewsletters = function(data){
		return carnival.utils.serializeJSON({"email":profile('email'),"format":"HTML","masterId":profile('masterId'),"subList":data.subs,"unSubList":data.unsubs});
	};
	
	var transformNewslettersXD = function(data){
		return carnival.utils.serializeJSON({"email":profile('email'),"format":"HTML","masterId":profile('masterId'),"subList":data.subs,"unSubList":data.unsubs});
	};

	var translateNewsletterSubscriptions = function(data){
		var returnData = {};
		if(!!data.newsletters){
			if(!data.newsletters.push){data.newsletters = [data.newsletters];}
			for(var i = data.newsletters.length;i--;){
				if(data.newsletters[i].status == '0'){
					returnData[data.newsletters[i].newsletter.code] = data.newsletters[i].newsletter.description;
				}
			}
		}
		return returnData;
	};
	
	var translateNewsletters = function(data){
		var returnData = {}, i, cats = {};
		if(!!data.newsletterCategories){
			for(i = data.newsletterCategories.length;i--;){
				cats[data.newsletterCategories[i].code] = data.newsletterCategories[i].name;
			}
		}
		
		if(!!data.newsletters){
			if(!data.newsletters.push){data.newsletters = [data.newsletters];}
			for(i = data.newsletters.length, a = data.newsletters.reverse();i--;){
				if(!!data.newsletters[i].description && data.newsletters[i].description!=='null'){
					if(returnData[cats[data.newsletters[i].categoryCode]] == null){
						returnData[cats[data.newsletters[i].categoryCode]] = [];
					}
					returnData[cats[data.newsletters[i].categoryCode]].push(data.newsletters[i]);
				}
			}
			return returnData;
		} else {
			return 0;
		}
	};
	
	return{
		getNewsletters:getNewsletters,
		getNewsletterSubscriptions:getNewsletterSubscriptions,
		submitNewsletters:submitNewsletters
	};

}(jQuery,window,document);


/**
 * carnival.captcha - Functions related to captcha
 * @namespace
 */
carnival.captcha = function($,document,window,undefined){

	var config = carnival.configuration, capElement, defaultCaptcha = 'securityFilter';

	var _capConf = {
		reCaptcha : {
			getPath : '/trbsecurity/captcha/jsonp',
			postPath : '/trbsecurity/validcaptcha/jsonp',
			responseField : '#recaptcha_response_field',
			challengeField : '#recaptcha_challenge_field',
			writeRegex : /captcha/i
		},
		adCopy : {
			getPath : '/trbsecurity/adcopy/jsonp',
			postPath : '/trbsecurity/validadcopy/jsonp',
			responseField : '#adcopy_response',
			challengeField : '#adcopy_challenge',
			writeRegex : /adcopy|ad_copy/i
		},
		solveMedia : {
			getPath : '/trbsecurity/solvemedia/jsonp',
			postPath : '/trbsecurity/validsolvemedia/jsonp',
			responseField : '#adcopy_response',
			challengeField : '#adcopy_challenge',
			writeRegex : /adcopy|ad_copy|solvemedia|solve_media/i
		},
		securityFilter : {
			postPath : '/trbsecurity/tokenretriever/jsonp'
		}
	}	;
	
	var capType;
	var capConf = function(){
			if(!capType){
			// if no type, use default
			if(!config('captchaType')){config('captchaType',defaultCaptcha);}
			var capType = _capConf[config('captchaType')];
			// if type is not in configs use default
			if(!capType){capType=_capConf[defaultCaptcha];}
		}
		return capType;
	};
	/**
	 * getCaptcha - Function to get captcha from service
	 * @param {Function|Object} callback method to call on success or object w/ arguments
	 * @param {Object} scope the scope that the callbacks will fire in
	 * @param {Function} error method to call on failure
	 * @param {Object} args any extra data passed to the method
	 *
	 * Example:
	 * carnival.captcha.getCaptcha(function(data){
	 *   $('#cap').append(data.htmlText);
	 * });
	 */
	var getCaptcha = function(callback,scope,error,args){	
		if(capConf().getPath){
			var conf = carnival.core.setConfigs(callback,scope,error,args);
			conf = carnival.utils.merge(conf,config());
			var requestString = [conf.WSHostname,conf.userPath,
				capConf().getPath,
				'?product_code=',config('product'),'&callback=?'].join('');
			carnival.core.loadData({
				url:requestString,
				success:function(){carnival.core.injectData(arguments,conf.callback,conf.scope);},
				error:error
			});
		}
	};

	var verify = function(){
		carnival.utils.listener.fire('submit_captcha');
		//return false;
	};

	/**
	 * postCaptcha - sends Captcha to verification service for validation token
	 * @param {Function|Object} callback method to call on success or object w/ arguments
	 * @param {Object} scope the scope that the callbacks will fire in
	 * @param {Function} error method to call on failure
	 * @param {Object} args any extra data passed to the method
	 *
	 * Example:
	 * carnival.captcha.postCaptcha({
	 *   callback:function(){
	 *     carnival.user.submitConsumerProfile({args:data});
	 *   },
	 *   error:function(){console.log('!!!')}
	 * });
	 */
	var postCaptcha = function(callback,scope,error,args){
		var conf = carnival.core.setConfigs(callback,scope,error,args);
		conf = carnival.utils.merge(conf,config());
		var ans = $(capConf().responseField).val() || "";
		var chl = $(capConf().challengeField).val() || "";
		var requestString = [conf.WSHostname,conf.userPath,
			capConf().postPath,
			'?product_code=',config('product'),
			'&answer=',ans,
			'&challenge=',chl,
			'&ip_address=',
			'&callback=?'].join('');
		conf.success = conf.callback;
		var sMethod = function(data){
			if(data.isValidAnswer ) {
				conf.success.apply(conf.scope, arguments);
			} else {
				reload();
				if(conf.error){conf.error.apply(conf.scope, arguments);}
			}
		};
		conf.callback = sMethod;
		carnival.core.loadData({
			url:requestString,
			success:function(){carnival.core.injectData(arguments,conf.callback,conf.scope);},
			error:function(){Recaptcha.reload ();error.apply(conf.scope, arguments);}
		});
	
	};

	var reload = function(){
		try{
			Recaptcha.reload();
			return;
		}catch(e){}
	
		try{
			ACPuzzle.reload();
			return;
		}catch(e){}
	};
	
	var captchaInitialized = false;

	/**
	 * initCaptcha - Defines where captcha will be located.  Adjusts document.write
	 * Function to handle captcha code appropriately
	 * @param {String|DomNode} elem Location that captcha should be inserted
	 * @param {RegExp} regex Regular expression of text catch.  Defaults to /captcha/
	 */
	var initCaptcha = function(elem,regex){
		if( !captchaInitialized ){
			var el = $(elem);
			capElement = el;
			var oldWrite = document.write;
			regex = regex || capConf().writeRegex;
			// we need to get creative with document.write
			// this is a repurposing of John Resig's document.write
			// http://ejohn.org/blog/xhtml-documentwrite-and-adsense/
			document.write = function(text){
				if(text.match(regex)){
					el.append(text);
				} else {
					try{
						var pos,div = document.createElementNS("http://www.w3.org/1999/xhtml","div");
						div.innerHTML = text;
						if(document.lastChild){
							pos = document;
							while (pos.lastChild&&pos.lastChild.nodeType===1){
								pos = pos.lastChild;
							}
						} else {
							pos = document.getElementsByTagName("*");
							pos = pos[pos.length-1];
						}
						var nodes = div.childNodes;
						while(nodes.length){pos.parentNode.appendChild(nodes[0]);}
					}catch(e){
						try {
							oldWrite.call(document,text);
						}catch(ee){/*hopeless?help me*/}
					}
				}
			};
				var $breakElement = $('.recaptcha_input_area').find('br');
				$breakElement.hide();
		}
		else{
		Recaptcha.reload();
		}
		//attachCaptcha();
	};

	/**
	 * getCaptchaElement - Getter for captcha container element
	 */
	var getCaptchaElement = function(){
		return capElement;
	};

	/**
	 * attachCaptcha - attaches captcha verification to form
	 * @param {Function} callback Function to call after success
	 * @param {Object} scope scope for callback to run in
	 */
	var attachCaptcha = function(callback,scope){
		var formEl = getCaptchaElement().parents('form');
		carnival.utils.listener.listen('submit_captcha',function(){
			postCaptcha({
				callback:function(data){
					if(callback){callback.apply((scope||window),arguments);}
					else{formEl[0].submit();}
				},
				error: function(){
					if($('#cap_message').length === 0) {
						getCaptchaElement().append('<span class="captcha-error"><label id="cap_message" ></label></span>');
					}
					$('#cap_message').html('The text you entered is incorrect.  Please try again.');
				}
			});
			return false;
		});
	};

	return {getCaptcha:getCaptcha,attachCaptcha:attachCaptcha,initCaptcha:initCaptcha,verify:verify,reload:reload};

}(jQuery,document,window);


/**
 * carnival.core - Core Functions
 * @namespace
 */
carnival.core = function($,document,window,undefined){

	/**
	 * loadQueue - variable keeping track of what data is being loaded
	 */
	var loadQueue = [],
	
	data = {};

	/**
	 * loadData - Utility function for making ajax calls and inserting
	 *   data into carnival user object
	 * @param {Object} args A JSON objecto containing configurations
	 *   available options:
	 *     url {String} Url to get data from
	 *     key {String} A location to store the returned data in the
	 *       carnival user object.  If a key is passed that already exists
	 *       in the cache, ajax get is skipped.
	 *     success {Function} Function to call on success
	 *     error {Function} Function to call on error
	 */
	var loadData = function(args){
		if(args.key){
			if( data[args.key] != undefined) {
				if(args.success){args.success.apply(this,[data[args.key]]);}
				return;
			} else if(loadQueue[args.key]) {
				// this is in the loadQueue and is currently being fetched.
				// Wait for it to finish then fire the callback.
				if(args.success){
					carnival.utils.listener.listen('_loadData_'+args.key,function(){
						args.success.apply(this,[data[args.key]]);
					});
				}
				return;
			}
			loadQueue[args.key] = true;
		}
		$.ajax({
			url: args.url,
		  dataType: 'json',
			success:function(f){
				if(args.success){args.success.apply(this,arguments);}
				if(args.key){
					data[args.key] = f;
					loadQueue[args.key] = false;
				}
				carnival.utils.listener.fire('_loadData_'+args.key,{close:true});
			},
			error:args.error
		});
	};

	var isExternal = function(){
		var protocol = location.protocol,
				hostname = location.hostname,
				exRegex = RegExp('^'+protocol + '//' + hostname);
		
		
		var _isExternal = function(url) {
				// if xd library is being used, treat everything as internal
				if(carnival.configuration('xd')){return false;}
			return !exRegex.test(url) && /^https?:\/\//.test(url);
		};
	
		return _isExternal;
	}();

	var postData = function(args){
		$.ajax({
			url:args.url,
			data:args.data,
			contentType:"application/json",
			type:(args.type || 'POST'),
			success:function(f){
				if(args.key){data[args.key] = f;}
				if(args.success){args.success.apply(this,arguments);}
			},
			error:function(data){args.error(data);}
		});
	};

	/**
	 * setConfigs - Utility for setting up user methods
	 * @param {Function|Object} callback method to call on success or object w/ arguments
	 * @param {Object} scope the scope that the callbacks will fire in
	 * @param {Function} error method to call on failure
	 * @param {Object} args any extra data passed to the method
	 */
	var setConfigs = function(callback,scope,error,args){
		var conf = {};
		if(callback.constructor != Function){
			conf = carnival.utils.merge(conf,callback);
		} else {
			if(callback){conf.callback = callback;}
			if(scope){conf.scope = scope;}
			if(error){conf.error = error;}
			if(args){conf.args = args;}
		}
		return conf;
	};

	/**
	 * injectData - fire a callback with data injected in
	 * @param data {Object} Data returned from JSONP call
	 * @param	callback {Function} Method to fire
	 * @param scope {Object} Scope of callback.  Defaults to window
	 */
	var injectData = function(data,callback,scope){
		if(!scope){scope = window;}
		callback.apply(scope,data);
	};
	
	var cleanInputs = function(input){
		return input.replace(/<[^>]*>/g,'').replace(/^\s*|\s*$/g,'');
	},
	
	enumMapper = function(){
		var enumVals = {
			"MALE":"Male","FEMALE":"Female",
			"HIGHSCHOOL_SOME":"Some High School","HIGHSCHOOL_GRAD":"High School Graduate","COLLEGE_SOME":"Some College","COLLEGE_2_YEAR":"2 Year College Graduate","COLLEGE_4_YEAR":"4 Year College Graduate","POST_GRAD":"Postgraduate",
			"MARRIED":"Married","SINGLE":"Single",
			"true":"Yes","false":"No"
		};
		return function(input){
			if(enumVals[input]){return enumVals[input];}
			return input;
		};
	}();

	return {loadData:loadData,postData:postData,setConfigs:setConfigs,injectData:injectData,cleanInputs:cleanInputs,isExternal:isExternal,data:data,enumMapper:enumMapper};
}(jQuery,document,window);


/**
 * username	 - Functions related to username verification
 */
carnival.username = function($,window,document,undefined){
	var isGood = true;
	var config ={};
	config.availableHTML = '<label id="userNameAvailable">${userName} is available.</label>';
	config.unavailableHTML = '<label id="userNameUnavailable" class="label">${userName} is unavailable. The following recommended names are available.</label>'+
		'<label> </label><span class="form_radio_container">'+
				'<input type="radio" value="${reccomend}" class="form_radio" name="recommendedUserName" id="recommendedUserName" />'+
				'<label for="recommendedUserName" class="form_choice">${reccomend}</label>'+
			'</span>';
	config.resetUserNameHTML = '<label id="resetUserName">Please use a more unique username to use so that we can try to make your experience on the site just as unique.</label>';
	config.userNameRegex = new RegExp('\\$\\{userName\\}','g');
	config.recommendRegex = new RegExp('\\$\\{reccomend\\}','g');

	/**
	 * configuration - Dynamic getter/setter for configurations.  If no arguments
	 *   are passed, config object is returned.
	 * @param {String|Object} key Can be a string containing the name of the configuration
	 *   or an object containing configurations.
	 * @param {Object} value Value of cofig element set
	 */
	var configuration = function(key,value){
		if(key){
			if(key.constructor == String) {
				if(value !== undefined){
					config[key] = value;
					return value;
				}
			} else {
				config = carnival.utils.merge(config,key);
			}
			return config[key];
		}
		return config;
	};

	/**
	 * verify - Function to check uniqueness of username
	 * @param {String} username The username to be checked
	 * @param {Function} successMethod  The function to be called if unique
	 * @param {Function} errorMethod  The function to be called if not unique
	 */
	var verify = function(username,successMethod,errorMethod) {
		var requestString = [carnival.configuration('WSHostname'),carnival.configuration('userPath'),
			'/trbsecurity/suggestedusernames/jsonp?',
			'&product_code=',carnival.configuration().product,
			'&master_id=',carnival.user.profile('masterId'),
			'&user_name=',username,
			'&callback=?'].join('');
		carnival.core.loadData({url:requestString,
			success:function(data){
				if(!(data.suggestedUserName)){
					successMethod.apply(this,arguments);
				} else {
					errorMethod.apply(this,arguments);
				}
			},
			error: errorMethod
		});
	};

	var checker = function(field){
		var messages, field_input;
		field = $(field);
		field.after('<li style="display:none"></li>');
		messages = field.next('li');
		field_input = field.find('input[type=text]');
		field_input.addClass('selfvalidated');
		field_input.bind('blur',function(){checkit.call(this,messages,field_input);});
		if (!(carnival.user.profile('userName')) && (carnival.user.profile('tos') == 'true')) {
			$(messages).show()
				.html(
					carnival.username.configuration('resetUserNameHTML')
				);
		}
	};

	var checkit = function(messages,field_input){
		this.value = this.value.replace(/<[^>]*>/g,'');
		var $this = $(this);
		var that = this;
		var valFormID = $(this).parents('form').attr("id");
		var valForm = new carnival.forms.form(valFormID);
		var singleVal = valForm.formValidator.validateSingle("userName" , [ "@Profane","@Min=6","@AlphaNumeric" ]);
		if((!!singleVal) && ($this.hasClass('badGuy') || this.value != carnival.user.profile('userName') || carnival.user.profile('status') != 'VERIFIED')){
			verify(this.value,function(data){
				if(data.suggestedUserNames) {//no good
					isGood = false;
					$(messages).show()
						.html(
							configuration('unavailableHTML')
								.replace(configuration('userNameRegex'),that.value)
								.replace(configuration('recommendRegex'),data.suggestedUserNames.userName)
						);
					$('#'+valFormID).find('#userNameVal').val('invalid');	
					$('#recommendedUserName').click(function(){
						if(this.checked){
							field_input.val(this.value);
							$('#'+valFormID).find('#userNameVal').val('').trigger('blur');
							//$(messages).hide().html();
							field_input.trigger('blur');
						}
					});
				} else {//good
					isGood = true;
					$('#'+valFormID).find('#userNameVal').val('').trigger('blur');	
					if(configuration('availableHTML').length) {
						$(messages).show().html(configuration('availableHTML').replace(configuration('userNameRegex'),that.value));
					} else {$(messages).hide().html();}
				}
				carnival.utils.changeTextColor();
			});
		}  else {
			$this.removeClass('badGuy');
			$(messages).hide().html();
		}
	};

	var status = function(){
		return isGood;
	};

	return {verify:verify,checker:checker,configuration:configuration,status:status};
}(jQuery,window,document);

carnival.metrics = function($){
	var _metricsOrder = [0,5,3,2,4,4,6,2,7,1];
	var init = function(){
		carnival.utils.listener.listen('_carnival_after_cookie',function(){
			setMetricsId(carnival.user.profile('consumerId'));
		});
		carnival.utils.listener.listen('_carnival_after_logout_success',function(){
			removeMetricsId();
		});
	};
	
	var pad  = function(n) {
		n = n.toString();
		while(n.length < 4) {n=Math.floor(Math.random()*10)+n;}
		return n;
	};
	
	var rand = function(){
		return pad(Math.floor(Math.random()*1000));
	};
	
	var removeMetricsId = function(){
		$.cookies.del('metrics_id', {domain:carnival.configuration('cookieDomain')});
	};
	
	var setMetricsId = function(consumerId){
		
		if(consumerId === undefined){
			return;
		}
		
		var _metricsId;
		var metricArr = consumerId.split('-');
		while(metricArr.length < 8){
			metricArr.push(rand());
		}
		var retVal = '';
		for(var i=_metricsOrder.length;i--;){
			retVal += '-'+metricArr[_metricsOrder[i]];
		}
		_metricsId = retVal.substring(1).replace(/\s/g,'');
		$.cookies.set('metrics_id', _metricsId , {domain:carnival.configuration('cookieDomain')});
		return _metricsId;
	};
	
	var getMetricsId = function(){
		var m = $.cookies.get('metrics_id');
		if(null===m || ''== m){return false;}
		var metricArr = m.split('-').reverse();
		var retArr = [];
		for(var i=_metricsOrder.length;i--;){
			retArr[_metricsOrder[i]] = metricArr[i];
		}
		return retArr.slice(0,3).join('-');
	};
	
	var _target;
	var setMetricsFrame = function(target){
		_target = target;
	};
	
	var addMetricsFrame = function(){
		$('body').prepend('<iframe border=0 style="border:0px;height:0;width:0;position:absolute;top:-10000px" src="'+_target+'"></iframe>');
	};
	
	
	var triggerOmnitureEvent = function(){
	
		if( window.s && window.s.t ){
			
			var carnival_username_c_unm = carnival.utils.cookies.get(carnival.configuration('c_unm')) || null;
			var	carnival_masterid_c_mid = carnival.metrics.getMetricsId();
			
			if(carnival_username_c_unm!=null && carnival_masterid_c_mid){
				window.s.prop28 = carnival_masterid_c_mid;
			}
			
		  //window.s.t();
		}	
	};
	
	$(function(){carnival.metrics.init()});
	
	return {
		init:init,
		getMetricsId:getMetricsId,
		setMetricsFrame:setMetricsFrame,
		addMetricsFrame:addMetricsFrame,
		triggerOmnitureEvent:triggerOmnitureEvent
	};
}(jQuery);


var memberNav = (function($){
	
	/**
	 * memberNav - object for creating navigation elements
	 * @param {String|Object} elem CSS selector or element to insert nav into
	 * @param {String|Function} loggedintext String to insert or function to call if user is logged in
	 * @param {String|Function} loggedouttext String to insert or function to call if user is logged out
	 */
	var memberNav = function(elem,loggedintext,loggedouttext){
		var _configs = {};
		this.navLocation = $(elem);
		this.configs = function(key,value){
			if(key){
				if(key.constructor == String){
					if(typeof value != 'undefined'){
						_configs[key] = value;
					}
					return _configs[key] || '';
				} else {
					_configs = carnival.utils.merge(_configs,key);
				}
			}
			return _configs;
		};
		this.loggedintext = loggedintext || this.profileItems;
		this.loggedouttext = loggedouttext || this.loggedoutItems;
		return this;
	};

	

	memberNav.prototype = {
		writeNav : function(){
	
 			var thisScope = this;
			var frontEndRememberCookie = (carnival.utils.cookies.get(carnival.configuration('c_rmc'))=="t");
			
			//console.log("RMC - " + frontEndRememberCookie);
			
			if (frontEndRememberCookie) {
				//there is a front end RM cookie
				if (!carnival.user.isLoggedIn()) {
					//carnivalRM state checks
					if (carnival.configuration('carnivalRM') == "init") {
						carnival.configuration('carnivalRM','checking');
						thisScope.carnivalRememberCheck(thisScope);
					} else {
						//try dynamic login - assumes previous block already hit by another memberNav instance on page
						thisScope.writeLoginItems();
						carnival.utils.listener.listen('_carnival_after_cookie',thisScope.writeProfileItems,thisScope);
					}
				} else {
				 	thisScope.writeProfileItems();
					carnival.utils.listener.listen('_carnival_after_cookie_remove',thisScope.writeLoginItems,thisScope);
				}
			} else {
				//no front end RM cookie, normal (user-action based) flow
				if (carnival.user.isLoggedIn()) {
					thisScope.writeProfileItems();
					carnival.utils.listener.listen('_carnival_after_cookie_remove',thisScope.writeLoginItems,thisScope);
				} else {
					thisScope.writeLoginItems();
					carnival.utils.listener.listen('_carnival_after_cookie',thisScope.writeProfileItems,thisScope);
				}
			}
				
		},
		carnivalRememberCheck : function(thisScope) {
			var rememberMeURL = carnival.configuration('hostname') + "/registration/rememberMeCookieExists.jsp";
			$.ajax({
 				url: rememberMeURL,
 				success: function( rmdata ) {
					//If there is a rememberMeCookie
 					if( ( rmdata != "" ) && ( rmdata != "undefined" ))  {
						carnival.configuration('carnivalRM','t');
 						if (carnival.user.isLoggedIn() == false) {
 							thisScope.dynamicLogin();
 							carnival.utils.listener.listen('_carnival_after_cookie',thisScope.writeProfileItems,thisScope);
 						} else {
 							thisScope.writeProfileItems();
 							carnival.utils.listener.listen('_carnival_after_cookie_remove',thisScope.writeLoginItems,thisScope);
						}
					//If not then go through the normal path, but delete c_rmc
 					} else {
						carnival.utils.cookies.del(carnival.configuration('c_rmc'),{domain:carnival.configuration('cookieDomain'),path:'/'});
						carnival.configuration('carnivalRM','f');
 						if (carnival.user.isLoggedIn()) {
 							thisScope.writeProfileItems();
							carnival.utils.listener.listen('_carnival_after_cookie_remove',thisScope.writeLoginItems,thisScope);
 						} else {
 							thisScope.writeLoginItems();
							carnival.utils.listener.listen('_carnival_after_cookie',thisScope.writeProfileItems,thisScope);
 						}
 					}
 				},
				error:function( data ){
					carnival.configuration('carnivalRM','err');
					carnival.logger.error( data );
				}

 			});
			//check the carnival remember me cookie service
		},
		dynamicLogin : function(){
			var loginurl = carnival.configuration('hostname') + "/registration/signon.html";
			var passdata = "loginType=auto&callbackUrl=" + window.location;
			$.ajax({
				url: loginurl,
				data: passdata,
				success: function(tokendata) {
					carnival.utils.listener.fire("handshake", {data: [tokendata]});
				},
				error:function( data ){
					carnival.logger.error( data );
				}
			});
		},
		writeProfileItems : function(){
			if(this.loggedintext.constructor == String){
				try {
					this.navLocation.each(function(){
						this.innerHTML = '';
					});
				}catch(e){}
				this.navLocation.html(this.loggedintext);
			} else {
				this.loggedintext.call(this);
			}
		},
		writeLoginItems : function(){
			if(this.loggedouttext.constructor == String){
				try {
					this.navLocation.each(function(){
						this.innerHTML = '';
					});
				}catch(e){}
				this.navLocation.html(this.loggedouttext);
			} else {
				this.loggedouttext.call(this);
			}
		},
		profileItems : function(){
			
			carnival.logger.info('loading profile items');
			
			var backgroundColor = carnival.configuration( 'ssorNavBackgroundColor' ) || "#353535";	
			var skipNewsLetters = carnival.configuration( 'skipNewsletters' ) || '0';
			var originHost		= carnival.configuration( 'originHost' ) || "";
			
			/*** 
			* Omniture custom event to force the analytics request 
			* - This allows us to tack the masterid for carnival on prop28 
			***/
			
			
			
			var loggedInNav = 	'<div id="ssorNavSignIn" class="loggedIn">'+
									'<div id="ssorNavHeader">'+
										'<a class="userName" href="" onclick="return false;">' + carnival.user.getUserName() + '</a>'+
									'</div>'+
									'<div id="ssorMiniModal">'+
										'<div id="ssorNavBody">'+	
											'<ul>'+
												'<li><a href="' + originHost + '/services/site/registration/show-profile.signon">Profile</a></li>';
											if( skipNewsLetters == "0"){
												loggedInNav += '<li><a id="NLddlink" href="' + originHost +'/services/site/registration/show-profile.signon#thenlpane">Newsletters</a></li>';
											}
											loggedInNav += '<li><a href="'+ carnival.user.getLogoutUrl() +'" onclick=" carnival.user.logout(carnival.user.getLogoutUrl());return false;">Sign Out</a></li>'+
											'</ul>'+
										'</div>'+	
									'</div>'+	
								'</div>';	
			
			
			this.navLocation.html('');
			this.navLocation.append( loggedInNav );
			
			
			carnival.metrics.triggerOmnitureEvent();
			
					/***********************************************
							   Logged In Username Functions
						* Handles the truncation of the username *		
					************************************************/

					var $navBody 		= $( '#ssorMiniModal' ),
						$navHead 		= $( '#ssorNavHeader' ),
						$userName 		= $( '#ssorNavHeader a' ),
						userNameWidth	= $userName.width(),
						navHeadWidth 	= $navHead.width(),
						navBodyWidth 	= userNameWidth + 30 ;
					
					/* If the width of the nav is greater than the width of the header, 
					   set the nav width to the max length of the header minus padding
					*/
					if( navBodyWidth >= navHeadWidth ){
						navBodyWidth = 210;
					}
					
					/**
					* 	@function truncateUsername
					*   @privat
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@e39d3bf
---Content---
0 ) &&
			( year % 100 !== 0 || year % 400 === 0 )
		);
	
		var days = {
			"01" : "31",
			"02" : ( isLeap ? 29 : 28 ),
			"03" : "31",
			"04" : "30",
			"05" : "31",
			"06" : "30",
			"07" : "31",
			"08" : "31",
			"09" : "30",
			"10" : "31",
			"11" : "30",
			"12" : "31"
		};
	
		var daysInMonth = days[ month ];
	
		if ( !daysInMonth ) {
		
			return null;
		}
	
		return daysInMonth;
	},
	
	getADate : function( date ) {
		if( date ){
			return new Date( date );
		}
		else{
			return new Date();
		}
	}

	
};
( function( $ ) {
	
	registration.namespace( "user" );

	var User = {};

	registration.user.UserController = registration.oop.RegistrationObject.extend({
		
		constructor: function( params ) {
			this.base( params ) ;
			User = params.userInfo || {};
			this.logger = registration.log.Logger.getInstance({
				instanceName: this.instanceName + "Logger",
				name: this.className, 
				level: "debug"
			});
		},
		
		importUserData: function( params ){
			User = params.userInfo || {};	
		},
		
		exportUserData: function(){
			return User;
		},
	
		init: function(){
			
		},

		logOut: function(){
			//todo use event listeners
		//	registration.utils.cookies.delete(  );
		},
		
		getMasterId: function(){
			return User.masterId;
		},
		
		//TODO do not make this a public method
		setMasterId: function( masterId ){
			if( masterId ){
				User.masterId = masterId;
			}
		},
		
		getLoginProvider: function(){
			var loginProvider = "";
			if( User.lastProviderLogin ){
				loginProvider = User.lastProviderLogin;
			}
			else if(  User.linkedIdentifiers && User.linkedIdentifiers[ 0 ] ){
				loginProvider = User.linkedIdentifiers[ 0 ].providerName;
			}
			return loginProvider;
		},
		
		getUsername: function(){
			return User.userName || "";
		},
		
		getBirthDate: function(){
			return User.birthDate || "";
		},
		
		getFirstName: function(){
			return User.firstName || "";
		},
	
		getLastName: function(){
			return User.lastName || "";
		},
		
		getZipCode: function(){
			return User.zipCode || "";
		},
	
		getEmailAddress: function(){
			
			var email = "";
			if( User.email ){
				email = User.email;
			}
			else if(  User.linkedIdentifiers && User.linkedIdentifiers[ 0 ] ){
				email = User.linkedIdentifiers[ 0 ].emailAddress;
			}
			return email;
	
		},
		
		getGender: function(){
			return User.gender || "";	
		},
		
		getStatus: function(){
			return User.status || "";	
		},
		
		getConsumerId: function(){
			return User.consumerId || "";	
		},
		
		getTos: function(){
			return User.tos || "";	
		},
		
		getOptOut: function(){
			return User.optout || "";	
		},
		
		isLoggedIn: function(){
			//TODO check server agb
			return !( registration.utils.cookies.getValue( "c_mId" ) == undefined ) ;
		},
		
		isVerified: function(){
			return User.isEmailVerified || "";	
		}
		
		
	},
	{
		className: "registration.User",
		
		getInstance: registration.oop.factory.singleton.getInstance
		
	});
	
}( jQuery ) );	(function( $, document ) {

	registration.namespace( "component.console" );
	
		registration.component.console.ConsoleController = registration.oop.RegistrationObject.extend({
			
			consoleSelector: null,
			
			$console: null,
			
			$consoleContainer:null,
			
			defaultConsoleContainer: document.body,
			
			consoleContainer: null,
			
			consoleParams: null,
			
			constructor: function( params ){
				this.consoleContainer = params.consoleContainer || this.defaultConsoleContainer;
				//this.consoleSelector = params.consoleContainer || "registrationConsole";
				
			},
			
			init: function(){
				this.$console = $('<div id="registrationConsole"></div>');
				this.$consoleContainer = $( this.consoleContainer );
				this.$consoleWrapper = $('<ul id="consoleWrapper"></ul>');
				this.$consoleWrapper.appendTo( this.$console );
				var that = this;
				$(document).ready(function(){
					that.$console.appendTo( document.body );
				});
				

			},
			
			consoleBuilder: function( logCache ){
				 var messageContainer = "<ul>";
	                var msgCounter = 0;
	                var messageCounterLength = logCache.length;
	                for( ; msgCounter < messageCounterLength ; msgCounter++ ){
	                    var listItem = "<li>" + logCache[ msgCounter ] + "</li>";
	                    messageContainer += listItem;
	                }

	                messageContainer += "</ul>";
	                return messageContainer;
			},
			
			messageBuilder:function( logType , message  ){
	                return "<li class=" + logType + "_message" + ">" + logType + ": [" + message + "]</li>";
			},
			
			displayConsole: function(){
				 
			},
			
			logThis : function( logType , message ){
                var msg = this.messageBuilder( logType , message );
                this.$consoleWrapper.append( msg );
            },
			
			assert : function( message ){
			       this.logThis( "assert" , message );
		    },  
		    log : function( message ){
		           this.logThis( "log" , message );
		    },  
		    warn : function( message ){
		           this.logThis( "warn" , message );
		    },  
		    error : function( message ){
		           this.logThis( "error" , message );
		    },  
		    debug : function( message ){
		       		this.logThis( "debug" , message ); 
		    },  
		    dir : function( message ){
		        	this.logThis( "dir" , message );
		    },  
		    info : function( message ){
		         	this.logThis( "info" , message );
		    }
	
		},
		{
			className: "registration.component.console.ConsoleController",
			
			getInstance: registration.oop.factory.singleton.getInstance
		
		});
	
}( jQuery , document) );(function($) {
	registration.namespace( "log" );

	var getConsole = function(){
	
		if( !window.console ){
		    return registration.component.console.ConsoleController.getInstance({});
		}
		
		return window.console;
	};
	
	var queryStringDebugOn = function(){
		return registration.utils.querystrings.getValue( "registrationDebugEnabled" ) == "true" ? true : false;
	};
	
	var cookieDebugOn = function(){
		return registration.utils.cookies.getValue( "registrationDebugEnabled" ) == null ? false : true;
	};
	

	var logger = getConsole();

	/**
	 * @class
	 * @extends registration.oop.RegistrationObject
	 * <br />
	 * General logging class.
	 */
	registration.log.Logger = registration.oop.RegistrationObject.extend({
		/**
		 * @lends registration.log.Logger.prototype
		 * @property {String} name The name of this logger.  This value will be
		 *                         prepended to every message.
		 */
		name: null,
		
		isEnabled: null,

		console: null,

		/**
		 * @lends registration.log.Logger.prototype
		 * @property {String} level The minimum level of logging below which
		 *                          messages will not be output to the logging
		 *                          console.
		 */
		level: null,

		/**
		 * Creates a new instance of this class.
		 * 
		 * @param {Object} params An associative array of instantiation
		 *                        properties.<br />
		 *                        params.name {String} The name of this logger.<br />
		 *                        params.level {String} The level of this
		 *                                              logger.
		 */
		constructor: function( params ) {
			this.base( params );
			this.name = params.name || "";
			this.level = params.level || "debug";
			this.console = params.console || logger;
			this.isEnabled = params.isEnabled || cookieDebugOn() ||  queryStringDebugOn() || registration.isDevSite() || false;
		},

		/**
		 * Empty default initialization method.
		 */
		init: function() {
		},

		/**
		 * Logs messages at the debug level.
		 * 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 */
		debug: function(msg, functionHandle, category) {
			this.logMessage("debug", msg, functionHandle, category);
		},

		/**
		 * Logs messages at the info level.
		 * 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 */
		info: function(msg, functionHandle, category) {
			this.logMessage("info", msg, functionHandle, category);
		},

		/**
		 * Logs messages at the warn level.
		 * 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 */
		warn: function(msg, functionHandle, category) {
			this.logMessage("warn", msg, functionHandle, category);
		},

		/**
		 * Logs messages at the error level.
		 * 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 */
		error: function(msg, functionHandle, category) {
			this.logMessage("error", msg, functionHandle, category);
		},

		/**
		 * Logs messages at the profile level.
		 * 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 */
		profile: function(msg, functionHandle, category) {
			this.logMessage("profile", msg, functionHandle, category);
		},

		/**
		 * Logs messages at the specified level.
		 *
		 * @param {String} level The level at which to output the logging
		 *                       message. 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 */
		logMessage: function(level, msg, functionHandle, category) {
			functionHandle = functionHandle || "";
			category = category || registration.log.Logger.defaultCategory;
			if (undefined === registration.log.Logger.categories[category]) {
				registration.log.Logger.categories[category] = true;
			}
			if (registration.log.Logger.categories[category]) {
				var message = this.formatMessage(msg, functionHandle, category);
				if ( this.isEnabled ) {
					logger[level](message);
				}	
			}
		},

		/**
		 * Creates a formatted logging message according to the specified
		 * parameters.
		 * 
		 * @param {String} msg The message to output to the logging console.
		 * @param {String} functionHandle The name of the function in which the
		 *                                debugging is taking place.
		 * @param {String} category The name of the logging category in which to
		 *                          place the specified logging message. 
		 * 
		 * @returns {String} A formatted logging message according to the
		 *                   specified parameters.
		 */
		formatMessage: function(msg, functionHandle, category) {
			var message = this.name;
			if (/\S/.test(functionHandle)) {
				message += "[" + functionHandle + "]";
			}
			if (/\S/.test(category) && (category !== registration.log.Logger.defaultCategory)) {
				message += "[" + category + "]";
			}
			message += ": " + msg;
			return message;
		}
	},
	{
		/**
		 * @lends registration.log.Logger
		 * @property {String} className The name of this class.
		 */
		className: "registration.log.Logger",

		/**
		 * @lends registration.log.Logger
		 * @property {Object} categories A collection of names by which to
		 *                               categorize logging messages.
		 */
		categories: {},

		/**
		 * @lends registration.log.Logger
		 * @constant
		 * @property {String} defaultCategory The default logging category.
		 *                                    This label will not be output in
		 *                                    the log message.
		 */
		defaultCategory: "default"
	});
}(jQuery));( function( $, window ) {


registration.namespace( "core.config" );

var configuration = {};

var cookieExpiry = 30;
var meterCookieExpiry = 730;
var getCookieDomain = function(){
	var dDom = document.domain;
	return dDom.match(/^[0-9]{1,3}(\.[0-9]{1,3}){3}$/)?
		dDom //ip address
		:(dDom.split('.').length<3)?
			"."+dDom
			:!dDom.match(/\.trb$/)?
				"."+dDom.split('.').slice(1).join('.')
				:dDom.match(/\.(testprod|test|design|local)\.(tii|tila)\.trb$/)?
					"."+dDom.split('.').slice(-4).join('.')
					:"."+dDom.split('.').slice(-3).join('.');
};

var resolveHostName = function(){
	return window.location.protocol + "//" + window.location.host;
};


registration.core.config.ConfigController = registration.oop.RegistrationObject.extend({
		
		logger: null,	
		
		configParams: null,
		
		constructor: function( params ) {
			this.base( params );
			this.configParams = params.configParams || {};
			this.logger = registration.log.Logger.getInstance({
				instanceName: this.instanceName + "Logger",
				name: this.className, 
				level: "debug"
			});
		},
		
		init: function(){
			if( this.configParams.registrationHostname ){
				
				this.configParams.registrationHostname = registration.utils.strings.removeTrailingSlash( this.configParams.registrationHostname );
			}
			configuration = $.extend( {}, this.clazz.defaultConfigParams, this.configParams );
		},
		
		/**
		 * Get an item from the configs
		 * @param string key The key to get
		 * @return mixed The value at key, or null if not found
		 */
		get: function( key ) {
			if ( typeof( configuration[ key ] ) != "undefined" ) {
				return configuration[ key ];
			}
			return null;
		},

		/**
		 * Sets a value in the configs
		 * @param string key The key to get
		 * @param mixed value The value to store at key
		 * @return void
		 */
		set: function( key, value ) {
			configuration[ key ] = value;
		}
		
	},
	{
		className: "registration.core.config.ConfigController",
		
		defaultConfigParams :{
			// Master Id cookie used to making web service calls and login authentication
			masterIdCookieName: "c_mId",
			// User Id contains the user name
			userIdCookieName: "c_unm",
			// Progressive Registration Group name
			proRegGroupCookieName: "c_prg",
			// Progressive Registration Field name
			proRegFieldCookieName: "c_prh",
			// Last logged in provider
			lastLoginCookieName: "c_llp",
			// The login token to identify the user
			meterLoginIdentifier: 'c_mli',
			meterCookieExpiry:meterCookieExpiry,
			//The expiration date for all registration cookies
			cookieExpiry : cookieExpiry,
			//the domain where the cookies will be set
			cookieDomain: getCookieDomain(),
			//
			hostname: resolveHostName(),
			
			enableLogger: false,
			
			requireLoginIntercept :false

		},
		
		getInstance: registration.oop.factory.singleton.getInstance
	});

}( jQuery , window) );( function( $ ) {

registration.namespace( "core.template" );

/*
Conditional Content Example
<div>
	<c:if test='${param.p}'>
		<div>Conditional Content</div>
	</c:if>
</div>

*/


//TODO make most of these private methods
registration.core.template = {
	
	setTemplate : function( templateName , content ){
		//save to registration.core.template.templates;
	},
		
	hasTemplate: function( templateName ){
		return ( this.getTemplate( templateName ) != undefined );
	},
	
	getTemplate:  function( templateName ){
		return registration.core.template.templates[ templateName ];
	},
	
	removeTemplate: function(){
		
	},
	
	conditionalTag : /<c:if/g,
	
	conditionalBlockRegex: /(<c:if\s*test="(\w*)"\s*>(.*?)<\/c:if>)/g ,

	hasConditionalStatement: function( template ){
		return template.match( this.conditionalTag );
	},
	
	renderConditional: function( template ){
		
		var renderedTemplate = template;
		
		renderedTemplate.match( this.conditionalBlockRegex );
		
		var conditionalBlock  = RegExp.$1;
		var conditionalValue  = RegExp.$2;
		var conditionalContent = RegExp.$3;
		
		if( conditionalValue != "" && registration.utils.objects.toBoolean( conditionalValue ) != false ){
			renderedTemplate = renderedTemplate.replace( conditionalContent , "" );
		}
		else{
			renderedTemplate = renderedTemplate.replace( conditionalBlock , "" );
		}
		
		return renderedTemplate;
		
		
	},
	
	cleanTemplate: function( template ){
		return registration.utils.formatting.expressionReplacement( template,  new RegExp('\\$\\{\\w+\\.\\w+\\}', 'g') , "" );
	},
	
	processTemplate: function( template , params ){
		
		
		
		var processedTemplate = template;
		
		for( param in params ){
			
			if( !params.hasOwnProperty( param ) ){
				 continue;
			}
			
			processedTemplate = registration.utils.formatting.expressionReplacement( processedTemplate, 
																					 param , 
																					 params[ param ] );
	
		}
		
		processedTemplate = this.cleanTemplate( processedTemplate );
		
		if( this.hasConditionalStatement( processedTemplate ) ){
			processedTemplate =	this.renderConditional( processedTemplate );
		}
		
		return processedTemplate;
	}

};

registration.core.template.templates = {

	navigation: {
		
		loggedIn : '<nav id="registrationNavigation">'+
						'<div id="registrationNavigationHeader">'+
							'<a class="userName">${param.userName}</a>'+
						'</div>'+
						'<div id="registrationNavigationBody">'+	
							'<ul>'+
							'<li><span><a href="${param.originHost}/services/site/registration/show-profile.signon">Profile</a></span></li>'+
							'<li><span id="showNewslettersLink"><a href="${param.originHost}/services/site/registration/show-profile.signon#thenlpane">Newsletters</a></span></li>'+
							'<li><span id="signOutLink"><a href="javascript:void(0)">Sign Out</a></span></li>'+
							'</ul>'+
						'</div>'+	
					'</nav>',
		
		loggedOut : '<nav id="registrationNavigation">'+
						'<div id="registrationNavigationHeader">'+
							'<span id="flexibleSignInLink" class="link">${param.signInText}</span>'+
							'<span> or </span>'+
							'<span id="flexibleSignUpLink" class="link">${param.signUpText}</span>'+
						'</div>'+
					'</nav>'
	
	},
	
	tooltip: {
	
		optOut:'<div class="toolTipWrapper">'+
					'<span class="help">'+
						'<img class="toolTip" src="${param.assetHostname}/hive/images/signon/icons/modal/icon_help.png" toolTip="Your choice to opt out. Check this box if you prefer not to be e-mailed directly by advertisers unaffiliated with chicagotribune.com.'+ 
					  		'Note you may continue to receive certain other e-mail from chicagotribune.com and our affiliates as described in our '+
					   		'<a target=&quot;_blank&quot; href=&quot;${param.assetHostname}/privacypolicy&quot;>Privacy Policy</a>." />'+
					'</span>'+
				'</div>'
	},
	
	dialog:{
		
		resetPassword: '<span class="dialogHead">Create a new password</span>'+
						'<p class="dialogMessage">Please create a new password to use for your account:</p>'+
						'<form id="resetPasswordForm">'+
						    '<fieldset>'+
						        '<label for="password" class="label">New Password</label>'+
						        '<input id="password" name="password" class="password input" type="password">'+
						    '</fieldset>'+
						     '<fieldset>'+
						        '<label for="password2" class="label">Confirm New Password</label>'+
						        '<input id="passwordConfirm" name="passwordConfirm" class="password input" type="password">'+
						    '</fieldset>'+
						    '<fieldset>'+
						        '<button class="submit" type="submit">Submit</button>'+
						    '</fieldset>'+
						     '<div class="formErrors"></div>'+
						'</form>',
						
		forgetPassword:	'<span class="dialogHead">Lost your password?</span>'+
							'<p class="dialogMessage">Enter your email address below and we\'ll send you a link to where you can create a new password.</p>'+
							'<form id="forgetPasswordForm">'+
							    '<fieldset>'+
							        '<label>Email Address:</label>'+
							        '<input id="emailAddress" type="text" name="email" />'+
							    '</fieldset>'+
							    '<fieldset>'+
							        '<button class="submit" type="submit">Submit</button>'+
							    '</fieldset>'+
							    '<div class="formErrors"></div>'+
							'</form>'
		
	}
	
};


}(jQuery));
( function( $ ) {

registration.namespace( "core.transport" );

/**
 * @constant 
 */
registration.core.transport.JSON_DATA_TYPE = "json";

/**
 * @constant
 */
registration.core.transport.JSONP_DATA_TYPE = "jsonp";

/**
 * @constant
 */
registration.core.transport.HTML_DATA_TYPE = "html";
/**
 * @constant
 */

registration.core.transport.GET_REQUEST ="GET";

/**
 * @constant
 */
registration.core.transport.POST_REQUEST ="POST";

/**
 * @constant
 */
registration.core.transport.PUT_REQUEST ="PUT";

/**
 * @constant
 */
registration.core.transport.SUCCESS_RETURN_CODE ="0";

var logger = registration.log.Logger.getInstance({
	instanceName:  "Logger",
	name: "registration.core.transport", 
	level: "debug"
});

registration.core.transport.isExternal = function( url ){
	
	var protocol = location.protocol,
		hostname = location.hostname,
		exRegex = RegExp( '^'+protocol + '//' + hostname );

		return !exRegex.test( url );

};

registration.core.transport.postToWebMessage = function(){
	return registration.core.transport.constructRequest.apply( null, arguments );
};

// options.data and  options.url
registration.core.transport.getIframe = function( mutableOptions, callerOptions, immutableOptions ){
	
	//TODO make this a methos to take any number of objects to be merged
	var options = $.extend( true, {}, mutableOptions, callerOptions );
	options = $.extend( true, {}, immutableOptions, options );
	
	options.successCallback( registration.utils.dom.createIframe( options ) );
	
};


registration.core.transport.getHTMLContentWithOptions = function( mutableOptions,
		callerOptions, immutableOptions ){
	
		var options = $.extend( true, {}, mutableOptions, callerOptions );
		options = $.extend( true, {}, immutableOptions, options );
		var target = immutableOptions.url;
		
	if( registration.core.transport.isExternal( target ) ){
		callerOptions.successCallback( registration.utils.dom.createIframe( target , options ) );	
	}
	else{
		 registration.core.transport.postToWebMessage( options ) ;
	}
	
};


/**
 * Calls the postToWebMessage with options created by overriding the
 * specified caller supplied options with the specified mutable defaults and
 * then the specified immutable defaults.
 *
 * @param {Object} mutableOptions The options specified by the transport
 *                                layer method that can be overridden.
 * @param {Object} callerOptions The options passed in by the caller of the
 *                               transport layer method.
 * @param {Object} immutableOptions The options specified by the transport
 *                                  layer method that can not be overridden.
 *
 * @return {Object} Returns the results of the callback method in the options
 *                  parameter that gets run depending on the use case.  Returns
 *                  null for an asynchronous request.
 */
registration.core.transport.postToWebMessageWithOptions = function( mutableOptions,
		callerOptions, immutableOptions ) {
	var options = $.extend( true, {}, mutableOptions, callerOptions );
	options = $.extend( true, {}, immutableOptions, options );

	return registration.core.transport.postToWebMessage( options );
	
};

registration.core.transport.constructRequest = function( options ) {

	if ( options ) {
		
		var errorMessage;
		
		//throw execptions for cases when app will blow up - like if you are missing a form id,
		//and log errors that are less severe
		//

		// The data to be posted to the message queue.
		var data = options.data;

		var requestType = options.requestType || registration.core.transport.GET_REQUEST;
		
		// Make JSON the default data type if it is not specified.
		var dataType = options.dataType || registration.core.transport.JSONP_DATA_TYPE;

		// Specifies the servlet mapping to which to post the message.
		var url = options.url;

		var serverResponse = null;
		
		var httpSuccessCallbackWrapper = function( data, textStatus, jqXHR ){
			logger.debug( "call httpSuccessCallbackWrapper" );
			
			// if ( data.code ){
			// 	logger.info( 'code', data.code );
			// }
			
			if ( data.errMsg ){
				errorMessage = data.errMsg;
			} else if ( data.err ){
				errorMessage = data.err;
			} else if ( data.errorMessage ){
				errorMessage = data.errorMessage;
			}
			
			if( errorMessage && options.handleErrors ){
				options.handleErrors.call( null, errorMessage );
			}
			else if( options.successCallback ){
					serverResponse = options.successCallback.apply( null, [ data, textStatus, jqXHR ] );
			}
			
		};
		
		//handle errors should take a ref to the form as a parm getting passed in, then work just like it is in newsletter; because displayErrors is on each form
		
		var parseErrorMessages = function( returnCode, errorMessage ){
			//this needs to write different messages for 500 and the different kinds of 406 errors and only gets called where optiopns.handleErrors is true
			if ( returnCode == '500' ){
				options.handleErrors.call( null, "We're sorry, the server is down. Please try your request later." );
			} else if ( returnCode == '406' ){
			
				switch( errorMessage ){
					case "emailAddress":
			  			options.handleErrors.call( null, "The email address you have entered does not match our records." );
						break;
					case "zipCode":
			  			options.handleErrors.call( null, "The zip code you have entered does not match our records." );
						break;		
					case "optOut":
						options.handleErrors.call( null, "There is a problem with this request." );
						break;	
				}
			}
			
		};
		
		var httpErrorCallbackWrapper = function( jqXHR, errorStatus, errorThrown ){
			//we want a global handler; presumably that means override this specific handler?
			logger.debug( "call httpErrorCallbackWrapper" );
			if( options.errorCallback ){
				serverResponse = options.errorCallback.apply( null, [ jqXHR, errorStatus, errorThrown ] );
			}
			else{
				logger.debug( "call httpErrorCallbackWrapper" );
			}
		};	
			
		var ajaxOptions = {
			url : url,
			requestType: requestType,
			dataType : dataType,
			data : data,
			success : httpSuccessCallbackWrapper,
			error : httpErrorCallbackWrapper
		};
		
		// Perform the Ajax request.
		$.ajax( ajaxOptions );

	}

};

registration.core.transport.postMessage = function(){
	
};

}(jQuery));( function( $ ) {
	
	registration.namespace( "manager" );
	
	
	//register with the class
	var currentDialog = null,
		loginDialog = null,
		interceptDialog = null,
		forgetPasswordDialog = null,
		passwordResetDialog = null,
		registrationDialog = null,
		newsletterDialog = null,
		eventManager = null,
		user = null,
		loginDialogDisableCloseButton = null;
		
	
	var logger = registration.log.Logger.getInstance({
		instanceName:  "Logger",
		name: "registration.manager", 
		level: "debug"
	});
	
	
	var MeterLoginCookieCreator = function(){

		var METER_EXPIRY = 60;

		var createTimeStamp = function(){
			var currentDate = registration.utils.dates.getADate(),
				dateBasedOnCurrentDate = registration.utils.dates.getADate( currentDate );
				
			return dateBasedOnCurrentDate.setMinutes( dateBasedOnCurrentDate.getMinutes() + METER_EXPIRY );	
		};

		this.createCookieValue = function( value ){
			return createTimeStamp() + "|" + value;
		};

	};

	var MeterLoginCookieParser = function(){

		var getCookie = function(){
			return registration.utils.cookies.getValue( registration.manager.config.getConfig( "meterLoginIdentifier" ) );
		};

		var getCookieValues = function(){
			return registration.utils.strings.parseStringValue( getCookie() , "|" );
		};


		this.hasCookie = function(){
			return getCookie() != null;
		};

		this.getTimeStamp = function(){
			var cookieValues = getCookieValues();
			return cookieValues[ 0 ] || "";
		};

		this.getIdentifier = function(){
			var cookieValues = getCookieValues();
			return cookieValues[ 1 ] || "";	
		};

		this.isExpired = function(){
			return 	this.getTimeStamp() < registration.utils.dates.getADate().getTime();
		};

	};


	var deleteMeterCookie = function( callback ){

		logger.info("deleteMeterCookie");
		
		var cookiePath = registration.utils.cookies.getDefaultPath(),
			meterLoginCookieParser = new MeterLoginCookieParser();
		
        logger.info("has metering cookie: " + meterLoginCookieParser.hasCookie() );
		/* If we have a meter login identifier then we need to remove it, otherwise we do nothing*/
		if( meterLoginCookieParser.hasCookie() ){
			
			registration.utils.webMessage.deleteMeteringLoginIdentifier( meterLoginCookieParser.getIdentifier() , {

				successCallback : function( data ){
					logger.info("registration.utils.webMessage.deleteMeteringLoginIdentifier response:" + data);
					logger.info( "success registration.utils.webMessage.deleteMeteringLoginIdentifier" );	
					if( callback ){
						callback();
					}
				},

				errorCallback: function(){
					logger.info( "success registration.utils.webMessage.deleteMeteringLoginIdentifier" );
					if( callback ){
						callback();
					}	
				}
			});
			
			registration.utils.cookies.deleteCookie( registration.manager.config.getConfig( "meterLoginIdentifier" ), 
													 cookiePath,  
													 registration.manager.config.getConfig( "cookieDomain" ));
		}
	};


	var createMeterCookie = function( value ){
			
			var meterLoginCookieCreator = new MeterLoginCookieCreator(),
				cookieValue = meterLoginCookieCreator.createCookieValue( value ),
				defaultPath = registration.utils.cookies.getDefaultPath(),
				config = registration.manager.config;
			
			logger.debug("cookieValue being set to:" +  cookieValue );
			registration.utils.cookies.setValue( config.getConfig( "meterLoginIdentifier" ), 
												 cookieValue, 
												 config.getConfig( "meterCookieExpiry" ), 
												 defaultPath, 
												 config.getConfig( "cookieDomain" ) );
	};

	var checkForExpiredMeterLoginIdentifier = function( ){

		logger.info("checkForExpiredMeterLoginIdentifier");

		var meterLoginCookieParser = new MeterLoginCookieParser(),
			cookieValue,
			cookieIdentifier;

		/* If the metering cookie exists */
		if( meterLoginCookieParser.hasCookie() ){
			logger.debug( "is meter expired:" +  meterLoginCookieParser.isExpired() );

			/* Check for cookie expiration */
			if( meterLoginCookieParser.isExpired() ){

				cookieIdentifier = meterLoginCookieParser.getIdentifier();

				/* If cookie is expired then we need to check to see if we still have authorization */
				registration.utils.webMessage.getMeteringLoginIdentifier( cookieIdentifier, {

					successCallback: function( data ){
						logger.info(" success registration.utils.webMessage.getMeteringLoginIdentifier");
						
						/* If the meter login identifier is still valid reset the timestamp */
						if( !data.errMsg ){
							createMeterCookie( data.loginIdentifier );
						}
						/* If the meter login identifier is not valid, 
						   we need to remove the cookie and log the user out */
						else{

							deleteMeterCookie( );

							var loginConfig = {
								requireLoginIntercept: true,
								dialogParams:{         
									components:{
										hideSignupLink: true,
										successfulLoginRedirect: window.location.href,
										showLoginMaxMessage: true,
										brandingSiteName : registration.manager.config.getConfig( "brandingSiteName" ) || "",
										callbackUrl: registration.manager.config.getConfig( "hostname" ) + "/about/site/registration/signin_registration.complete?"
									}
								}
							};

							var lastLoginProvider = registration.utils.cookies.getValue(  registration.manager.config.getConfig( "lastLoginCookieName" ) );
							
							/* If we have a lastLoginProvider cookie than filter this choice when we open the login dialog*/
							if( lastLoginProvider ){
								loginConfig.dialogParams.components.userProvider = lastLoginProvider;
							}

							registration.manager.user.switchAccounts( loginConfig );
						}

					},

					errorCallback: function(  ){
						logger.info(" error registration.utils.webMessage.getMeteringLoginIdentifier");
					}

				});
			}
		}

	};
	
	
	var deleteUserCookies = function(){
		
		logger.debug( "deleting user cookies " );
		var cookiePath = registration.utils.cookies.getDefaultPath();
		registration.utils.cookies.deleteCookie( registration.manager.config.getConfig( "masterIdCookieName" ), 
												 cookiePath,  
												 registration.manager.config.getConfig( "cookieDomain" ));
		registration.utils.cookies.deleteCookie( registration.manager.config.getConfig( "userIdCookieName" ), 
												 cookiePath,  
												 registration.manager.config.getConfig( "cookieDomain" ));

	};
	
	var setCookieData =  function( user ){
		var config = registration.manager.config;
		var defaultPath = registration.utils.cookies.getDefaultPath();
		// name, value, expires, path, domain, secure 
		registration.utils.cookies.setValue( config.getConfig( "masterIdCookieName" ), 
											 user.getMasterId(), 
											 config.getConfig( "cookieExpiry" ), 
											 defaultPath, 
											 config.getConfig( "cookieDomain" ) );
		registration.utils.cookies.setValue( config.getConfig( "userIdCookieName" ), 
											 user.getUsername(), 
											 config.getConfig( "cookieExpiry" ), 
											 defaultPath, 
											 config.getConfig( "cookieDomain") );
		registration.utils.cookies.setValue( config.getConfig( "lastLoginCookieName" ), 
											 user.getLoginProvider(), 
											 config.getConfig( "cookieExpiry" ), 
											 defaultPath, 
											 config.getConfig( "cookieDomain" ) );
	};
	
	var displayIntereptDialog = function( opts ){
	
		var requiredFields = [ "emailAddress", "zipCode", "tos" , "optOut"];
		var totalRequiredFields = requiredFields.length;
		var user = opts.user;
		var successCallback = opts.successCallback;
		var fieldsToDisplay = [];
		
		var createDataSet = function( index , field ){
			
			var createZip = function( index ){
				var element = {};
				element.displayOrder = index + 1;
				element.elements = {
					 "label": {
                            "text": "Zip Code:"
                        },
                        "input": {
                            "id": 3,
                            "name": "zipCode",
                            "type": "text",
                            "validation": "@NotNull",
            				"options": {
                                "size": 40
                            }
                        }
				};
				return element;
			};
			
			var createEmail = function( index ){
				var element = {};
				element.displayOrder = index + 1;
				element.elements = {
					"label": {
                        "text": "Email Address:"
                    },
                    "input": {
                        "id": 1,
                        "name": "email",
                        "type": "text",
                        "validation": " @NotNull, @Email",
                        "options": {
                            "size": 40
                        }
                    }
				};
				return element;
			};
			
			var createTos = function( index ){
				var element = {};
				element.displayOrder = index + 1;
				element.elements = {
					 "input": {
                            "id": 4,
                            "name": "tos",
                            "type": "checkbox",
                            "validation": "@NotNull"
                        },
                        "label": {
                             "text": "I agree to chicagotribune.com's <a href=\"http://www.chicagotribune.com.stage.tribdev.com/privacypolicy\" target=\"_blank\">privacy policy</a> and <a href=\"http://www.chicagotribune.com.stage.tribdev.com/terms\" target=\"_blank\">terms of service</a>"
                         }
				};
				return element;
			};
			
			var createOptOut = function( index ){
				var element = {};
				element.displayOrder = index + 1;
				element.elements = {
					"input": {
                         "id": 5,
                         "name": "optout",
                         "type": "checkbox"
                     },
                      "label": {
                           "text": "I prefer not to be emailed by advertisers unaffiliated with chicagotribune.com (optional)."
                       }
				};
				return element;
			};
			
			
			switch( field ){
				case "emailAddress":
		  			return createEmail( index );
					break;
				case "zipCode":
		  			return createZip( index );
					break;	
				case "tos":
			  		return createTos( index );
					break;	
				case "optOut":
					return createOptOut( index );
					break;	
			}
 
		};
		
		var termsAccept = false;
		for( var requiredFieldIndex = 0; requiredFieldIndex < totalRequiredFields; requiredFieldIndex++ ){
			
			var method = registration.utils.strings.capitalizeFirstLetter( requiredFields[ requiredFieldIndex ] );
			var userField = user[ "get" + method ]();
			//TODO make this not guess these are the only values
			
			if(method == "Tos" && userField == "true" ){
				termsAccept = true;
			}
			
			if( method == "Tos" && userField == "false" ){
				fieldsToDisplay.push( requiredFields[ requiredFieldIndex ]);	
			}
			else if( method == "OptOut"  && userField == "false"  && !termsAccept ){
				fieldsToDisplay.push( requiredFields[ requiredFieldIndex ]);
			}
			else if( userField == undefined || userField == ""){
				fieldsToDisplay.push( requiredFields[ requiredFieldIndex ]);
			}
	
		}
		
		var totalFieldsToDisplay = fieldsToDisplay.length;
		if( totalFieldsToDisplay > 0 ){
			var form = { 
				formData: [ ] 
			};
			for( var fieldsIndex = 0; fieldsIndex < totalFieldsToDisplay ; fieldsIndex++ ){
				var field = createDataSet( fieldsIndex, fieldsToDisplay[ fieldsIndex ] );
				form.formData.push( field );
			}
			registration.manager.showInterceptDialog({
				data :form,
				successCallback:successCallback
			});
		}
		else{
			successCallback();
		}
		
			
	};

	registration.manager = {
		nav: null,
		dataCache: {
			formId: null,
			data: null
		},
	
		hasDialog: function( dialog ){
			if( dialog != null ){
				return dialog.isOpen();
			}
			return false;
		},
		
		shouldDisplayPasswordReset : function(){
			 var urlParamsArr = registration.utils.querystrings.paramsToObject( document.location.search.substr( 1 ) );
			 if( urlParamsArr[ "h_token" ] &&  urlParamsArr[ "email_token" ] ){
                eventManager.fire( "reg_password_reset" , urlParamsArr );  
             }
		},
		
		closeCurrentDialog: function(){
			logger.debug( "close current dialog" );
			if( currentDialog ){
				currentDialog.destroy();
				currentDialog = null;
			}
		},
		
		showLoginDialog :  function( params ){
			
			logger.debug( "show login dialog" );
			//TODO always send these params
			var defaultDialogParams = {
				dialogName: "login",
				components:{
					backgroundColor : registration.manager.config.getConfig( "themeBackgroundColor" ) || registration.component.dialog.DialogController.defaultDialogParams.backgroundColor,
					textColor		: registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor
				}
			};
			
			var dialogParams = defaultDialogParams;
			if( params ){
				
				
				if( params.dialogParams && params.dialogParams.container && params.dialogParams.container.disableCloseButton ){
					loginDialogDisableCloseButton = params.dialogParams.container.disableCloseButton;
				}
				
				if( params.requireLoginIntercept ){
					registration.manager.config.setConfig( "requireLoginIntercept" , true );
				}
				
				if( params.dialogParams ){
					dialogParams = $.extend( true, {}, defaultDialogParams , params.dialogParams );
				}
				
				if( dialogParams.components.successfulLoginRedirect ){
					dialogParams.components.successfulLoginRedirect = dialogParams.components.successfulLoginRedirect.replace(/\/[?|#].+/, "");
				}
			
			}

			if( !this.hasDialog( this.loginDialog ) ){
			
				if( !user.isLoggedIn() ){
					loginDialog = registration.component.dialog.DialogController.getInstance({
						dialogContent: registration.utils.webMessage.loginModal,
						dialogParams:  dialogParams
					});
					currentDialog = loginDialog;
				}
			}
		},
		
		showRegistrationDialog: function( params ){
				
				//TODO always send these params
				var defaultDialogParams = {
					dialogName: "registration"
				};

				var dialogParams = defaultDialogParams;

				if( params && params.dialogParams ){
					dialogParams = $.extend( true, {}, defaultDialogParams , params.dialogParams );
				}
				
				if( !this.hasDialog( this.registrationDialog ) ){

					if( !user.isLoggedIn() ){
					
						registration.utils.webMessage.profileContentRules( "", {
							
							successCallback: function( data ){
								
								logger.debug( "showRegistrationDialog success" );
								
								// Creates an instance of the registration form
								var registrationForm = registration.component.form.RegistrationFormController.getInstance({
									formId: "registrationForm",
									formParams:{
										//This will eventually be data
										hasValidator: true,
										data: registration.mockJSON.getRegistrationJSON( registration.config.get( "assetHostname" ), registration.config.get( "brandingSiteName" )),
										//TODO allow for event handlers to be added to the buttons
										buttons:[
											{
												text: "Submit",
												type: "submit",
												id:"signon-submit"
											},
											{
												text: "Or",
												type: "spacer"
											},
											{
												text: "Cancel",
												type: "span",
												id: "signon-cancel",
												events:{
													onClick: function(){

														logger.debug("registration cancel button clicked");
														
														registration.manager.closeCurrentDialog();
													//	registrationForm.destroy();
													}
												}
											}
										],
										events:{
											
											onSubmit: function(){
												
												//disable the submit button to prevent double-clicking  
												
												registration.utils.forms.disableButton( $("#signon-submit") );
												
												registrationForm.removeErrorMessages();
													
												registration.utils.webMessage.tokenRetriever( {

													handleErrors: function( error ){
														registrationForm.displayErrors( error );
													},

													successCallback: function( data ){
														logger.info( "success registration.utils.webMessage.tokenRetriever" );

														//TODO check for captcha later
														var validationToken = data.validationToken;
														logger.info( "validation token from tokenRetreiver", validationToken )
														var isValidAnswer = data.isValidAnswer;
															
														var formData = {
																masterId 	: user.getMasterId() || "",
																email 		: registrationForm.getEmail(),
																password 	: registrationForm.getPassword(),
																zipcode		: registrationForm.getZipCode(),
																tos			: registrationForm.getTos(),
																optout		: registrationForm.getOptout()
															};

														var createTempUsername = function( email ){
															var emailSplit = email.split( "@" );
															return emailSplit[ 0 ] ;
														};
														
														var username = createTempUsername( formData.email );
														if ( username.length < 6 ){
															username += "00000";
														}												
														//TODO handle username
														registration.utils.webMessage.suggestedUsernames( formData.masterId, username, {
															
															successCallback: function( data ){
																	var username =  "";
																	if( data.suggestedUserNames ){
																		if( data.suggestedUserNames[ 0 ] ){	
																			username = data.suggestedUserNames[ 0 ].userName;
																		}
																		else if ( data.suggestedUserNames.userName ) {
																			username = data.suggestedUserNames.userName;
																		} 
																	} else if ( data.userName ){
																			username = data.userName;
																	}
																	formData.username = username;
																	
																	logger.info( "registration.utils.webMessage.suggestedUsernames" );
																
																	registration.utils.webMessage.createNewAccount( validationToken, formData , {
																		
																		handleErrors: function( error ){
																			registrationForm.displayErrors( error );
																			registration.utils.forms.enableButton( $("#signon-submit") );
																		},
																			
																		successCallback: function( data ){
																			//this one is real
																			var validationToken = data.successToken;
																			
																			formData.masterId = data.masterId;
																			logger.info( "success registration.utils.webMessage.createNewAccount" );
																			
																			if( data.errMsg ){
																				//TODO handle form errors
																			}
																			
																			registration.utils.webMessage.submitConsumerProfile( validationToken, formData , {
																				
																				handleErrors: function( error ){
																					registrationForm.displayErrors( error );
																					registration.utils.forms.enableButton( $("#signon-submit") );
																				},	
																				successCallback: function( data ){
																					
																					//re-enable the submit button
																					registration.utils.forms.enableButton( $("#signon-submit") );
																					
																					logger.info( "success registration.utils.webMessage.consumerProfile" );	
																					
																					var profile = data.profileResponse;
                                         											  user.importUserData({
											                                               userInfo: profile 
											                                           });	
																					
																					registration.manager.closeCurrentDialog();
																				//	registrationForm.destroy();
																					setCookieData( user );
																					registration.utils.webMessage.initializeUserSession( {
																						handleErrors: function( error ){
																							registrationForm.displayErrors( error );
																						},
																						successCallback: function(){
																							registration.manager.showNewsletterDialog();
																						},
																						errorCallback: function(){
																							registration.utils.forms.enableButton( $("#signon-submit") );
																						}
																					});
																					
																				},
																				errorCallback: function(  ){
																					//re-enable the submit button
																					logger.error( "error registration.utils.webMessage.consumerProfile" );
																					registration.utils.forms.enableButton( $("#signon-submit") );
																				}

																			});

																		},

																		errorCallback: function(  ){
																			logger.error( "error registration.utils.webMessage.createNewAccount" );
																			registration.utils.forms.enableButton( $("#signon-submit") );
																		}

																});
																		
															},
															errorCallback: function(){
																//re-enable submit button
																registration.utils.forms.enableButton( $("#signon-submit") );
																logger.error( "success registration.utils.webMessage.consumerProfile" );		
															}
															
														});
													},

												errorCallback: function(  ){
													logger.error( "error registration.utils.webMessage.verifyCaptcha" );
													registration.utils.forms.enableButton( $("#signon-submit") );	
												}

											});		
										}
									}
								}
							});
			
					
								dialogParams = $.extend( true, {}, dialogParams, {
									container: {
										dialogTitle: "Sign Up"	
									},
									events:{
										onLoad : function(){
											registrationForm.bindEventHandlers();	
										}
									},
									components:{
										backgroundColor : registration.manager.config.getConfig( "themeBackgroundColor" ) || registration.component.dialog.DialogController.defaultDialogParams.backgroundColor,
										textColor		: registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor
									}
								});
			
								registrationDialog = registration.component.dialog.DialogController.getInstance({
									dialogContent: registrationForm.getForm(),
									dialogParams:  dialogParams 
								});
	
								currentDialog = registrationDialog;
							},
							errorCallback: function(){
								logger.debug( "showRegistrationDialog fail" );
							}

						});

					}
				}
				
				//registration.utils.webMessage.consumerProfile();
			
		},
		
			buildNewsletterFormAndDialog: function( data ){

				var masterId = user.getMasterId() || "";

				var newsletterForm = registration.component.form.NewsletterFormController.getInstance({
					formId: "newsletterForm",
					formParams:{
						data: data,
						hasValidator: true,
						buttons:[
							{
								text: "Submit",
								type: "submit",
								id:"signon-submit"
							},
							{
								text: "Or",
								type: "spacer"
							},
							{
								text: "Cancel",
								type: "span",
								id: "signon-cancel",
								events: {
									onClick: function(){
										logger.info("newsletter cancel button clicked");
										registration.manager.closeCurrentDialog();
										registration.utils.webMessage.initializeUserSession( {
											handleErrors: function( error ){

											},
											successCallback: function(){
												newsletterForm.sendData(masterId);
											},
											errorCallback: function(){

											}
										});
									//	registration.newsletterForm.destroy();
									}
								}
							}
						],
						events:{
							onSubmit: function(){
								registration.utils.webMessage.initializeUserSession( {
									handleErrors: function( error ){
										
									},
									successCallback: function(){
										newsletterForm.sendData(masterId);
									},
									errorCallback: function(){
										
									}
								});
							}						
						}
					}
				});

				newsletterDialog = registration.component.dialog.DialogController.getInstance({
					dialogContent : newsletterForm.getForm(),
					dialogParams:  {
						dialogName: "newsletter",
						dialogContainerStyleClass: "dialog-wrapper newsletter",
						events:{
							onLoad : function(){
								newsletterForm.bindEventHandlers();	
							},
							onClose: function(){
								newsletterDialog = null;
								try{
									carnival.utils.listener.fire('_carnival_after_cookie');
								}
								catch( error ){
									logger.info('failed to fire _carnival_after_cookie');
								}
							}
						},
						components:{
							backgroundColor : registration.manager.config.getConfig( "themeBackgroundColor" ) || registration.component.dialog.DialogController.defaultDialogParams.backgroundColor,
							textColor		: registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor
						}
					}
				});
				return newsletterDialog;
			},

			showNewsletterDialog : function( params ){
				if( registration.utils.querystrings.getValue("showNewsletters") != "false" ){
						var defaultDialogParams = {
							dialogName: "newsletter"
						};

						var dialogParams = defaultDialogParams;

						if( params && params.dialogParams ){
							dialogParams = $.extend( true, {}, defaultDialogParams , params.dialogParams );
						}

						if( !registration.manager.hasDialog( newsletterDialog ) ){

							//TODO figure out
							var masterId = user.getMasterId() || "";
							var newsletterDialogInstance;
							//check cache. get data from there if it's there.

							if ( !registration.manager.dataCache.data ){
							logger.info('nothing in the cache hit the service');

							registration.utils.webMessage.getConsumerProfile( masterId,{

						            handleErrors: function( error ){

						            },    
						            successCallback: function( data ){
						                logger.info( "success registration.utils.webMessage.getConsumerProfile" );

						                if( data.returnCode == 0 ){
						                    //Staches the users data
																logger.info('staching');
						                    user.importUserData({
						                        userInfo: data 
						                    });    


						                    registration.utils.webMessage.getNewsletters( masterId, {

						                        successCallback: function( data ){
						                            registration.manager.dataCache.data = data;
						                            currentDialog = registration.manager.buildNewsletterFormAndDialog(data);
						                        },
						                        errorCallback:function(){
						                            logger.debug( "showNewsletterDialog fail" );    
						                        }
						                    });
						                }
						                else{
						                    logger.warn( "registration.utils.webMessage.getConsumerProfile - cookies are not being set, invalid master id" );    
						                }


						            },
						            errorCallback: function( data ){
						                logger.error( "failure registration.utils.webMessage.getConsumerProfile" );    
						            }

						        });

							} else {

								logger.info('grabbing data from the cache', registration.manager.dataCache.data);
								currentDialog = registration.manager.buildNewsletterFormAndDialog(registration.manager.dataCache.data);
						}
					}
				}
			},
		
		
		showPasswordResetDialog: function( params ){
				
				var h_token, email_token = "";
				
				if( params ){
					h_token = params.h_token;
					email_token = params.email_token;
				} 
				var data = { 
					"formData" : [
        	{
           "displayOrder": 1,
            "elements": {
              "label": {
                "text": "New Password:"
              },
              "input": {
								"id": 1,
								"name": "password",
								"type": "password",
								"validation": "@NotNull, @Password",
        				"options": {
                  "size": 40
                }
             	}
            }
        	},{
           "displayOrder": 2,
           "elements": {
             "label": {
                "text": "Confirm New Password:"
             },
             "input": {
                "id": "passwordConfirm",
                "name": "passwordConfirm",
                "type": "password",
								"validation": "@Equals=password",
         				"options": {
                  "size": 40
                }
             }
           }
          }								
					]
				};

				var resetPasswordForm = registration.component.form.ResetPasswordFormController.getInstance({
					formId: "resetPasswordForm",
					formParams:{
						data: data,
						hasValidator: true,
						buttons:[
							{
								text: "Submit",
								type: "submit",
								id:"signon-submit"
							},
							{
								text: "Or",
								type: "spacer"
							},
							{
								text: "Cancel",
								type: "span",
								id: "signon-cancel",
								events:{
									onClick: function(){
										logger.debug("reset password cancel button clicked");
										registration.manager.closeCurrentDialog();
									}
								}
							}
						],
						events:{
							onSubmit: function( ){	
								//	e.preventDefault();
									var $password = $( "#resetPasswordForm_1" );
									var password = $password.val();
									var $passwordConfirm = $( "#resetPasswordForm_passwordConfirm" );
									var passwordConfirm = $passwordConfirm.val();								
								
									registration.utils.webMessage.resetUsersPassword( password, passwordConfirm, h_token, email_token,{
										successCallback: function( data ){

											logger.debug( "resetUsersPassword pass" );

											if( data.returnCode == "0" ){
												logger.debug( "sendResetPasswordEmailInstructions email reset pass instructions sent " );
												resetPasswordForm.showThankYouMessage();
												
											} else if( data.errMsg ) {
												
												resetPasswordForm.showErrorMessages( data );
												
											} else if ( data.returnCode == "406"){
												resetPasswordForm.showErrorMessages( "There has been a server validation error." );
											}
										},
										errorCallback: function(){
											logger.error( "resetUsersPassword fail" );
										}
									});
								}	
						}			
				  }
				});
	

				if( !registration.manager.hasDialog( passwordResetDialog ) ){
					passwordResetDialog = registration.component.dialog.DialogController.getInstance({	
						
						dialogContent: resetPasswordForm.getForm(),
						dialogParams: {
							dialogName: "reset-password",
							
							events:{
								onLoad : function(){
									resetPasswordForm.bindEventHandlers();
								},
								onClose: function(){
									passwordResetDialog = null;
								}
							},
							components:{
								backgroundColor : registration.manager.config.getConfig( "themeBackgroundColor" ) || registration.component.dialog.DialogController.defaultDialogParams.backgroundColor,
								textColor		: registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor
							}
						}		
					});
					currentDialog = passwordResetDialog;
				}
		},


	showPasswordDialog : function( params ){
				
			registration.manager.closeCurrentDialog();
				
				var defaultDialogParams = {
					dialogName: "forget-password",
					components:{
						backgroundColor : registration.manager.config.getConfig( "themeBackgroundColor" ) || registration.component.dialog.DialogController.defaultDialogParams.backgroundColor,
						textColor		: registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor
					},
					events:{
		                onLoad : function(){
							
							var $forgetPasswordForm = $( "#forgetPasswordForm" );
							
							//TODO Handle Form with Form Class
							$forgetPasswordForm.submit( function( e ){
								
								e.preventDefault();
								
								var $dialogMessage = $( ".dialogMessage" ),
									$emailInput = $forgetPasswordForm.find( "#emailAddress" ),
									$errors = $forgetPasswordForm.find( ".formErrors" ),
									emailAddress = $emailInput.val(),
									landingPage = registration.manager.config.getConfig( "resetPasswordLandingPage" ) || "";
								
								registration.utils.webMessage.sendResetPasswordEmailInstructions( emailAddress , landingPage, {
								
									successCallback: function( data ){
									//	{"returnCode":"0"}
										if( data.returnCode == "0" ){
											logger.debug( "sendResetPasswordEmailInstructions email reset pass instructions sent" );
											//TODO change inner HTML
											var thankyouMessage = "Thanks! You should receive an email shortly with a link to where you can create a new password.";
											$dialogMessage.html( thankyouMessage );
											$forgetPasswordForm.remove();
										}
										else if( data.errMsg ) {
											$errors.html( "" );
											$errors.html(  data.errMsg );
										}
									
									},
									errorCallback: function(){
										//Problem with the request
										logger.error( "sendResetPasswordEmailInstructions fail" );
									}
								});

							});

						},
						
						onClose: function(){
							forgetPasswordDialog = null;
						}
					}
				};

				var dialogParams = defaultDialogParams;

				if( params && params.dialogParams ){
					dialogParams = $.extend( true, {}, defaultDialogParams , params.dialogParams );
				}
			
			if( !registration.manager.hasDialog( forgetPasswordDialog ) ){
				
				forgetPasswordDialog = registration.component.dialog.DialogController.getInstance({
					dialogContent: registration.core.template.getTemplate( "dialog" ).forgetPassword,
					dialogParams:dialogParams
				});
				currentDialog = forgetPasswordDialog;
			}
		},
		
		showInterceptDialog :  function( params ){
					//TODO always send these params
					var defaultDialogParams = {
						dialogName: "intercept"
					};

					var dialogParams = defaultDialogParams;
					
					var data = params.data;
					var sucessCallback = params.successCallback;
					
					if( params && params.dialogParams ){
						dialogParams = $.extend( true, {}, defaultDialogParams , params.dialogParams );
					}

					if( !this.hasDialog( this.interceptDialog ) ){

						if( !user.isLoggedIn() ){
							
								var interceptForm = registration.component.form.InterceptFormController.getInstance({
									formId: "interceptForm",
									formParams:{
										data: data,
										hasValidator: true,
										buttons:[
											{
												text: "Submit",
												type: "submit",
												id:"signon-submit"
											},
											{
												text: "Or",
												type: "spacer"
											},
											{
												text: "Cancel",
												type: "span",
												id: "signon-cancel"
											}
										],
										events:{
											
											onSubmit: function(){
												
												var formData = {
													masterId 	: user.getMasterId() || ""
												};
												
												if( interceptForm.hasOwnProperty( "getEmail" ) ){
													formData.email = interceptForm.getEmail();
												}
												if( interceptForm.hasOwnProperty( "getZipCode" ) ){
													formData.zipcode = interceptForm.getZipCode();	
												}
												
												if( interceptForm.hasOwnProperty( "getTos" ) ){
													formData.tos = interceptForm.getTos();
												}
												
												if( interceptForm.hasOwnProperty( "getOptout" ) ){
													formData.optout	= interceptForm.getOptout();
												}
												
												registration.utils.webMessage.tokenRetriever({
													handleErrors: function( error ){
														interceptForm.displayErrors( error );
													},
													successCallback: function( data ){
														logger.info( "success registration.utils.webMessage.tokenRetriever" );	
														
														var validationToken = data.validationToken;
														
														
															var createTempUsername = function( email ){
																var emailSplit = email.split( "@" );
																return emailSplit[ 0 ] ;
															};
															var email = formData.email || registration.manager.user.getUser().getEmailAddress();
															var username = createTempUsername( email );

															//TODO handle username
															registration.utils.webMessage.suggestedUsernames( formData.masterId, username, {

																successCallback: function( data ){
																		var username =  "";
																		if( data.suggestedUserNames ){
																			if( data.suggestedUserNames[ 0 ] ){	
																				username = data.suggestedUserNames[ 0 ].userName;
																			}
																			else if ( data.suggestedUserNames.userName ) {
																				username = data.suggestedUserNames.userName;
																			} 
																		} else if ( data.userName ){
																				username = data.userName;
																		}
																		formData.username = username;
																		
																		registration.utils.webMessage.submitConsumerProfile( validationToken, formData , {
																			handleErrors: function( error ){
																				interceptForm.displayErrors( error );
																			},
																			successCallback: function( data ){
																				logger.info( "success registration.utils.webMessage.submitConsumerProfile" );
																				sucessCallback();	
																				registration.manager.closeCurrentDialog();
																			},
																			errorCallback: function(  ){
																				logger.error( "error registration.utils.webMessage.submitConsumerProfile" );
																			}

																		});
																		
																},
																errorCallback: function(  ){
																	logger.error( "error registration.utils.webMessage.submitConsumerProfile" );
																}
																
															});
				
													
													},
													errorCallback: function(  ){
														logger.error( "error registration.utils.webMessage.tokenRetriever" );
													}

												});
			
											}
										}		
									}
								});
					
								interceptDialog = registration.component.dialog.DialogController.getInstance({
									dialogContent: interceptForm.getForm(),
									dialogParams:  {
										dialogName: "intercept",
										 container:{
						                   disableCloseButton: true 
						                 },
										 components:{
											backgroundColor : registration.manager.config.getConfig( "themeBackgroundColor" ) || registration.component.dialog.DialogController.defaultDialogParams.backgroundColor,
											textColor		: registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor
										},
										events:{
											onLoad : function(){
												interceptForm.bindEventHandlers();
			
											},
											onClose: function(){
												interceptDialog = null;
											}
										}
									}
								});
	
								currentDialog = interceptDialog;
							
						}
					}
					
					
		},
		
		events: {
		
			getEventManagerInstance : function(){
				return eventManager;
			}
			
		},
		
		user: {
			
			getUser: function(){
				return user;
			},
			
			/**
			*	@param A valid master id that is used to create the 
			*          appropriate carnival cookies needed for an 
			*		   ssor authentication
			*	@returns null
			**/
			login: function( masterId ){
			 
				if( masterId && !user.isLoggedIn() ){
					
					registration.utils.webMessage.getConsumerProfile( masterId,{
						
						handleErrors: function( error ){
							
						},	
						successCallback: function( data ){
							logger.info( "success registration.utils.webMessage.getConsumerProfile" );
						//	eventManager.fire( "login_success" );
						  
							if( !(data.returnCode == 4) ){
								//Staches the users data
								user.importUserData({
									userInfo: data 
								});	
								
								setCookieData( user );
								eventManager.fire( "reg_after_login");	
							}
							else{
								logger.warn( "registration.utils.webMessage.getConsumerProfile - cookies are not being set, invalid master id" );	
							}
							
							
						},
						errorCallback: function( data ){
							logger.error( "failure registration.utils.webMessage.getConsumerProfile" );	
						}
						
					});

				}
			},
			
			logout: function( callback ){
				
				if( user.isLoggedIn() ){
					logger.debug( "logout the user" );
					deleteUserCookies();
					//TODO figure out the after login event
					deleteMeterCookie( function(){
						//TODO make this not a full page refresh																			
						var callback = callback || document.location.href;
						//this method had been here as part of defensive coding for third parties, but caused an issue with our own code. DSS-549

						var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/logout.html?callbackUrl=" + callback ;
						window.location = url;
					// var nav = registration.component.navigation.NavigationController.getInstance({});
					// nav.createMenu();
						//TODO should be in callback?
					});
					
				}
			},
			
			getUserInfo: function( successCallback, errorCallback ){
					var config = registration.manager.config;
					var masterId = registration.utils.cookies.getValue( config.getConfig( "masterIdCookieName" ) );
					
					if( masterId != undefined ){
						registration.utils.webMessage.getConsumerProfile( masterId,  {

							successCallback: function( data ){
								user.importUserData({
									userInfo: data 
								});
								
								logger.info( "success registration.utils.webMessage.getConsumerProfile" );
								if( successCallback ){
									successCallback( user );
								}
		
							},
							errorCallback: function( data ){
								logger.error( "error registration.utils.webMessage.getConsumerProfile" );
								if( errorCallback ){
									errorCallback( user );
								}
							}

						});
					}
					else{
						logger.warn( "The user is not logged in " );
					}
				
			
			},
			
			switchAccounts: function( showLoginDialogConfig ){
				logger.debug( "switchAccounts dialog" );
				registration.manager.closeCurrentDialog();
				eventManager.addListener( "reg_switch_accounts",  function(){
					logger.debug( "reg_switch_accounts" );
					registration.manager.showLoginDialog( showLoginDialogConfig );
				});
				if( user.isLoggedIn() ){
					logger.debug( "logout the user" );
					deleteUserCookies();
					registration.manager.nav.createMenu();
					
					var callbackUrl = showLoginDialogConfig.dialogParams.components.callbackUrl;
					callbackUrl = registration.utils.strings.sanitizeQueryUrl(callbackUrl);
					
					var url = registration.manager.config.getConfig( "registrationHostname" ) + "/registration/logout.html?callbackUrl=" + callbackUrl + "listener=switch_accounts";
					
					logger.debug( "create Popup" );
					registration.utils.dom.createPopup( url,"", 
						"status = 1, height = 300, width = 300, resizable = 0" );
						
					eventManager.fire( "reg_after_logout");		
				}
				
			}

		},
		
		config:{
			
			initalize: function( config ){
				
				logger.debug( "initialize" );
				
				if(/(?:\?|\?&)logout=true/.test( document.location ) ){
						document.location = document.location.href.replace(/(?:\?|\?&)logout=true/, '');
				}
				
				
				if( config.themeBackgroundColor ){
					config.themeBackgroundColor = registration.utils.strings.ssorHexRemoveHash( config.themeBackgroundColor );
				}
				
				if( config.themeTextColor ){			
					config.themeTextColor = registration.utils.strings.ssorHexRemoveHash( config.themeTextColor );
				}		
	
				registration.config = registration.core.config.ConfigController.getInstance({
					configParams : config
				});
				
				var config = registration.manager.config;
	
				var redirectUser = function(){
					if( config.getConfig( "successfulLoginRedirect" ) ){
						var redirectURL = config.getConfig( "successfulLoginRedirect" );
						window.location = redirectURL;
					}
				};			
				

				
				eventManager = new registration.manager.EventManager();
				
				var importCookieDataToProfile = function(){
					if( registration.utils.cookies.getValue( registration.manager.config.getConfig( "masterIdCookieName" ) ) != undefined ){
						user.setMasterId( registration.utils.cookies.getValue( registration.manager.config.getConfig( "masterIdCookieName" ) ) );
					}
				};
				
				//Creates an instance of the User object
				user = registration.user.UserController.getInstance({});

				importCookieDataToProfile();
	
				var getUserReference = function( data ){
					
					logger.debug( "getUserReference" );
					
					loginDialog.closeDialog();
				
					var token = data.token;
					
				
					 registration.utils.webMessage.getUserInfo( {
						data:{
							signon_token: token
						},
						successCallback: function( data ){
							logger.info( "success registration.utils.webMessage.getUserInfo");	
							
							var masterId = data.masterId;
							
							
							registration.utils.webMessage.getConsumerProfile( masterId,{
								

								handleErrors: function( error ){
									
								},	
								successCallback: function( data ){
									logger.info( "success registration.utils.webMessage.consumerProfile" );	
									var nav = registration.manager.nav; 
									
										//Staches the users data
										user.importUserData({
											userInfo: data 
										});
									
										
										loginDialog.destroy();
										
										loginDialog = null;

										var requireLoginIntercept = config.getConfig( "requireLoginIntercept" );

										if( requireLoginIntercept ){
											var options = {
												user: user, 
												successCallback : function(){
												
													setCookieData( user );
													eventManager.fire( "reg_after_login" );
													registration.manager.nav.createMenu( user.getUsername() );
												}
											};
											
											displayIntereptDialog( options );
										}
										else{
										
											setCookieData( user );
											eventManager.fire( "reg_after_login" );
											registration.manager.nav.createMenu( user.getUsername() );
										}

								},
								errorCallback: function(  ){
									logger.error( "error registration.utils.webMessage.consumerProfile" );
								}

							});

						},
						errorCallback: function(  ){
							logger.error( "error registration.utils.webMessage.getUserInfo" );
						}
					});
					
				};
				
				eventManager.addListener( "reg_login_success",  getUserReference );
				
				eventManager.addListener( "reg_after_login",  function(){
				
					logger.debug( "fire reg_after_login" );
					
					registration.utils.webMessage.makeMeteringLoginIdentifier({
							
						successCallback : function( data ){
							logger.info( "success registration.utils.webMessage.makeMeteringLoginIdentifier" );	
							createMeterCookie( data.loginIdentifier );
							redirectUser();	
						},
						
						errorCallback: function(){
							logger.error( "error registration.utils.webMessage.makeMeteringLoginIdentifier" );
							redirectUser();	
						}
						
					});
					
				});
				
				eventManager.addListener( "reg_after_logout",  function(){
				
					logger.debug( "fire reg_after_logout" );
		
				});
				
				eventManager.addListener( "reg_forget_password",  function(){ 

					registration.manager.showPasswordDialog({
						dialogParams:{
		                      container:{
		                          disableCloseButton: loginDialogDisableCloseButton || false
		                      }
		                 }
					});
					 
				});
				
				eventManager.addListener( "reg_password_reset", registration.manager.showPasswordResetDialog );
				eventManager.addListener( "reg_close_dialog", registration.manager.closeCurrentDialog );
				
				$( document ).ready( function(){
					registration.manager.shouldDisplayPasswordReset();	
					checkForExpiredMeterLoginIdentifier();
				});
			
			},
		
			initialize: function( config ){
				this.initalize(config);	
			},
			
			setConfig: function( key , value ){
				registration.config.set( key, value );
			},
		
			getConfig : function( key ){
				return registration.config.get( key );
			}
		}
	};
	
}( jQuery ) );
( function( $ ) {
	
	registration.namespace( "manager" );
	
	registration.manager.EventManager = function(){
	    this._listeners = {};
	};
	
	registration.manager.EventManager.prototype = {
		
		
		addListener : function( type, listener ){
			if ( typeof this._listeners[ type ] == "undefined" ){
		            this._listeners[ type ] = [];
		        }

		        this._listeners[ type ].push( listener );
		},
		
		fire: function( event , data ){
			if ( typeof event == "string" ){
		        
		        if ( this._listeners[ event ] instanceof Array ){
		            var listeners = this._listeners[ event ];
		            for ( var i = 0, len = listeners.length; i < len; i++ ){
						listeners[ i ]( data );
		            }
				}
		     }
		},
		
		removeListener: function( type, listener ){
			if ( this._listeners[ type ] instanceof Array ){
		            var listeners = this._listeners[ type ];
		            for (var i = 0, len = listeners.length; i < len; i++ ){
		                if ( listeners[ i ] === listener ){
		                    listeners.splice( i, 1 );
		                    break;
		                }
		            }
		        }
		}
		
	};
	
}( jQuery ) );
(function($) {

	registration.namespace( "component.navigation" );
	
		registration.component.navigation.NavigationController = registration.oop.RegistrationObject.extend({
			
			/**
			 * @lends registration.component.navigation.NavigationController.prototype
			 * @property {String} dialogContainerSelector The jQuery selector for
			 *                                            the element that contains
			 *                                            the navigation content.
			 */
			navigationContainerSelector: null,
			
			loggedInMenuSelector: "#registrationNavigationBody",

			/**
			 * @lends registration.component.navigation.NavigationController.prototype
			 * @property {String} dialogContainerStyleClass The name of a class that
			 *                                              gets added to the class
			 *                                              attribute of the
			 *                                              outermost element of the
			 *                                              markup for each dialog
			 *                                              instance.  Used for
			 *                                              styling.
			 */
			navigationContainerStyleClass: "registrationNavigation",
			
			navigationBackgroundColor: "#000000",
			
			navigationTextColor: "#FFFFFF",

			/**
			 * @lends registration.component.navigation.NavigationController.prototype
			 * @property {Object} dialogParams An associative array of jQuery dialog
			 *                                 parameters that will override the
			 *                                 default dialog parameters.
			 */
			navigationParams: null,

			/**
			 * @lends registration.component.navigation.NavigationController.prototype
			 * @property {Object} logger An instance of {@link la.log.Logger}.
			 */
			logger: null,
			
				/**
			 * @lends registration.component.navigation.NavigationController.prototype
			 * @property {Object} $dialogContainer The jQuery wrapped reference to
			 *                                     the element that contains the
			 *                                     dialog content.
			 */
			$navigationContainer: null,

			/**
			 * @lends registration.component.navigation.NavigationController.prototype
			 * @property {Object} $dialog The jQuery UI dialog object that controls
			 *                            the display and look of the dialog.
			 */
			$navigation: null,
						
			$signInLink:null,
			
			$signUpLink: null,
			
			$signOutLink: null,
			
			$profileLink: null,
			
			originHost: null,
			
			navigationContent: null,
			
			template: null,
			
			navigationInstanceParams: [],
			
			/**
			 * Creates a new instance of this class.
			 * 
			 * @param {Object} params An associative array of instantiation
			 *                        properties.<br />
			 *                        params.dialogContainerStyleClass {String} The
			 *                          name of a class that gets added to the class
			 *                          attribute of the outermost element of the
			 *                          markup for each dialog instance.  Used for
			 *                          styling.
			 *                        params.dialogContainerSelector {String} The
			 *                          jQuery selector for the element that
			 *                          contains the dialog content.<br />
			 *                        params.dialogParams An associative array of
			 *                          jQuery dialog parameters that will override
			 *                          the default dialog parameters.
			 */
			constructor: function( params ) {
				
				this.base( params );
				this.navigationContainerSelector = params.navigationContainerSelector;
				this.template = params.template;
				this.navigationParams = params.navigationParams;
				
				this.logger = registration.log.Logger.getInstance({
					instanceName: this.instanceName + "Logger",
					name: "Navigation", 
					level: "debug"
				});
			},
			
			init: function(  ) {
				//register rendered templates or memoize so we dont reprocess?
				var containerSelectorString = "div#classBarNav ul.classBarNavMember li " + this.navigationContainerSelector;
			
			  this.logger.info( containerSelectorString );
				
				this.$navigationContainer = $( containerSelectorString );
				
				var $linkSelector = $( containerSelectorString + " a" );
	
	      //okay, so it's when it changes that it shouldn't.
			//	also there should be a black border around the menu. the border should align with the black hr behind it.
				
				this.navigationInstanceParams = $.extend( {}, this.clazz.defaultNavigationParams, this.navigationParams );
				//this.logger.info( navigationInstanceParams )
				// our selectors have to be stronger than this
				// div#classBarNav #ssorNavSignIn a
				
				//todo get logged in status
				this.$navigationContainer.css("backgroundColor", this.navigationInstanceParams.navigationBackgroundColor);
				
				$linkSelector.css("color", "red");
			//	this.logger.info($linkSelector.css());

				this.createMenu();
				this.bindEventHandlers( this.navigationInstanceParams );
			},
			
			hideMenu: function(){
				$loggedInMenuSelector.hide();
			},
			
		  createMenu: function( username ){
				
				var loggedInCookie = registration.utils.cookies.getValue( "c_mId" );
				var isLoggedIn = false;
				
				
				if ( loggedInCookie ){
					isLoggedIn = true;
				}
				
				if( this.template ){
					this.navigationContent = registration.core.template.getTemplate( this.template );
				}	else {
					this.navigationContent = registration.core.template.getTemplate( "navigation" );
				}
				
							
				if( isLoggedIn ){
	
					this.navigationContent = this.navigationContent.loggedIn;

				}	else {
					this.navigationContent = this.navigationContent.loggedOut;
				}
				
				this.navigationContent = registration.core.template.processTemplate( this.navigationContent, this.navigationInstanceParams );

				this.loadNav( this.navigationContent );
				
				var poundSymbolAndCSSBackgroundColor = "#"; 
				
				poundSymbolAndCSSBackgroundColor += registration.manager.config.getConfig( 'themeBackgroundColor' );
				$( '#ssorMiniModal' ).css("backgroundColor", poundSymbolAndCSSBackgroundColor );	
									
				var poundSymbolAndCSSTextColor = "#"; 
				poundSymbolAndCSSTextColor += registration.manager.config.getConfig( "themeTextColor" ) || registration.component.dialog.DialogController.defaultDialogParams.textColor;

				$("ul#ssorMiniModal").css("color", poundSymbolAndCSSTextColor );
				$("ul#ssorMiniModal li").css("color", poundSymbolAndCSSTextColor );
				$("ul#ssorMiniModal a").css("color", poundSymbolAndCSSTextColor );
			//	$("#flexibleSignUpLink").css("color", poundSymbolAndCSSTextColor );
			//	$("#registrationNavigationHeader span").css("color", poundSymbolAndCSSTextColor );
			
				if ( isLoggedIn ){

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.HttpChunk$1@194266e5
---Content---

---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.DefaultHttpChunk@71919998
---Content---
e
					*	@param {String} userName The username to be truncated
					* 	@description Truncates the username if it is longer than the 
					*				 total width of its container
					*   @return null
					*/
					var truncateUsername = function( userName ){

						var newLength = 30,
							newUsername = userName.substring(0, newLength ),
					 		revisedUsername =  newUsername + "...";

						$userName.html( revisedUsername );

					};

					/**
					* 	@function getUsernameContainerWidth
					*   @private
					* 	@description Calculates and returns the width of the parent 
					*				 container holding the username
					*   @return {Number} The width of the parent container
					*/
					var getUsernameContainerWidth = function(){
						return $navHead.width();
					};

					/**
					* 	@function getUsernameWidth
					*   @private
					* 	@description Calculates and returns the width of the username
					*   @return {Number} The width of the username
					*/
					var getUsernameWidth = function(){
						return $userName.width();
					};

					/**
					* 	@function shouldTruncateUsername
					*   @private
					* 	@description The layout of the modal and its contents
					*   @return boolean
					*/
					var shouldTruncateUsername = function(){

						var userNameContainerWidth  = getUsernameContainerWidth(),
							userNameWidth 			= getUsernameWidth();

						return  userNameWidth > userNameContainerWidth;

					};

					/**
					* 	@function userNameController
					*   @private
					* 	@description Decides if the username should be truncated
					*   @return null
					*/
					var userNameController = function(){

						if( shouldTruncateUsername() ){
							truncateUsername( $userName.html() );
						}

					};

					userNameController();

					/**************************************
					***************************************/
		
			if( backgroundColor ){
				$( '#ssorNavHeader, #ssorMiniModal' ).css( 'background-color', backgroundColor );	
			}
						

			//adjust height for different market classified bar heights
			if ($('#classified-bar').outerHeight()) {
				var signInHeight = $('#classified-bar').outerHeight(true);
				var signInPadding = (signInHeight - $('#signInLink').height()) / 4;
				$('#ssorNavHeader').css('height',(signInHeight - signInPadding));	
				$('#ssorNavHeader').css('padding-top',signInPadding+'px');
			} 
			else {
				$('#ssorNavHeader').css('padding','6px 6px 4px');
			}
	
			$( '#ssorMiniModal' ).width( navBodyWidth );
			
			carnival.utils.changeTextColor();
			
			$navHead.click( function ( e ){
				$navBody.toggle();
				e.preventDefault();
			});

			$navBody.hide();
			//Adding event listener for completion of navigation rendering
		    carnival.utils.listener.fire( 'navigationRendered' );
		},
		
		loggedoutItems :  function(){
			
			//BEGIN NEW LOGGED OUT ITEMS
			
			var backgroundColor = carnival.configuration( 'ssorNavBackgroundColor' ) || "#353535";
			this.navLocation.html('');
			var navTemplate = '<div id="ssorNavSignIn">'+
									'<div id="ssorNavHeader">'+
										'<span id="signInLink" class="link">Sign In</span>'+
										'<span> or </span>'+
										'<span id="signUpLink" class="link" onclick="carnival.user.resetUser();return signon.profile();" >Sign Up</span>'+
									'</div>'+
								'</div>';
			
			this.navLocation.append( navTemplate );
			
					/**
					*	@memberOf carnival.modal.popit
					* 	@description  Invokes the carnival popit method and returns the mini modal window with its current 
					*				  set of optional configs	
					**/
					var signOnLink = signon.originHost+'/'+signon.folder+'/site/registration/modal.signon';
					carnival.modal.popit( signOnLink, null, null, null );

			if( backgroundColor ){
				$( '#ssorNavHeader' ).css( 'background-color', backgroundColor );	
			}
			
			carnival.utils.changeTextColor();

			//adjust height for different market classified bar heights			
			if ($('#classified-bar').outerHeight()) {
				var signInHeight = $('#classified-bar').outerHeight(true);
				var signInPadding = (signInHeight - $('#signInLink').height()) / 4;
				$('#ssorNavHeader').css('height',(signInHeight - signInPadding));	
				$('#ssorNavHeader').css('padding-top',signInPadding+'px');
			} else {
				$('#ssorNavHeader').css('padding','6px 6px 4px');
			}
			
		}
		
	};

	return memberNav;

})(jQuery);


/**
 * @class 
 *
 * @extends Object
 */
carnival.Log = function( className ){
	this.constructor( className );
};


carnival.Log.prototype = ( function(){
	
	var Level = {

		OFF 	: "off",
		ON  	: "on",
		DEBUG	: "debug",
		INFO	: "info",	
		WARN	: "warn",
		ERROR	: "error",
		FATAL	: "fatal"

	};

	return {
		
		/**
		 * @constructs
		 *
		 * @param {Object} target The target object, or object publishing the event
		 * 
		 * @return void
		 */
		constructor : function( className ){
			this.className = className || "";
		},
		
		/** 
		* 	@property {Function} logMessage
		*   @param {String} cssProperty 
		* 	@description
		* 	@return void
		**/
		logMessage: function(  type, msg ){
			if (!!carnival.configuration('enableLogger')) {	
				// Handles window.console not being defined in IE
				if( !( "console" in window ) || !( "firebug" in console ) )
				{
				    var names = [ "log", "debug", "info", "warn", "error", "assert", "dir", "dirxml",
				    "group", "groupEnd", "time", "timeEnd", "count", "trace", "profile", "profileEnd" ];

				    window.console = {};
				    for ( var i = 0; i < names.length; ++i )
				        window.console[ names[ i ] ] = function() {}
				}
				if( this.css ){
					console[ type ]( "%c" + this.className + ': ' + msg , this.css );	
				}
				else{
					console[ type ]( this.className + ': ' + msg );
				}
			}
		},
		
		/** 
		* 	@property {Function} error
		*   @param {String} msg 
		* 	@description
		* 	@return void
		**/
		error  : function( msg ){ this.logMessage( 'error', msg ) },
		
		/** 
		* 	@property {Function} info
		*   @param {String} msg 
		* 	@description
		* 	@return void
		**/
		info   : function( msg ){ this.logMessage( 'info', msg ) },
		
		/** 
		* 	@property {Function} debug
		*   @param {String} msg 
		* 	@description
		* 	@return void
		**/
		debug  : function( msg ){ this.logMessage( 'debug', msg ) },
	
		/** 
		* 	@property {Function} warn
		*   @param {String} msg 
		* 	@description
		* 	@return void
		**/
		warn   : function( msg ){ this.logMessage( 'warn', msg ) }
		
	}
	
})();

/** 
* 	@property {Function} changeColor
*   @param {String} cssProperty 
* 	@description
* 	@return void
**/
carnival.Log.prototype.changeColor = function( cssProperty ){
	this.css = cssProperty;
};

/** 
* 	@property {Function} getLogger
*   @param {String} cssProperty 
* 	@description
* 	@return void
**/
carnival.Log.prototype.getLogger = function( clazz ){
	this.clazz = clazz || "";
};

/** 
* 	@property {Function} setLevel
*   @param {String} cssProperty 
* 	@description
* 	@return void
**/
carnival.Log.prototype.setLevel = function( level ){
	this.level = level || "";
};

//Shim for old logger
carnival.logger =  new carnival.Log();


( function(){
	// initializer will take data between open/close script tags and initialize
	// js client with it.
	var carnival_script = document.getElementsByTagName('script');
	carnival_script = carnival_script[carnival_script.length-1];
	// src.match required to protect against deferred or dom injected script loads
	if(carnival_script.innerHTML.length && carnival_script.src.match(/carnival\.js/)){
		var text = carnival_script.innerHTML;
		try{carnival_data = JSON.parse(text);}
		catch(e){
			try{carnival_data = new Function("return " + $.trim(text))();}
			catch(f){carnival_data = eval("("+text+")");}
		}
		carnival.init(carnival_data);
	}
})();

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 20 Mar 2012 02:23:00 GMT
ETag: "57be-4f67ea04"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 22462
---Content---
(function($){
	signon = window.signon || {};
	signon.folder = (!!(location.protocol.match(/https/))?"services":"about");
	signon.originHost = carnival.configuration('originHost') || location.protocol+'//'+carnival.configuration('currentDomain');
	signon.currentPath = location.pathname.substring(0,location.pathname.lastIndexOf('/'));
	
	signon.profile = function(data){
		//console.log("SIGNON PROFILE");
		if(undefined === carnival.user.profile('masterId')){
			signon.setupNewUser(); 	//ISO
		}else{	
			signon.teardownNewUser();
		}
		var e = document.createElement('div');
			e.innerHTML =  '<a href="'+signon.originHost+signon.currentPath+'/show-regform.signon?modalClass=registration">d</a>';
			carnival.modal.popit(e.firstChild,
				function(){
				},
				function(){
					if(!carnival.user.profile('newUser')){
						carnival.user.carnivalLogout();
					}
				}
			);
		return false;
	};
	
	carnival.site = carnival.site || {};
	carnival.site.alphaNLSort = function(a,b) {
		//eventually sort on displayOrder for all NL sets, once admin interface is built
		  if (a.description < b.description)
		     return -1;
		  if (a.description > b.description)
		    return 1;
		  return 0;		
	};
	carnival.site.subscription_form = function(){
		carnival.subscription.fired = 0; // carnival.subscription.fired || 0 ;
		//if(!carnival.subscription.fired){
			carnival.subscription.fired++;
			carnival.subscription.getNewsletters(function(data){
				var listName = '';
				var listHolder = $('#subscription-form-field');
				for(var o in data) {
					if(listName != o) {
						listName = (o!='undefined')?o:'Additional Newsletters';
						listHolder.append('<div class="form-list-title bold nl-header">'+listName+'<p class="nl-click-text">Click on plus sign to see newsletter description</p></div>' +
						'<div class="show_nl_desc" rel="'+o.replace(/\s+/g,'')+'">show all <span class="nl-dd-img plus"></span></div>' +
						'<ul class="form-list" id="newsletters-list-'+o.replace(/\s+/g,'')+'" rel="'+o.replace(/\s+/g,'')+'"></ul>');
					}
					//eventually sort on displayOrder for all NL sets, once admin interface is built
					if (o != 'Top Picks') {
						data[o].sort(carnival.site.alphaNLSort);
					}

					carnival.forms.createFormFields("#newsletters-list-"+o.replace(/\s+/g,''),data[o],'#subscription-form-field');
					carnival.utils.changeTextColor();
				}
				
				//add individual collapse attributes and matching rel attributes for individual toggles				
				$('li.nl-item').each(function(i) {
					$(this).children('label').after('<span class="nl-dd-img plus"></span>');
					var theref = $(this).children('input.form_radio').val();
					$(this).find('span.nl-dd-img').attr('ref',theref);
					$(this).children('div.newsletter_description').attr('ref',theref);
				});
				
				var newform = new carnival.forms.form("subscription-form");
				carnival.subscription.getNewsletterSubscriptions(newform.populateData,newform);
				
				//do individual toggles
				$('span.nl-dd-img').click(function(e) {
					e.preventDefault();
					($(this).hasClass('plus'))?$(this).removeClass('plus').addClass('minus'):$(this).removeClass('minus').addClass('plus');
					$('div.newsletter_description[ref='+$(this).attr('ref')+']').slideToggle(400);
				});
				
				$('.newsletter_description').css("clear","left");

				//every third after one, add a clear
				$('#subscription-form-field ul.form-list li:nth-child(2n+1)').css("clear","left");
				
				//in subscriptions modal, get rid of above, then add a clear after every second item
				//$('form.modal-nl-form #subscription-form-field ul.form-list li').css("clear","none");
				//$('form.modal-nl-form #subscription-form-field ul.form-list li:nth-child(2n+1)').css("clear","left");

				$('.newsletter_description').hide();
				
				//do section toggles
				$('.show_nl_desc').click(function(){
					this.blur();
					if ($(this).children('span').hasClass('plus')) {
						this.innerHTML = 'hide all <span class="nl-dd-img minus"></span>';
						$('ul.form-list[rel='+$(this).attr('rel')+']').find('span.nl-dd-img').removeClass('plus').addClass('minus');
						$('ul.form-list[rel='+$(this).attr('rel')+']').find('.newsletter_description').slideDown(400);
					} else {
						this.innerHTML = 'show all <span class="nl-dd-img plus"></span>';
						$('ul.form-list[rel='+$(this).attr('rel')+']').find('span.nl-dd-img').removeClass('minus').addClass('plus');
						$('ul.form-list[rel='+$(this).attr('rel')+']').find('.newsletter_description').slideUp(400);
					}
				
				carnival.utils.changeTextColor();	
				
	        return false;
				});
			});
		//} //if

		$("#subscription-form").submit(function() {
			//errorPlacement: carnival.forms.errorplacement,
			//submitHandler : function(){
				var jUns = $("#subscription-form").find("input[name=subscriptions]:unchecked");
				var uns = [];
				for(var i = jUns.length;i--;){
					uns.push(jUns[i].value);
				}
					if(carnival.user.isLoggedIn() || (carnival.user.profile('isEmailVerified') == 'true' || carnival.configuration('skipVerified') == 'true')){
						carnival.user.getConsumerProfile(function(){	
							carnival.subscription.submitNewsletters(
								//success
								{subs:($("#subscription-form").serializeFormToJson().subscriptions || []),unsubs:uns},
								function(){
									if(carnival.utils.listener.listening('_carnival_newsletters_finish')){
										//drop modal if NL modal (which will call _carnival_newsletter_finish), otherwise make that call here
										if(!carnival.modal.dropit()) {
											carnival.utils.listener.fire('_carnival_newsletters_finish');
										}
									}else {
										window.location = carnival.utils.cleanLocation();
									}
								},
								//error
								function(){
									carnival.forms.errorplacement("An error occurred. Please try again.",$("#signon-heading h1"));
								}
							);
						});
					}else{
						var link = signon.originHost+'/'+signon.folder+'/site/registration/modal.signon';
						var elem = $('<a href="'+link+'" >a</a>');
						carnival.modal.popit(elem[0]);
						carnival.user.afterLogin(function(){
							$("#subscription-form").submit();
						});
					}
				return false;
			//}
		});
	};
	
	signon.setupNewUser = function(){
		carnival.configuration('captchaType',(carnival.configuration('isoCaptchaType')||carnival.configuration('captchaType')||'reCaptcha'));
		carnival.user.profile('newUser',true);
		carnival.user.profile('masterId','gAtVwDLOydoIUNMji77wcA');
	};
	
	signon.teardownNewUser = function(){
		carnival.user.profile('newUser',false);
		carnival.configuration('isoCaptchaType',carnival.configuration('captchaType')||'reCaptcha'); //save captcha for later
		carnival.configuration('captchaType','securityFilter');
		carnival.user.profile('masterId',undefined);
	};
	/*
	if(carnival.user.isLoggedIn()){
		carnival.user.verifyLogin(function(){},function(){carnival.user.logout();})
	}
	*/
	carnival.configuration("interceptCallback" ,signon.profile);
	
	
	
	/*********************************************************
	 *             listeners on carnival events
	 *********************************************************/
	
	var cul = carnival.utils.listener;
	
	cul.listen('_carnival_after_handshake_success',function(){
		//console.log("HANDSHAKE SUCCESS");
		//console.log(carnival.user.profile());
		carnival.user.getConsumerProfile(function(){
			//console.log("GOT CONS PROF");
			carnival.user.profileIncomplete(function(){
				//console.log("DID PROFILE INCOMPLETE");
				$(function(){carnival.configuration("interceptCallback")()});
			},function(data){
				carnival.utils.listener.fire('_carnival_before_user_login');
				carnival.utils.listener.fire('_carnival_user_login');
				carnival.utils.listener.fire('_carnival_after_user_login');
			});
		});
	});
	
	cul.listen('_carnival_user_login',function(){carnival.user.login();})
	
	cul.listen('registration',function(){
		carnival.modal.dropit(true);
		signon.profile();
	});
	
	cul.listen('pass_reset',function(){
		
		var sendTemporaryPassword = carnival.configuration( 'tempPassword' ) || 'false' ;
		
		if( sendTemporaryPassword == "false" ){
			carnival.modal.popit(
				signon.originHost+'/'+
				signon.folder+'/site/registration/reset-password.signon',
				function(){
					$('#carnivalModalWrapper').width( 520 );
					$( '#reset-form' ).submit( function(  ){
						carnival.utils.listener.fire('send_pass_reset');
						return false;
					});
				}
			);
		}
		else{
			carnival.modal.popit(
				signon.originHost+'/'+
				signon.folder+'/site/registration/temp-password.signon',
				function(){
					$('#carnivalModalWrapper').width( 520 );
					$( '#temp-form' ).submit( function( e ){
						e.preventDefault();
						carnival.utils.listener.fire('send_temp_pass');
						return false;
					});
				}
			);
		}
	});
	
	cul.listen('send_temp_pass',function(){
		var f = new carnival.forms.form('temp-form');
		f.formValidator.bindValidator('email', [ "@NotNull", "@Email","@Min=5", "@Profane" ]);
		f.formValidator.bindValidator('zipCode', [ "@NotNull" ]);
		
		var success = f.formValidator.validateForm();
		if (success){
			carnival.user.submitUserTempRequest($('#temp-form').find('#email').val(), $('#temp-form').find('#zipCode').val(),
				function(transport){
					carnival.modal.dropit();
					cul.fire('temp_pass_thanks',
					{
						data:transport
					});
				},	
				function(transport){
					f.populateErrors.call(f,transport);
				}
			);
		}
	});
	
	cul.listen('_carnival_email_taken',function(copy){
		var c = copy && copy.usrMsgs ? copy.usrMsgs : '';	carnival.modal.popit(signon.originHost+'/'+signon.folder+'/site/registration/address-taken.signon',function(){ 
			if( c && c.length)$('#email_address_taken').html(c);
		},
		carnival.user.carnivalLogout);
	});

	cul.listen('send_pass_reset',function(){
		var f = new carnival.forms.form('reset-form');
		carnival.user.submitUserResetRequest($('#reset-form').find('#email').val(),
			function(transport){
				carnival.modal.dropit();
				cul.fire('pass_thanks',{data:transport});
			},	
			function(transport){f.populateErrors.call(f,transport);}
		);
	});
	
	cul.listen('_carnival_pass_create',function(data){
		carnival.modal.popit(
			signon.originHost+'/'+
			signon.folder+'/site/registration/reset-password-form.signon',
			function(){
				var f = new carnival.forms.form('pass-create-form');
				f.addValue('hashToken',data.h_token);
				f.addValue('emailToken',data.email_token);
					$("#carnivalModal").css("z-index", 2147483647);
					$("#carnivalModal").addClass("dialog-wrapper");
				$('#pass-create-form').submit(function(){
					carnival.utils.listener.fire('send_pass_create');
					return false;
				});
			}
		);
	});
	
	cul.listen('send_pass_create',function(){
		var f = new carnival.forms.form('pass-create-form');
		var data = $('#pass-create-form').serializeFormToJson();
		carnival.user.submitUserReset(data,
			function(transport){
				var cMod = $('#carnivalModal');
				cMod.find('h1').html('Thank You');
				cMod.find('.form-list').html('<li>Your password has been successfully changed.</li>');
				cMod.find('.carnivalFormBlock p').remove();
				cMod.find('#signon-submit').remove();
				cMod.find('div.carnival-error').remove();
				carnival.utils.listener.listen('popitClose',function(){window.location.href = carnival.utils.cleanLocation()});
				carnival.utils.changeTextColor();
			},	
			function(transport){f.populateErrors.call(f,transport);}
		);
	});
	
	cul.listen('pass_thanks',function(){
		carnival.modal.popit(
			signon.originHost+'/'+
			signon.folder+'/site/registration/reset-password-thanks.signon',
			function(){}
		);
	});
	
	cul.listen('temp_pass_thanks',function(){
		carnival.modal.popit(
			signon.originHost+'/'+
			signon.folder+'/site/registration/temp-password-thanks.signon',
			function(){}
		);
	});
	
	//extras - newsletter actions
	cul.listen('_carnival_newsletters',function(){
		var nextStep = {};
		nextStep.href = signon.originHost+'/'+signon.folder+'/site/registration/subscription-regform.signon?modalClass=subscription';
		if(window.top!=window){
			carnival.utils.listener.fire('_carnival_newsletters_finish');
		}else{
			carnival.modal.popit(nextStep,
				//callback
				null,
				//close callback
				function(){
					carnival.utils.listener.fire('_carnival_newsletters_finish');
				}
			);
		}
	});

	
	
	/*************************************************************************************************
		    Carnival Flows Namespace for Registration
		
		NOTE - these flows all precede and do not over-write the '_carnival_after_login' event
		 
	****************************************************************************************************/
	
	carnival.flows = function(type) {
		
		var cul = carnival.utils.listener;
		
		var verified = false;
		var extras = [];
		var autosubscribe = false;
		
		// verified / unverified
		if (carnival.user.profile('isEmailVerified') == 'true' || carnival.configuration('skipVerified') == 'true') {
			verified = true;
		}
		
		// Autosubscribe Email 
		if ((carnival.configuration('emailcode') != "") && (carnival.configuration('emailcode') != 'undefined')) {
			autosubscribe = true;
		}
		
		
		/******************************************
		**              THE FLOWS
		*******************************************/
		
		//DEFAULT FLOW
		var doAfterRegistrationFlow = function() {

			//if end of flow is reached (will only happen for verified sso at this point), log the user in
			cul.listen('_carnival_flow_finish',function() {
				carnival.user.login();
			});
			
			
			// Build Extras for this flow - placed w/in individual flow b/c other flows might have 
			// different collection of extras, different orders, etc
			if (!carnival.configuration('extras')) {
				
				//pre-existing from P2P custom section param
				if ((carnival.configuration('skipNewsletters') != "") && ( carnival.configuration('skipNewsletters') !== undefined )) {
					//use same identifying string as the listeners
					extras.push('_carnival_newsletters');
				}

				
				//finally, assign array to carnival config object
				carnival.configuration('extras',extras);
				
			} else {
				//or over-ride
				extras = carnival.configuration('extras');
			}
			
			//autosubscribe - does not need listeners, as is asynchronous and presents no UI.  for verified or unverified users
			if (!!autosubscribe) { 
				try {
					autoSubscribe();
				} catch(e) { carnival.logger.error("Autosubscribe Error: " + e); }
			}
			
			//verification modal and callbacks - NOTE: for unverified registrants, flow ends here with verification modal & email
			if (!verified) {
				var verifyLink = [signon.originHost,signon.currentPath,'/verify-email.signon'].join('');
				carnival.modal.dropit(true);
				carnival.modal.popit(verifyLink,
					//callback
					null,
					//closecallback
					function() {
						carnival.user.carnivalLogout;
						if (!!carnival.configuration('nlcallback')) {
							window.location = carnival.configuration('nlcallback');
						}
					});
			} else {
				//if verified registration, drop reg modal and proceed
				carnival.modal.dropit(true);
			}
			
			
			//Do extras or, if none, log user in (assumed verified)
			if (!!extras.length) {
				carnival.extras(extras,verified); 
				cul.listen('_carnival_extras_finish',function() {
					cul.fire('_carnival_flow_finish',{remove:true});
				});
			} else if (!!verified) {
				cul.fire('_carnival_flow_finish',{remove:true});
			}
			
		}; //doAfterRegistrationFlow
		
		
		//FLOW FOR AFTER SIGNUP FROM PROGREG PAGE
			var doAfterPRregistrationFlow = function() {
				
				
				//if end of flow is reached, log user in
				cul.listen('_carnival_flow_finish',function() {
					carnival.user.login();
				});


				// Build Extras for this flow - placed w/in individual flow b/c other flows might have 
				// different collection of extras, different orders, etc
				if (!carnival.configuration('extras')) {

					//pre-existing from P2P custom section param
					if ((carnival.configuration('skipNewsletters') != "") && ( carnival.configuration('skipNewsletters') !== undefined )) {
						//use same identifying string as the listeners
						extras.push('_carnival_newsletters');
					}


					//finally, assign array to carnival config object
					carnival.configuration('extras',extras);

				} else {
					//or over-ride
					extras = carnival.configuration('extras');
				}

				//autosubscribe - does not need listeners, as is asynchronous and presents no UI.  for verified or unverified users
				if (!!autosubscribe) { 
					try {
						autoSubscribe();
					} catch(e) { carnival.logger.error("Autosubscribe Error: " + e); }
				}

				//verification modal and callbacks - NOTE: for unverified registrants, flow ends here with verification modal & email
				if (!verified) {
					var verifyLink = [signon.originHost,signon.currentPath,'/verify-email.signon'].join('');
					carnival.modal.dropit(true);
					carnival.modal.popit(verifyLink,
						//callback - DO NOT LET USER CLOSE MODAL (ProgReg) --> or close window?
						function() {
							$j('#carnivalModalClose').hide();
							$j('#carnivalModalHead').css('height','12px');
						},
						//closecallback
						function() {
							carnival.user.carnivalLogout;
							if (!!carnival.configuration('nlcallback')) {
								window.location = carnival.configuration('nlcallback');
							}
						});
				} else {
					//if verified registration, drop reg modal and proceed
					carnival.modal.dropit(true);
				}


				//Do extras or, if none, log user in (assumed verified)
				if (!!extras.length) {
					carnival.extras(extras,verified); 
					cul.listen('_carnival_extras_finish',function() {
						cul.fire('_carnival_flow_finish',{remove:true});
					});
				} else if (!!verified) {
					cul.fire('_carnival_flow_finish',{remove:true});
				}

			}; //doAfterPRregistrationFlow
		
		
		//FLOW FOR RETURNING VERIFICATION IN ProgReg CONTEXT
		//NOTE - this flow could be combined with doAfterPRregistration by doing some testing for
		//       verification, but the newly verified user returning to the PR page will never hit regform.js.
		//       So one is truly an after registration flow, and one is not.  Part of the reason for this is 
		//       the desire to show NL modal (an extra) to returning verified users, something otherwise handled on the 
		//       thanks page.
		var doAfterPRverified = function() {
			
			//drop existing modal if still up (and cancel callback in argument)
			carnival.modal.dropit(true);
			
			//if end of flow is reached, log the user in - should kick of ProgReg at that point
			cul.listen('_carnival_flow_finish',function() {
				carnival.user.login();
			});
			
			// Build Extras for this flow - placed w/in individual flow b/c other flows might have 
			// different collection of extras, different orders, etc
			if (!carnival.configuration('extras')) {

				//pre-existing from P2P custom section param
				if ((carnival.configuration('skipNewsletters') != "") && ( carnival.configuration('skipNewsletters') !== undefined )) {
					//use same identifying string as the listeners
					extras.push('_carnival_newsletters');
				}

				//finally, assign array to carnival config object
				carnival.configuration('extras',extras);

			} else {
				//or over-ride
				extras = carnival.configuration('extras');
			}
						
			//Do extras or, if none, log user in (assumed verified)
			if (!!extras.length) {
				carnival.extras(extras,verified); 
				cul.listen('_carnival_extras_finish',function() {
					cul.fire('_carnival_flow_finish',{remove:true});
				});
			} else if (!!verified) {
				cul.fire('_carnival_flow_finish',{remove:true});
			}
						
		} //doAfterPRverified
		
		
		//autoSubscription method
		var autoSubscribe = function() {
			if (!!carnival.configuration('newslist')) {
				var newslist = carnival.configuration('newslist').split(',');
				carnival.subscription.submitNewsletters({subs:newslist,unsubs:[]},
					//success
					function(data) {
						carnival.logger.info('Autosubscribe Success' + data);
					},
					//error
					function(a,b,c) {
						carnival.logger.error("AUTO SUBSCRIBE FAIL" + c);
					});
			} else {
				carnival.logger.info("No Autosubscribe List Found");
			}	
		};
		
		
		//call methods per flow type
		switch(type) {
			case "afterRegistration" : doAfterRegistrationFlow();			   
				break;
			case "afterPRregistration" : doAfterPRregistrationFlow();
				break;
			case "afterPRverified" : doAfterPRverified();
				break;
			default: 
				break;
		}//switch
		
		
	}; //carnival.flows


	/****************************************************
	 *	    Carnival Extras Namespace for Registration
	*****************************************************/

	carnival.extras = function(extrasArray,isVerified) {
		
		var cul = carnival.utils.listener;
		var extrasArray = extrasArray;
		
		//extras currently for verified users only.  if not verified, exit extras
		if (!isVerified) { cul.fire('_carnival_extras_finish',{remove:true}); return false; }
		
		var numOfExtras = (!!extrasArray.length) ? extrasArray.length : 0;
		if (numOfExtras == 0) { carnival.utils.listener.fire('_carnival_extras_finish',{remove:true}); return false; }
				
		var currExtra = 0;
		
		//go to next extra
		var bounceExtra = function() {
			
			//clear previous if hasn't happened already
			if (cul.listening(extrasArray[currExtra])) {
 				cul.kill(extrasArray[currExtra]);
 			}
			
			currExtra++;
						
			//catch any empty extras that might have been passed in
			if (!extrasArray[currExtra]) {
				carnival.logger.error("Empty Extra Called");
				currExtra++;
			}
						
			doExtras();
				
		};
		
		//loop extras Hash
		var doExtras = function() { 
			
			//setup listener string for current extra finish
			var currfinishString = extrasArray[currExtra] + '_finish';
				
			//listen for end or next
			if (currExtra == (numOfExtras-1)) {
				//last extra - on finish exit extras
				cul.listen(currfinishString, function(){
					cul.fire('_carnival_extras_finish',{remove:true});
				});
			} else {
				//on finish of current extra kick off next extra
				cul.listen(currfinishString, function(){
					bounceExtra();
				});
			}
			
			//do current extra and kill listener upon finish
			cul.fire(extrasArray[currExtra], {remove:true});			
			
		}; //doExtra
		
		
		//kick off extras
		doExtras();
				
		
	}; //carnival.extras
	
	
})(jQuery);

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Tue, 16 Mar 2010 03:03:52 GMT
ETag: "1578-4b9ef518"
Accept-Ranges: bytes
Vary: Accept-Encoding
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 5496
---Content---
/**
 * Copyright (c) 2005 - 2010, James Auldridge
 * All rights reserved.
 *
 * Licensed under the BSD, MIT, and GPL (your choice!) Licenses:
 *  http://code.google.com/p/cookies/wiki/License
 *
 */
var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};jaaulde.utils.cookies=(function(){var resolveOptions,assembleOptionsString,parseCookies,constructor,defaultOptions={expiresAt:null,path:'/',domain:null,secure:false};resolveOptions=function(options){var returnValue,expireDate;if(typeof options!=='object'||options===null){returnValue=defaultOptions;}else
{returnValue={expiresAt:defaultOptions.expiresAt,path:defaultOptions.path,domain:defaultOptions.domain,secure:defaultOptions.secure};if(typeof options.expiresAt==='object'&&options.expiresAt instanceof Date){returnValue.expiresAt=options.expiresAt;}else if(typeof options.hoursToLive==='number'&&options.hoursToLive!==0){expireDate=new Date();expireDate.setTime(expireDate.getTime()+(options.hoursToLive*60*60*1000));returnValue.expiresAt=expireDate;}if(typeof options.path==='string'&&options.path!==''){returnValue.path=options.path;}if(typeof options.domain==='string'&&options.domain!==''){returnValue.domain=options.domain;}if(options.secure===true){returnValue.secure=options.secure;}}return returnValue;};assembleOptionsString=function(options){options=resolveOptions(options);return((typeof options.expiresAt==='object'&&options.expiresAt instanceof Date?'; expires='+options.expiresAt.toGMTString():'')+'; path='+options.path+(typeof options.domain==='string'?'; domain='+options.domain:'')+(options.secure===true?'; secure':''));};parseCookies=function(){var cookies={},i,pair,name,value,separated=document.cookie.split(';'),unparsedValue;for(i=0;i<separated.length;i=i+1){pair=separated[i].split('=');name=pair[0].replace(/^\s*/,'').replace(/\s*$/,'');try
{value=decodeURIComponent(pair[1]);}catch(e1){value=pair[1];}if(typeof JSON==='object'&&JSON!==null&&typeof JSON.parse==='function'){try
{unparsedValue=value;value=JSON.parse(value);}catch(e2){value=unparsedValue;}}cookies[name]=value;}return cookies;};constructor=function(){};constructor.prototype.get=function(cookieName){var returnValue,item,cookies=parseCookies();if(typeof cookieName==='string'){returnValue=(typeof cookies[cookieName]!=='undefined')?cookies[cookieName]:null;}else if(typeof cookieName==='object'&&cookieName!==null){returnValue={};for(item in cookieName){if(typeof cookies[cookieName[item]]!=='undefined'){returnValue[cookieName[item]]=cookies[cookieName[item]];}else
{returnValue[cookieName[item]]=null;}}}else
{returnValue=cookies;}return returnValue;};constructor.prototype.filter=function(cookieNameRegExp){var cookieName,returnValue={},cookies=parseCookies();if(typeof cookieNameRegExp==='string'){cookieNameRegExp=new RegExp(cookieNameRegExp);}for(cookieName in cookies){if(cookieName.match(cookieNameRegExp)){returnValue[cookieName]=cookies[cookieName];}}return returnValue;};constructor.prototype.set=function(cookieName,value,options){if(typeof options!=='object'||options===null){options={};}if(typeof value==='undefined'||value===null){value='';options.hoursToLive=-8760;}else if(typeof value!=='string'){if(typeof JSON==='object'&&JSON!==null&&typeof JSON.stringify==='function'){value=JSON.stringify(value);}else
{throw new Error('cookies.set() received non-string value and could not serialize.');}}var optionsString=assembleOptionsString(options);document.cookie=cookieName+'='+encodeURIComponent(value)+optionsString;};constructor.prototype.del=function(cookieName,options){var allCookies={},name;if(typeof options!=='object'||options===null){options={};}if(typeof cookieName==='boolean'&&cookieName===true){allCookies=this.get();}else if(typeof cookieName==='string'){allCookies[cookieName]=true;}for(name in allCookies){if(typeof name==='string'&&name!==''){this.set(name,null,options);}}};constructor.prototype.test=function(){var returnValue=false,testName='cT',testValue='data';this.set(testName,testValue);if(this.get(testName)===testValue){this.del(testName);returnValue=true;}return returnValue;};constructor.prototype.setOptions=function(options){if(typeof options!=='object'){options=null;}defaultOptions=resolveOptions(options);};return new constructor();})();(function(){if(window.jQuery){(function($){$.cookies=jaaulde.utils.cookies;var extensions={cookify:function(options){return this.each(function(){var i,nameAttrs=['name','id'],name,$this=$(this),value;for(i in nameAttrs){if(!isNaN(i)){name=$this.attr(nameAttrs[i]);if(typeof name==='string'&&name!==''){if($this.is(':checkbox, :radio')){if($this.attr('checked')){value=$this.val();}}else if($this.is(':input')){value=$this.val();}else
{value=$this.html();}if(typeof value!=='string'||value===''){value=null;}$.cookies.set(name,value,options);break;}}}});},cookieFill:function(){return this.each(function(){var n,getN,nameAttrs=['name','id'],name,$this=$(this),value;getN=function(){n=nameAttrs.pop();return!!n;};while(getN()){name=$this.attr(n);if(typeof name==='string'&&name!==''){value=$.cookies.get(name);if(value!==null){if($this.is(':checkbox, :radio')){if($this.val()===value){$this.attr('checked','checked');}else
{$this.removeAttr('checked');}}else if($this.is(':input')){$this.val(value);}else
{$this.html(value);}}break;}}});},cookieBind:function(options){return this.each(function(){var $this=$(this);$this.cookieFill().change(function(){$this.cookify(options);});});}};$.each(extensions,function(i){$.fn[i]=this;});})(window.jQuery);}})();
---End---

Server writes a chunk to client
---------
org.jboss.netty.handler.codec.http.HttpChunk$1@194266e5
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Type: application/x-javascript
Vary: accept-encoding
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 27 Aug 2009 02:02:39 GMT
ETag: "1fe-4a95e93f"
Accept-Ranges: bytes
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
Content-Encoding: identity
Content-Length: 1260
---Content---

var textsizeCookieVal = readCookie('textSize'),
currentSize = textsizeCookieVal != null ? parseInt(textsizeCookieVal) :  3;

function textSize(type) {
	var sizes = ['xxsmall', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'xxlarge'],
	sizeVal,
	defaultSize,
	d = document,
	x;

	if (currentSize > 6 || currentSize < 0) return;

	if (type == 'increase') {
		if (currentSize > 5) return;
		currentSize++;
	} else if (type == 'decrease') {
		if (currentSize < 1) return;
		currentSize--;
	}

	sizeVal = sizes[currentSize];
	defaultSize = currentSize == 3;

	if (defaultSize && !type) return;

	if ((x = d.getElementById('story-body-text') || d.getElementById('story-body'))) {
		x.className = sizeVal;
	}
	if ((x = d.getElementById('story-body2'))) {
		x.className = sizeVal;
	}
	if ($$('.galleryModule')) {
		$$('.galleryModule p').each(function(s) {
			if (s.hasClassName('date')) {
				s.className = 'date' + (defaultSize ? '' : ' ' + sizeVal);  
			} else {
				s.className = sizeVal;
			}
		});
		$$('.galleryModule h3').each(function(s) {
			s.className = defaultSize ? '' : sizeVal; 
		});
	}

	if (typeof resetInlineAds != 'undefined') {
		resetInlineAds();
	}

	if (type) {
		eraseCookie('textSize');
		createCookie('textSize', currentSize, 365);
	}
}
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/images/subnav_bg.gif HTTP/1.1
Accept: image/png, image/svg+xml, image/*;q=0.8, */*;q=0.5
Referer: http://www.latimes.com/news/nationworld/nation/la-na-panetta-troops-20120505,0,5233840.story
Accept-Language: en-US
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Accept-Encoding: gzip, deflate
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Length: 1995
Content-Type: image/gif
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Wed, 05 Aug 2009 23:04:40 GMT
ETag: "7cb-4a7a1008"
Accept-Ranges: bytes
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
---Content---
GIF89a)   !     ,    )   #dihlp,tmx|pH,?rl:tJZvzxL.zn|N~????A?	HEX#JH3j? CI(S\0cI3=8s@
JH*]PJ?JXj`Z)h]p?KL+^?#KL3kCS^cMsN+_;0kOt_O (h?&6F(?`fv ($h(,0(4h?8<?4Nw?DiH&L6PF)TViXfGNW`)dihlp)ti?x|*j96?F*Vjfv*j*t+k&6F+Vkfv+!`+k ,l'7OgWlgw ,$l(,0,4l8<<@-DmH'L7PG-TWmXg\w`-dmhtp-tmx|.n'7?G.Wn4w.n.n/@$7G/Wogw/o/o  H}:?'H
Z7z GH(L
W0g8w@H"HL&:PH*ZX.z` @2hL6?pH:x>? IB?L"F
x$'IJZ&7Nz(GIRL*WV,gIZ._y<0IbL2f:4IjZ6nz8Ir<^v?<Iz>~ @JMB:?D'J6@F7z HGJ(MJW0?LgJ8Nw@Poh`HMR:P?TJZX\`XJhMZp?\Jx^`K:0 h??d'KZf7zhGKMjW?lgKM-`?\plnKMr:?t[Z,HzxKMz?|K~ Lx@B  ;
---End---

Client writes to server
---------
DefaultHttpRequest(chunked: false)
GET http://www.latimes.com/favicon.ico HTTP/1.1
Accept: */*
Accept-Encoding: gzip, deflate
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)
Host: www.latimes.com
Proxy-Connection: Keep-Alive
---Content---

---End---

Server writes to client
---------
DefaultHttpResponse(chunked: false)
HTTP/1.1 200 OK
Server: Sun-ONE-Web-Server/6.1
Content-Length: 318
Content-Type: image/x-icon
P3P: policyref="http://www.latimes.com/w3c/p3p.xml", CP="CAO DSP CURa ADMa DEVa TAIa PSAa PSDa IVAi IVDi CONi TELi OUR DELa SAMi UNRi OTRi IND PHY ONL UNI PUR COM NAV INT DEM STA POL HEA PRE"
Last-Modified: Thu, 16 Dec 2010 21:39:49 GMT
ETag: "13e-4d0a8725"
Accept-Ranges: bytes
Date: Sat, 05 May 2012 00:39:03 GMT
Connection: keep-alive
---Content---
       (     (                               000       ppp      ```  @@@          .;mR}}=.N;?>  r   P   o   i   e                                     T  T
---End---

